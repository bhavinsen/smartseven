var x_=Object.defineProperty,P_=Object.defineProperties;var M_=Object.getOwnPropertyDescriptors;var ia=Object.getOwnPropertySymbols;var Yf=Object.prototype.hasOwnProperty,Wf=Object.prototype.propertyIsEnumerable;var Hf=(e,t,n)=>t in e?x_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))Yf.call(t,n)&&Hf(e,n,t[n]);if(ia)for(var n of ia(t))Wf.call(t,n)&&Hf(e,n,t[n]);return e},Dt=(e,t)=>P_(e,M_(t));var dn=(e,t)=>{var n={};for(var r in e)Yf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ia)for(var r of ia(e))t.indexOf(r)<0&&Wf.call(e,r)&&(n[r]=e[r]);return n};function Ih(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const N_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",L_=Ih(N_);function xg(e){return!!e||e===""}function Tl(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=at(r)?$_(r):Tl(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(at(e))return e;if(nt(e))return e}}const F_=/;(?![^(]*\))/g,U_=/:(.+)/;function $_(e){const t={};return e.split(F_).forEach(n=>{if(n){const r=n.split(U_);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Sl(e){let t="";if(at(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=Sl(e[n]);r&&(t+=r+" ")}else if(nt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function HF(e){if(!e)return null;let{class:t,style:n}=e;return t&&!at(t)&&(e.class=Sl(t)),n&&(e.style=Tl(n)),e}function V_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=os(e[r],t[r]);return n}function os(e,t){if(e===t)return!0;let n=qf(e),r=qf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ee(e),r=ee(t),n||r)return n&&r?V_(e,t):!1;if(n=nt(e),r=nt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!os(e[o],t[o]))return!1}}return String(e)===String(t)}function kh(e,t){return e.findIndex(n=>os(n,t))}const YF=e=>at(e)?e:e==null?"":ee(e)||nt(e)&&(e.toString===Ng||!me(e.toString))?JSON.stringify(e,Pg,2):String(e),Pg=(e,t)=>t&&t.__v_isRef?Pg(e,t.value):Hs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:pi(t)?{[`Set(${t.size})`]:[...t.values()]}:nt(t)&&!ee(t)&&!Lg(t)?String(t):t,Ve={},Bs=[],gn=()=>{},j_=()=>!1,B_=/^on[^a-z]/,Il=e=>B_.test(e),Ch=e=>e.startsWith("onUpdate:"),Et=Object.assign,Ah=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},H_=Object.prototype.hasOwnProperty,Te=(e,t)=>H_.call(e,t),ee=Array.isArray,Hs=e=>kl(e)==="[object Map]",pi=e=>kl(e)==="[object Set]",qf=e=>e instanceof Date,me=e=>typeof e=="function",at=e=>typeof e=="string",Oh=e=>typeof e=="symbol",nt=e=>e!==null&&typeof e=="object",Mg=e=>nt(e)&&me(e.then)&&me(e.catch),Ng=Object.prototype.toString,kl=e=>Ng.call(e),Y_=e=>kl(e).slice(8,-1),Lg=e=>kl(e)==="[object Object]",Rh=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ea=Ih(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},W_=/-(\w)/g,xn=Cl(e=>e.replace(W_,(t,n)=>n?n.toUpperCase():"")),q_=/\B([A-Z])/g,ys=Cl(e=>e.replace(q_,"-$1").toLowerCase()),Al=Cl(e=>e.charAt(0).toUpperCase()+e.slice(1)),xu=Cl(e=>e?`on${Al(e)}`:""),no=(e,t)=>!Object.is(e,t),Ta=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Na=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ro=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kf;const K_=()=>Kf||(Kf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class Fg{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(t){if(this.active)try{return en=this,t()}finally{en=this.parent}}on(){en=this}off(){en=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Ug(e){return new Fg(e)}function z_(e,t=en){t&&t.active&&t.effects.push(e)}function G_(){return en}function J_(e){en&&en.cleanups.push(e)}const Dh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},$g=e=>(e.w&Rr)>0,Vg=e=>(e.n&Rr)>0,Q_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Rr},X_=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];$g(s)&&!Vg(s)?s.delete(e):t[n++]=s,s.w&=~Rr,s.n&=~Rr}t.length=n}},gc=new WeakMap;let Ui=0,Rr=1;const vc=30;let An;const es=Symbol(""),yc=Symbol("");class xh{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,z_(this,r)}run(){if(!this.active)return this.fn();let t=An,n=Ir;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=An,An=this,Ir=!0,Rr=1<<++Ui,Ui<=vc?Q_(this):zf(this),this.fn()}finally{Ui<=vc&&X_(this),Rr=1<<--Ui,An=this.parent,Ir=n,this.parent=void 0}}stop(){this.active&&(zf(this),this.onStop&&this.onStop(),this.active=!1)}}function zf(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ir=!0;const jg=[];function mi(){jg.push(Ir),Ir=!1}function gi(){const e=jg.pop();Ir=e===void 0?!0:e}function Gt(e,t,n){if(Ir&&An){let r=gc.get(e);r||gc.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Dh()),Bg(s)}}function Bg(e,t){let n=!1;Ui<=vc?Vg(e)||(e.n|=Rr,n=!$g(e)):n=!e.has(An),n&&(e.add(An),An.deps.push(e))}function er(e,t,n,r,s,i){const o=gc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ee(e))o.forEach((l,u)=>{(u==="length"||u>=r)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ee(e)?Rh(n)&&a.push(o.get("length")):(a.push(o.get(es)),Hs(e)&&a.push(o.get(yc)));break;case"delete":ee(e)||(a.push(o.get(es)),Hs(e)&&a.push(o.get(yc)));break;case"set":Hs(e)&&a.push(o.get(es));break}if(a.length===1)a[0]&&wc(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);wc(Dh(l))}}function wc(e,t){for(const n of ee(e)?e:[...e])(n!==An||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Z_=Ih("__proto__,__v_isRef,__isVue"),Hg=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Oh)),eE=Ph(),tE=Ph(!1,!0),nE=Ph(!0),Gf=rE();function rE(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=le(this);for(let i=0,o=this.length;i<o;i++)Gt(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(le)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mi();const r=le(this)[t].apply(this,n);return gi(),r}}),e}function Ph(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?wE:zg:t?Kg:qg).get(r))return r;const o=ee(r);if(!e&&o&&Te(Gf,s))return Reflect.get(Gf,s,i);const a=Reflect.get(r,s,i);return(Oh(s)?Hg.has(s):Z_(s))||(e||Gt(r,"get",s),t)?a:Ye(a)?!o||!Rh(s)?a.value:a:nt(a)?e?Gg(a):ws(a):a}}const sE=Yg(),iE=Yg(!0);function Yg(e=!1){return function(n,r,s,i){let o=n[r];if(so(o)&&Ye(o)&&!Ye(s))return!1;if(!e&&!so(s)&&(Jg(s)||(s=le(s),o=le(o)),!ee(n)&&Ye(o)&&!Ye(s)))return o.value=s,!0;const a=ee(n)&&Rh(r)?Number(r)<n.length:Te(n,r),l=Reflect.set(n,r,s,i);return n===le(i)&&(a?no(s,o)&&er(n,"set",r,s):er(n,"add",r,s)),l}}function oE(e,t){const n=Te(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&er(e,"delete",t,void 0),r}function aE(e,t){const n=Reflect.has(e,t);return(!Oh(t)||!Hg.has(t))&&Gt(e,"has",t),n}function lE(e){return Gt(e,"iterate",ee(e)?"length":es),Reflect.ownKeys(e)}const Wg={get:eE,set:sE,deleteProperty:oE,has:aE,ownKeys:lE},uE={get:nE,set(e,t){return!0},deleteProperty(e,t){return!0}},cE=Et({},Wg,{get:tE,set:iE}),Mh=e=>e,Ol=e=>Reflect.getPrototypeOf(e);function oa(e,t,n=!1,r=!1){e=e.__v_raw;const s=le(e),i=le(t);t!==i&&!n&&Gt(s,"get",t),!n&&Gt(s,"get",i);const{has:o}=Ol(s),a=r?Mh:n?Fh:io;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function aa(e,t=!1){const n=this.__v_raw,r=le(n),s=le(e);return e!==s&&!t&&Gt(r,"has",e),!t&&Gt(r,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function la(e,t=!1){return e=e.__v_raw,!t&&Gt(le(e),"iterate",es),Reflect.get(e,"size",e)}function Jf(e){e=le(e);const t=le(this);return Ol(t).has.call(t,e)||(t.add(e),er(t,"add",e,e)),this}function Qf(e,t){t=le(t);const n=le(this),{has:r,get:s}=Ol(n);let i=r.call(n,e);i||(e=le(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?no(t,o)&&er(n,"set",e,t):er(n,"add",e,t),this}function Xf(e){const t=le(this),{has:n,get:r}=Ol(t);let s=n.call(t,e);s||(e=le(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&er(t,"delete",e,void 0),i}function Zf(){const e=le(this),t=e.size!==0,n=e.clear();return t&&er(e,"clear",void 0,void 0),n}function ua(e,t){return function(r,s){const i=this,o=i.__v_raw,a=le(o),l=t?Mh:e?Fh:io;return!e&&Gt(a,"iterate",es),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function ca(e,t,n){return function(...r){const s=this.__v_raw,i=le(s),o=Hs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=s[e](...r),c=n?Mh:t?Fh:io;return!t&&Gt(i,"iterate",l?yc:es),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:this}}function hE(){const e={get(i){return oa(this,i)},get size(){return la(this)},has:aa,add:Jf,set:Qf,delete:Xf,clear:Zf,forEach:ua(!1,!1)},t={get(i){return oa(this,i,!1,!0)},get size(){return la(this)},has:aa,add:Jf,set:Qf,delete:Xf,clear:Zf,forEach:ua(!1,!0)},n={get(i){return oa(this,i,!0)},get size(){return la(this,!0)},has(i){return aa.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:ua(!0,!1)},r={get(i){return oa(this,i,!0,!0)},get size(){return la(this,!0)},has(i){return aa.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:ua(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ca(i,!1,!1),n[i]=ca(i,!0,!1),t[i]=ca(i,!1,!0),r[i]=ca(i,!0,!0)}),[e,n,t,r]}const[dE,fE,pE,mE]=hE();function Nh(e,t){const n=t?e?mE:pE:e?fE:dE;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Te(n,s)&&s in r?n:r,s,i)}const gE={get:Nh(!1,!1)},vE={get:Nh(!1,!0)},yE={get:Nh(!0,!1)},qg=new WeakMap,Kg=new WeakMap,zg=new WeakMap,wE=new WeakMap;function bE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _E(e){return e.__v_skip||!Object.isExtensible(e)?0:bE(Y_(e))}function ws(e){return so(e)?e:Lh(e,!1,Wg,gE,qg)}function EE(e){return Lh(e,!1,cE,vE,Kg)}function Gg(e){return Lh(e,!0,uE,yE,zg)}function Lh(e,t,n,r,s){if(!nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=_E(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Qn(e){return so(e)?Qn(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function Jg(e){return!!(e&&e.__v_isShallow)}function Qg(e){return Qn(e)||so(e)}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function Xs(e){return Na(e,"__v_skip",!0),e}const io=e=>nt(e)?ws(e):e,Fh=e=>nt(e)?Gg(e):e;function Xg(e){Ir&&An&&(e=le(e),Bg(e.dep||(e.dep=Dh())))}function Zg(e,t){e=le(e),e.dep&&wc(e.dep)}function Ye(e){return!!(e&&e.__v_isRef===!0)}function M(e){return tv(e,!1)}function ev(e){return tv(e,!0)}function tv(e,t){return Ye(e)?e:new TE(e,t)}class TE{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:le(t),this._value=n?t:io(t)}get value(){return Xg(this),this._value}set value(t){t=this.__v_isShallow?t:le(t),no(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:io(t),Zg(this))}}function On(e){return Ye(e)?e.value:e}const SE={get:(e,t,n)=>On(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ye(s)&&!Ye(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function nv(e){return Qn(e)?e:new Proxy(e,SE)}function IE(e){const t=ee(e)?new Array(e.length):{};for(const n in e)t[n]=rv(e,n);return t}class kE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function rv(e,t,n){const r=e[t];return Ye(r)?r:new kE(e,t,n)}class CE{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new xh(t,()=>{this._dirty||(this._dirty=!0,Zg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=le(this);return Xg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function AE(e,t,n=!1){let r,s;const i=me(e);return i?(r=e,s=gn):(r=e.get,s=e.set),new CE(r,s,i||!s,n)}Promise.resolve();function kr(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Rl(i,t,n)}return s}function rn(e,t,n,r){if(me(e)){const i=kr(e,t,n,r);return i&&Mg(i)&&i.catch(o=>{Rl(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(rn(e[i],t,n,r));return s}function Rl(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){kr(l,null,10,[e,o,a]);return}}OE(e,n,s,r)}function OE(e,t,n,r=!0){console.error(e)}let La=!1,bc=!1;const Yt=[];let Yn=0;const ji=[];let $i=null,Ns=0;const Bi=[];let mr=null,Ls=0;const sv=Promise.resolve();let Uh=null,_c=null;function Ae(e){const t=Uh||sv;return e?t.then(this?e.bind(this):e):t}function RE(e){let t=Yn+1,n=Yt.length;for(;t<n;){const r=t+n>>>1;oo(Yt[r])<e?t=r+1:n=r}return t}function iv(e){(!Yt.length||!Yt.includes(e,La&&e.allowRecurse?Yn+1:Yn))&&e!==_c&&(e.id==null?Yt.push(e):Yt.splice(RE(e.id),0,e),ov())}function ov(){!La&&!bc&&(bc=!0,Uh=sv.then(uv))}function DE(e){const t=Yt.indexOf(e);t>Yn&&Yt.splice(t,1)}function av(e,t,n,r){ee(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),ov()}function xE(e){av(e,$i,ji,Ns)}function PE(e){av(e,mr,Bi,Ls)}function $h(e,t=null){if(ji.length){for(_c=t,$i=[...new Set(ji)],ji.length=0,Ns=0;Ns<$i.length;Ns++)$i[Ns]();$i=null,Ns=0,_c=null,$h(e,t)}}function lv(e){if(Bi.length){const t=[...new Set(Bi)];if(Bi.length=0,mr){mr.push(...t);return}for(mr=t,mr.sort((n,r)=>oo(n)-oo(r)),Ls=0;Ls<mr.length;Ls++)mr[Ls]();mr=null,Ls=0}}const oo=e=>e.id==null?1/0:e.id;function uv(e){bc=!1,La=!0,$h(e),Yt.sort((n,r)=>oo(n)-oo(r));const t=gn;try{for(Yn=0;Yn<Yt.length;Yn++){const n=Yt[Yn];n&&n.active!==!1&&kr(n,null,14)}}finally{Yn=0,Yt.length=0,lv(),La=!1,Uh=null,(Yt.length||ji.length||Bi.length)&&uv(e)}}function ME(e,t,...n){const r=e.vnode.props||Ve;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[c]||Ve;d?s=n.map(f=>f.trim()):h&&(s=n.map(ro))}let a,l=r[a=xu(t)]||r[a=xu(xn(t))];!l&&i&&(l=r[a=xu(ys(t))]),l&&rn(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rn(u,e,6,s)}}function cv(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!me(e)){const l=u=>{const c=cv(u,t,!0);c&&(a=!0,Et(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(r.set(e,null),null):(ee(i)?i.forEach(l=>o[l]=null):Et(o,i),r.set(e,o),o)}function Vh(e,t){return!e||!Il(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,ys(t))||Te(e,t))}let Wt=null,hv=null;function Fa(e){const t=Wt;return Wt=e,hv=e&&e.type.__scopeId||null,t}function NE(e,t=Wt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&hp(-1);const i=Fa(t),o=e(...s);return Fa(i),r._d&&hp(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function Pu(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=e;let y,w;const _=Fa(e);try{if(n.shapeFlag&4){const x=s||r;y=kn(c.call(x,x,h,i,f,d,p)),w=l}else{const x=t;y=kn(x.length>1?x(i,{attrs:l,slots:a,emit:u}):x(i,null)),w=t.props?l:LE(l)}}catch(x){Yi.length=0,Rl(x,e,1),y=yt(vn)}let I=y;if(w&&g!==!1){const x=Object.keys(w),{shapeFlag:W}=I;x.length&&W&7&&(o&&x.some(Ch)&&(w=FE(w,o)),I=as(I,w))}return n.dirs&&(I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),y=I,Fa(_),y}const LE=e=>{let t;for(const n in e)(n==="class"||n==="style"||Il(n))&&((t||(t={}))[n]=e[n]);return t},FE=(e,t)=>{const n={};for(const r in e)(!Ch(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function UE(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ep(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!Vh(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ep(r,o,u):!0:!!o;return!1}function ep(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Vh(n,i))return!0}return!1}function $E({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const VE=e=>e.__isSuspense;function jE(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):PE(e)}function qe(e,t){if(ht){let n=ht.provides;const r=ht.parent&&ht.parent.provides;r===n&&(n=ht.provides=Object.create(r)),n[e]=t}}function Se(e,t,n=!1){const r=ht||Wt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&me(t)?t.call(r.proxy):t}}function tt(e,t){return jh(e,null,t)}const tp={};function kt(e,t,n){return jh(e,t,n)}function jh(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Ve){const a=ht;let l,u=!1,c=!1;if(Ye(e)?(l=()=>e.value,u=Jg(e)):Qn(e)?(l=()=>e,r=!0):ee(e)?(c=!0,u=e.some(Qn),l=()=>e.map(w=>{if(Ye(w))return w.value;if(Qn(w))return zr(w);if(me(w))return kr(w,a,2)})):me(e)?t?l=()=>kr(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),rn(e,a,3,[d])}:l=gn,t&&r){const w=l;l=()=>zr(w())}let h,d=w=>{h=y.onStop=()=>{kr(w,a,4)}};if(ao)return d=gn,t?n&&rn(t,a,3,[l(),c?[]:void 0,d]):l(),gn;let f=c?[]:tp;const p=()=>{if(!!y.active)if(t){const w=y.run();(r||u||(c?w.some((_,I)=>no(_,f[I])):no(w,f)))&&(h&&h(),rn(t,a,3,[w,f===tp?void 0:f,d]),f=w)}else y.run()};p.allowRecurse=!!t;let g;s==="sync"?g=p:s==="post"?g=()=>Lt(p,a&&a.suspense):g=()=>{!a||a.isMounted?xE(p):p()};const y=new xh(l,g);return t?n?p():f=y.run():s==="post"?Lt(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&Ah(a.scope.effects,y)}}function BE(e,t,n){const r=this.proxy,s=at(e)?e.includes(".")?dv(r,e):()=>r[e]:e.bind(r,r);let i;me(t)?i=t:(i=t.handler,n=t);const o=ht;Zs(this);const a=jh(s,i.bind(r),n);return o?Zs(o):ns(),a}function dv(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function zr(e,t){if(!nt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ye(e))zr(e.value,t);else if(ee(e))for(let n=0;n<e.length;n++)zr(e[n],t);else if(pi(e)||Hs(e))e.forEach(n=>{zr(n,t)});else if(Lg(e))for(const n in e)zr(e[n],t);return e}function HE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return et(()=>{e.isMounted=!0}),vv(()=>{e.isUnmounting=!0}),e}const Zt=[Function,Array],YE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},setup(e,{slots:t}){const n=Ro(),r=HE();let s;return()=>{const i=t.default&&mv(t.default(),!0);if(!i||!i.length)return;const o=le(e),{mode:a}=o,l=i[0];if(r.isLeaving)return Mu(l);const u=np(l);if(!u)return Mu(l);const c=Ec(u,o,r,n);Tc(u,c);const h=n.subTree,d=h&&np(h);let f=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();s===void 0?s=g:g!==s&&(s=g,f=!0)}if(d&&d.type!==vn&&(!qr(u,d)||f)){const g=Ec(d,o,r,n);if(Tc(d,g),a==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update()},Mu(l);a==="in-out"&&u.type!==vn&&(g.delayLeave=(y,w,_)=>{const I=pv(r,d);I[String(d.key)]=d,y._leaveCb=()=>{w(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=_})}return l}}},fv=YE;function pv(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ec(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:w,onAppearCancelled:_}=t,I=String(e.key),x=pv(n,e),W=(R,ce)=>{R&&rn(R,r,9,ce)},Y={mode:i,persisted:o,beforeEnter(R){let ce=a;if(!n.isMounted)if(s)ce=g||a;else return;R._leaveCb&&R._leaveCb(!0);const te=x[I];te&&qr(e,te)&&te.el._leaveCb&&te.el._leaveCb(),W(ce,[R])},enter(R){let ce=l,te=u,we=c;if(!n.isMounted)if(s)ce=y||l,te=w||u,we=_||c;else return;let Ne=!1;const z=R._enterCb=Oe=>{Ne||(Ne=!0,Oe?W(we,[R]):W(te,[R]),Y.delayedLeave&&Y.delayedLeave(),R._enterCb=void 0)};ce?(ce(R,z),ce.length<=1&&z()):z()},leave(R,ce){const te=String(e.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return ce();W(h,[R]);let we=!1;const Ne=R._leaveCb=z=>{we||(we=!0,ce(),z?W(p,[R]):W(f,[R]),R._leaveCb=void 0,x[te]===e&&delete x[te])};x[te]=e,d?(d(R,Ne),d.length<=1&&Ne()):Ne()},clone(R){return Ec(R,t,n,r)}};return Y}function Mu(e){if(Dl(e))return e=as(e),e.children=null,e}function np(e){return Dl(e)?e.children?e.children[0]:void 0:e}function Tc(e,t){e.shapeFlag&6&&e.component?Tc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function mv(e,t=!1){let n=[],r=0;for(let s=0;s<e.length;s++){const i=e[s];i.type===tn?(i.patchFlag&128&&r++,n=n.concat(mv(i.children,t))):(t||i.type!==vn)&&n.push(i)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function ie(e){return me(e)?{setup:e,name:e.name}:e}const Sc=e=>!!e.type.__asyncLoader,Dl=e=>e.type.__isKeepAlive;function WE(e,t){gv(e,"a",t)}function qE(e,t){gv(e,"da",t)}function gv(e,t,n=ht){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(xl(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Dl(s.parent.vnode)&&KE(r,t,n,s),s=s.parent}}function KE(e,t,n,r){const s=xl(t,e,r,!0);mt(()=>{Ah(r[t],s)},n)}function xl(e,t,n=ht,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;mi(),Zs(n);const a=rn(t,n,e,o);return ns(),gi(),a});return r?s.unshift(i):s.push(i),i}}const sr=e=>(t,n=ht)=>(!ao||e==="sp")&&xl(e,t,n),zE=sr("bm"),et=sr("m"),GE=sr("bu"),Bh=sr("u"),vv=sr("bum"),mt=sr("um"),JE=sr("sp"),QE=sr("rtg"),XE=sr("rtc");function ZE(e,t=ht){xl("ec",e,t)}let Ic=!0;function eT(e){const t=wv(e),n=e.proxy,r=e.ctx;Ic=!1,t.beforeCreate&&rp(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:w,beforeUnmount:_,destroyed:I,unmounted:x,render:W,renderTracked:Y,renderTriggered:R,errorCaptured:ce,serverPrefetch:te,expose:we,inheritAttrs:Ne,components:z,directives:Oe,filters:xe}=t;if(u&&tT(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const Re in o){const Le=o[Re];me(Le)&&(r[Re]=Le.bind(n))}if(s){const Re=s.call(n,n);nt(Re)&&(e.data=ws(Re))}if(Ic=!0,i)for(const Re in i){const Le=i[Re],jt=me(Le)?Le.bind(n,n):me(Le.get)?Le.get.bind(n,n):gn,Cs=!me(Le)&&me(Le.set)?Le.set.bind(n):gn,Vn=F({get:jt,set:Cs});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>Vn.value,set:Tn=>Vn.value=Tn})}if(a)for(const Re in a)yv(a[Re],r,n,Re);if(l){const Re=me(l)?l.call(n):l;Reflect.ownKeys(Re).forEach(Le=>{qe(Le,Re[Le])})}c&&rp(c,e,"c");function Ge(Re,Le){ee(Le)?Le.forEach(jt=>Re(jt.bind(n))):Le&&Re(Le.bind(n))}if(Ge(zE,h),Ge(et,d),Ge(GE,f),Ge(Bh,p),Ge(WE,g),Ge(qE,y),Ge(ZE,ce),Ge(XE,Y),Ge(QE,R),Ge(vv,_),Ge(mt,x),Ge(JE,te),ee(we))if(we.length){const Re=e.exposed||(e.exposed={});we.forEach(Le=>{Object.defineProperty(Re,Le,{get:()=>n[Le],set:jt=>n[Le]=jt})})}else e.exposed||(e.exposed={});W&&e.render===gn&&(e.render=W),Ne!=null&&(e.inheritAttrs=Ne),z&&(e.components=z),Oe&&(e.directives=Oe)}function tT(e,t,n=gn,r=!1){ee(e)&&(e=kc(e));for(const s in e){const i=e[s];let o;nt(i)?"default"in i?o=Se(i.from||s,i.default,!0):o=Se(i.from||s):o=Se(i),Ye(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function rp(e,t,n){rn(ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function yv(e,t,n,r){const s=r.includes(".")?dv(n,r):()=>n[r];if(at(e)){const i=t[e];me(i)&&kt(s,i)}else if(me(e))kt(s,e.bind(n));else if(nt(e))if(ee(e))e.forEach(i=>yv(i,t,n,r));else{const i=me(e.handler)?e.handler.bind(n):t[e.handler];me(i)&&kt(s,i,e)}}function wv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>Ua(l,u,o,!0)),Ua(l,t,o)),i.set(t,l),l}function Ua(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ua(e,i,n,!0),s&&s.forEach(o=>Ua(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=nT[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const nT={data:sp,props:Yr,emits:Yr,methods:Yr,computed:Yr,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:Yr,directives:Yr,watch:sT,provide:sp,inject:rT};function sp(e,t){return t?e?function(){return Et(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function rT(e,t){return Yr(kc(e),kc(t))}function kc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xt(e,t){return e?[...new Set([].concat(e,t))]:t}function Yr(e,t){return e?Et(Et(Object.create(null),e),t):t}function sT(e,t){if(!e)return t;if(!t)return e;const n=Et(Object.create(null),e);for(const r in t)n[r]=xt(e[r],t[r]);return n}function iT(e,t,n,r=!1){const s={},i={};Na(i,Pl,1),e.propsDefaults=Object.create(null),bv(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:EE(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function oT(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=le(s),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];const f=t[d];if(l)if(Te(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const p=xn(d);s[p]=Cc(l,a,p,f,e,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{bv(e,t,s,i)&&(u=!0);let c;for(const h in a)(!t||!Te(t,h)&&((c=ys(h))===h||!Te(t,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=Cc(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!Te(t,h)&&!0)&&(delete i[h],u=!0)}u&&er(e,"set","$attrs")}function bv(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ea(l))continue;const u=t[l];let c;s&&Te(s,c=xn(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Vh(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=le(n),u=a||Ve;for(let c=0;c<i.length;c++){const h=i[c];n[h]=Cc(s,l,h,u[h],e,!Te(u,h))}}return o}function Cc(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Te(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&me(l)){const{propsDefaults:u}=s;n in u?r=u[n]:(Zs(s),r=u[n]=l.call(null,t),ns())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ys(n))&&(r=!0))}return r}function _v(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!me(e)){const c=h=>{l=!0;const[d,f]=_v(h,t,!0);Et(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return r.set(e,Bs),Bs;if(ee(i))for(let c=0;c<i.length;c++){const h=xn(i[c]);ip(h)&&(o[h]=Ve)}else if(i)for(const c in i){const h=xn(c);if(ip(h)){const d=i[c],f=o[h]=ee(d)||me(d)?{type:d}:d;if(f){const p=lp(Boolean,f.type),g=lp(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||Te(f,"default"))&&a.push(h)}}}const u=[o,a];return r.set(e,u),u}function ip(e){return e[0]!=="$"}function op(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function ap(e,t){return op(e)===op(t)}function lp(e,t){return ee(t)?t.findIndex(n=>ap(n,e)):me(t)&&ap(t,e)?0:-1}const Ev=e=>e[0]==="_"||e==="$stable",Hh=e=>ee(e)?e.map(kn):[kn(e)],aT=(e,t,n)=>{const r=NE((...s)=>Hh(t(...s)),n);return r._c=!1,r},Tv=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ev(s))continue;const i=e[s];if(me(i))t[s]=aT(s,i,r);else if(i!=null){const o=Hh(i);t[s]=()=>o}}},Sv=(e,t)=>{const n=Hh(t);e.slots.default=()=>n},lT=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=le(t),Na(t,"_",n)):Tv(t,e.slots={})}else e.slots={},t&&Sv(e,t);Na(e.slots,Pl,1)},uT=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Ve;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Et(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Tv(t,s)),o=t}else t&&(Sv(e,t),o={default:1});if(i)for(const a in s)!Ev(a)&&!(a in o)&&delete s[a]};function WF(e,t){const n=Wt;if(n===null)return e;const r=n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,u=Ve]=t[i];me(o)&&(o={mounted:o,updated:o}),o.deep&&zr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u})}return e}function $r(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(mi(),rn(l,n,8,[e.el,a,e,t]),gi())}}function Iv(){return{app:null,config:{isNativeTag:j_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cT=0;function hT(e,t){return function(r,s=null){s!=null&&!nt(s)&&(s=null);const i=Iv(),o=new Set;let a=!1;const l=i.app={_uid:cT++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:LT,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&me(u.install)?(o.add(u),u.install(l,...c)):me(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const d=yt(r,s);return d.appContext=i,c&&t?t(d,u):e(d,u,h),a=!0,l._container=u,u.__vue_app__=l,Kh(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l}};return l}}function Ac(e,t,n,r,s=!1){if(ee(e)){e.forEach((d,f)=>Ac(d,t&&(ee(t)?t[f]:t),n,r,s));return}if(Sc(r)&&!s)return;const i=r.shapeFlag&4?Kh(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ve?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(at(u)?(c[u]=null,Te(h,u)&&(h[u]=null)):Ye(u)&&(u.value=null)),me(l))kr(l,a,12,[o,c]);else{const d=at(l),f=Ye(l);if(d||f){const p=()=>{if(e.f){const g=d?c[l]:l.value;s?ee(g)&&Ah(g,i):ee(g)?g.includes(i)||g.push(i):d?c[l]=[i]:(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Te(h,l)&&(h[l]=o)):Ye(l)&&(l.value=o,e.k&&(c[e.k]=o))};o?(p.id=-1,Lt(p,n)):p()}}}const Lt=jE;function dT(e){return fT(e)}function fT(e,t){const n=K_();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=gn,cloneNode:p,insertStaticContent:g}=e,y=(m,v,b,S=null,T=null,P=null,V=!1,D=null,L=!!v.dynamicChildren)=>{if(m===v)return;m&&!qr(m,v)&&(S=J(m),Xt(m,T,P,!0),m=null),v.patchFlag===-2&&(L=!1,v.dynamicChildren=null);const{type:C,ref:X,shapeFlag:q}=v;switch(C){case Wh:w(m,v,b,S);break;case vn:_(m,v,b,S);break;case Nu:m==null&&I(v,b,S,V);break;case tn:Oe(m,v,b,S,T,P,V,D,L);break;default:q&1?Y(m,v,b,S,T,P,V,D,L):q&6?xe(m,v,b,S,T,P,V,D,L):(q&64||q&128)&&C.process(m,v,b,S,T,P,V,D,L,je)}X!=null&&T&&Ac(X,m&&m.ref,P,v||m,!v)},w=(m,v,b,S)=>{if(m==null)r(v.el=a(v.children),b,S);else{const T=v.el=m.el;v.children!==m.children&&u(T,v.children)}},_=(m,v,b,S)=>{m==null?r(v.el=l(v.children||""),b,S):v.el=m.el},I=(m,v,b,S)=>{[m.el,m.anchor]=g(m.children,v,b,S,m.el,m.anchor)},x=({el:m,anchor:v},b,S)=>{let T;for(;m&&m!==v;)T=d(m),r(m,b,S),m=T;r(v,b,S)},W=({el:m,anchor:v})=>{let b;for(;m&&m!==v;)b=d(m),s(m),m=b;s(v)},Y=(m,v,b,S,T,P,V,D,L)=>{V=V||v.type==="svg",m==null?R(v,b,S,T,P,V,D,L):we(m,v,T,P,V,D,L)},R=(m,v,b,S,T,P,V,D)=>{let L,C;const{type:X,props:q,shapeFlag:Z,transition:oe,patchFlag:Ee,dirs:Je}=m;if(m.el&&p!==void 0&&Ee===-1)L=m.el=p(m.el);else{if(L=m.el=o(m.type,P,q&&q.is,q),Z&8?c(L,m.children):Z&16&&te(m.children,L,null,S,T,P&&X!=="foreignObject",V,D),Je&&$r(m,null,S,"created"),q){for(const He in q)He!=="value"&&!Ea(He)&&i(L,He,null,q[He],P,m.children,S,T,U);"value"in q&&i(L,"value",null,q.value),(C=q.onVnodeBeforeMount)&&In(C,S,m)}ce(L,m,m.scopeId,V,S)}Je&&$r(m,null,S,"beforeMount");const Ue=(!T||T&&!T.pendingBranch)&&oe&&!oe.persisted;Ue&&oe.beforeEnter(L),r(L,v,b),((C=q&&q.onVnodeMounted)||Ue||Je)&&Lt(()=>{C&&In(C,S,m),Ue&&oe.enter(L),Je&&$r(m,null,S,"mounted")},T)},ce=(m,v,b,S,T)=>{if(b&&f(m,b),S)for(let P=0;P<S.length;P++)f(m,S[P]);if(T){let P=T.subTree;if(v===P){const V=T.vnode;ce(m,V,V.scopeId,V.slotScopeIds,T.parent)}}},te=(m,v,b,S,T,P,V,D,L=0)=>{for(let C=L;C<m.length;C++){const X=m[C]=D?vr(m[C]):kn(m[C]);y(null,X,v,b,S,T,P,V,D)}},we=(m,v,b,S,T,P,V)=>{const D=v.el=m.el;let{patchFlag:L,dynamicChildren:C,dirs:X}=v;L|=m.patchFlag&16;const q=m.props||Ve,Z=v.props||Ve;let oe;b&&Vr(b,!1),(oe=Z.onVnodeBeforeUpdate)&&In(oe,b,v,m),X&&$r(v,m,b,"beforeUpdate"),b&&Vr(b,!0);const Ee=T&&v.type!=="foreignObject";if(C?Ne(m.dynamicChildren,C,D,b,S,Ee,P):V||jt(m,v,D,null,b,S,Ee,P,!1),L>0){if(L&16)z(D,v,q,Z,b,S,T);else if(L&2&&q.class!==Z.class&&i(D,"class",null,Z.class,T),L&4&&i(D,"style",q.style,Z.style,T),L&8){const Je=v.dynamicProps;for(let Ue=0;Ue<Je.length;Ue++){const He=Je[Ue],hn=q[He],As=Z[He];(As!==hn||He==="value")&&i(D,He,hn,As,T,m.children,b,S,U)}}L&1&&m.children!==v.children&&c(D,v.children)}else!V&&C==null&&z(D,v,q,Z,b,S,T);((oe=Z.onVnodeUpdated)||X)&&Lt(()=>{oe&&In(oe,b,v,m),X&&$r(v,m,b,"updated")},S)},Ne=(m,v,b,S,T,P,V)=>{for(let D=0;D<v.length;D++){const L=m[D],C=v[D],X=L.el&&(L.type===tn||!qr(L,C)||L.shapeFlag&70)?h(L.el):b;y(L,C,X,null,S,T,P,V,!0)}},z=(m,v,b,S,T,P,V)=>{if(b!==S){for(const D in S){if(Ea(D))continue;const L=S[D],C=b[D];L!==C&&D!=="value"&&i(m,D,C,L,V,v.children,T,P,U)}if(b!==Ve)for(const D in b)!Ea(D)&&!(D in S)&&i(m,D,b[D],null,V,v.children,T,P,U);"value"in S&&i(m,"value",b.value,S.value)}},Oe=(m,v,b,S,T,P,V,D,L)=>{const C=v.el=m?m.el:a(""),X=v.anchor=m?m.anchor:a("");let{patchFlag:q,dynamicChildren:Z,slotScopeIds:oe}=v;oe&&(D=D?D.concat(oe):oe),m==null?(r(C,b,S),r(X,b,S),te(v.children,b,X,T,P,V,D,L)):q>0&&q&64&&Z&&m.dynamicChildren?(Ne(m.dynamicChildren,Z,b,T,P,V,D),(v.key!=null||T&&v===T.subTree)&&Yh(m,v,!0)):jt(m,v,b,X,T,P,V,D,L)},xe=(m,v,b,S,T,P,V,D,L)=>{v.slotScopeIds=D,m==null?v.shapeFlag&512?T.ctx.activate(v,b,S,V,L):En(v,b,S,T,P,V,L):Ge(m,v,L)},En=(m,v,b,S,T,P,V)=>{const D=m.component=OT(m,S,T);if(Dl(m)&&(D.ctx.renderer=je),RT(D),D.asyncDep){if(T&&T.registerDep(D,Re),!m.el){const L=D.subTree=yt(vn);_(null,L,v,b)}return}Re(D,m,v,b,T,P,V)},Ge=(m,v,b)=>{const S=v.component=m.component;if(UE(m,v,b))if(S.asyncDep&&!S.asyncResolved){Le(S,v,b);return}else S.next=v,DE(S.update),S.update();else v.component=m.component,v.el=m.el,S.vnode=v},Re=(m,v,b,S,T,P,V)=>{const D=()=>{if(m.isMounted){let{next:X,bu:q,u:Z,parent:oe,vnode:Ee}=m,Je=X,Ue;Vr(m,!1),X?(X.el=Ee.el,Le(m,X,V)):X=Ee,q&&Ta(q),(Ue=X.props&&X.props.onVnodeBeforeUpdate)&&In(Ue,oe,X,Ee),Vr(m,!0);const He=Pu(m),hn=m.subTree;m.subTree=He,y(hn,He,h(hn.el),J(hn),m,T,P),X.el=He.el,Je===null&&$E(m,He.el),Z&&Lt(Z,T),(Ue=X.props&&X.props.onVnodeUpdated)&&Lt(()=>In(Ue,oe,X,Ee),T)}else{let X;const{el:q,props:Z}=v,{bm:oe,m:Ee,parent:Je}=m,Ue=Sc(v);if(Vr(m,!1),oe&&Ta(oe),!Ue&&(X=Z&&Z.onVnodeBeforeMount)&&In(X,Je,v),Vr(m,!0),q&&pe){const He=()=>{m.subTree=Pu(m),pe(q,m.subTree,m,T,null)};Ue?v.type.__asyncLoader().then(()=>!m.isUnmounted&&He()):He()}else{const He=m.subTree=Pu(m);y(null,He,b,S,m,T,P),v.el=He.el}if(Ee&&Lt(Ee,T),!Ue&&(X=Z&&Z.onVnodeMounted)){const He=v;Lt(()=>In(X,Je,He),T)}v.shapeFlag&256&&m.a&&Lt(m.a,T),m.isMounted=!0,v=b=S=null}},L=m.effect=new xh(D,()=>iv(m.update),m.scope),C=m.update=L.run.bind(L);C.id=m.uid,Vr(m,!0),C()},Le=(m,v,b)=>{v.component=m;const S=m.vnode.props;m.vnode=v,m.next=null,oT(m,v.props,S,b),uT(m,v.children,b),mi(),$h(void 0,m.update),gi()},jt=(m,v,b,S,T,P,V,D,L=!1)=>{const C=m&&m.children,X=m?m.shapeFlag:0,q=v.children,{patchFlag:Z,shapeFlag:oe}=v;if(Z>0){if(Z&128){Vn(C,q,b,S,T,P,V,D,L);return}else if(Z&256){Cs(C,q,b,S,T,P,V,D,L);return}}oe&8?(X&16&&U(C,T,P),q!==C&&c(b,q)):X&16?oe&16?Vn(C,q,b,S,T,P,V,D,L):U(C,T,P,!0):(X&8&&c(b,""),oe&16&&te(q,b,S,T,P,V,D,L))},Cs=(m,v,b,S,T,P,V,D,L)=>{m=m||Bs,v=v||Bs;const C=m.length,X=v.length,q=Math.min(C,X);let Z;for(Z=0;Z<q;Z++){const oe=v[Z]=L?vr(v[Z]):kn(v[Z]);y(m[Z],oe,b,null,T,P,V,D,L)}C>X?U(m,T,P,!0,!1,q):te(v,b,S,T,P,V,D,L,q)},Vn=(m,v,b,S,T,P,V,D,L)=>{let C=0;const X=v.length;let q=m.length-1,Z=X-1;for(;C<=q&&C<=Z;){const oe=m[C],Ee=v[C]=L?vr(v[C]):kn(v[C]);if(qr(oe,Ee))y(oe,Ee,b,null,T,P,V,D,L);else break;C++}for(;C<=q&&C<=Z;){const oe=m[q],Ee=v[Z]=L?vr(v[Z]):kn(v[Z]);if(qr(oe,Ee))y(oe,Ee,b,null,T,P,V,D,L);else break;q--,Z--}if(C>q){if(C<=Z){const oe=Z+1,Ee=oe<X?v[oe].el:S;for(;C<=Z;)y(null,v[C]=L?vr(v[C]):kn(v[C]),b,Ee,T,P,V,D,L),C++}}else if(C>Z)for(;C<=q;)Xt(m[C],T,P,!0),C++;else{const oe=C,Ee=C,Je=new Map;for(C=Ee;C<=Z;C++){const Bt=v[C]=L?vr(v[C]):kn(v[C]);Bt.key!=null&&Je.set(Bt.key,C)}let Ue,He=0;const hn=Z-Ee+1;let As=!1,Vf=0;const Ri=new Array(hn);for(C=0;C<hn;C++)Ri[C]=0;for(C=oe;C<=q;C++){const Bt=m[C];if(He>=hn){Xt(Bt,T,P,!0);continue}let Sn;if(Bt.key!=null)Sn=Je.get(Bt.key);else for(Ue=Ee;Ue<=Z;Ue++)if(Ri[Ue-Ee]===0&&qr(Bt,v[Ue])){Sn=Ue;break}Sn===void 0?Xt(Bt,T,P,!0):(Ri[Sn-Ee]=C+1,Sn>=Vf?Vf=Sn:As=!0,y(Bt,v[Sn],b,null,T,P,V,D,L),He++)}const jf=As?pT(Ri):Bs;for(Ue=jf.length-1,C=hn-1;C>=0;C--){const Bt=Ee+C,Sn=v[Bt],Bf=Bt+1<X?v[Bt+1].el:S;Ri[C]===0?y(null,Sn,b,Bf,T,P,V,D,L):As&&(Ue<0||C!==jf[Ue]?Tn(Sn,b,Bf,2):Ue--)}}},Tn=(m,v,b,S,T=null)=>{const{el:P,type:V,transition:D,children:L,shapeFlag:C}=m;if(C&6){Tn(m.component.subTree,v,b,S);return}if(C&128){m.suspense.move(v,b,S);return}if(C&64){V.move(m,v,b,je);return}if(V===tn){r(P,v,b);for(let q=0;q<L.length;q++)Tn(L[q],v,b,S);r(m.anchor,v,b);return}if(V===Nu){x(m,v,b);return}if(S!==2&&C&1&&D)if(S===0)D.beforeEnter(P),r(P,v,b),Lt(()=>D.enter(P),T);else{const{leave:q,delayLeave:Z,afterLeave:oe}=D,Ee=()=>r(P,v,b),Je=()=>{q(P,()=>{Ee(),oe&&oe()})};Z?Z(P,Ee,Je):Je()}else r(P,v,b)},Xt=(m,v,b,S=!1,T=!1)=>{const{type:P,props:V,ref:D,children:L,dynamicChildren:C,shapeFlag:X,patchFlag:q,dirs:Z}=m;if(D!=null&&Ac(D,null,b,m,!0),X&256){v.ctx.deactivate(m);return}const oe=X&1&&Z,Ee=!Sc(m);let Je;if(Ee&&(Je=V&&V.onVnodeBeforeUnmount)&&In(Je,v,m),X&6)K(m.component,b,S);else{if(X&128){m.suspense.unmount(b,S);return}oe&&$r(m,null,v,"beforeUnmount"),X&64?m.type.remove(m,v,b,T,je,S):C&&(P!==tn||q>0&&q&64)?U(C,v,b,!1,!0):(P===tn&&q&384||!T&&X&16)&&U(L,v,b),S&&Du(m)}(Ee&&(Je=V&&V.onVnodeUnmounted)||oe)&&Lt(()=>{Je&&In(Je,v,m),oe&&$r(m,null,v,"unmounted")},b)},Du=m=>{const{type:v,el:b,anchor:S,transition:T}=m;if(v===tn){E(b,S);return}if(v===Nu){W(m);return}const P=()=>{s(b),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(m.shapeFlag&1&&T&&!T.persisted){const{leave:V,delayLeave:D}=T,L=()=>V(b,P);D?D(m.el,P,L):L()}else P()},E=(m,v)=>{let b;for(;m!==v;)b=d(m),s(m),m=b;s(v)},K=(m,v,b)=>{const{bum:S,scope:T,update:P,subTree:V,um:D}=m;S&&Ta(S),T.stop(),P&&(P.active=!1,Xt(V,m,v,b)),D&&Lt(D,v),Lt(()=>{m.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},U=(m,v,b,S=!1,T=!1,P=0)=>{for(let V=P;V<m.length;V++)Xt(m[V],v,b,S,T)},J=m=>m.shapeFlag&6?J(m.component.subTree):m.shapeFlag&128?m.suspense.next():d(m.anchor||m.el),Fe=(m,v,b)=>{m==null?v._vnode&&Xt(v._vnode,null,null,!0):y(v._vnode||null,m,v,null,null,null,b),lv(),v._vnode=m},je={p:y,um:Xt,m:Tn,r:Du,mt:En,mc:te,pc:jt,pbc:Ne,n:J,o:e};let ve,pe;return t&&([ve,pe]=t(je)),{render:Fe,hydrate:ve,createApp:hT(Fe,ve)}}function Vr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Yh(e,t,n=!1){const r=e.children,s=t.children;if(ee(r)&&ee(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=vr(s[i]),a.el=o.el),n||Yh(o,a))}}function pT(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const mT=e=>e.__isTeleport,Hi=e=>e&&(e.disabled||e.disabled===""),up=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Oc=(e,t)=>{const n=e&&e.to;return at(n)?t?t(n):null:n},gT={__isTeleport:!0,process(e,t,n,r,s,i,o,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:y}}=u,w=Hi(t.props);let{shapeFlag:_,children:I,dynamicChildren:x}=t;if(e==null){const W=t.el=g(""),Y=t.anchor=g("");f(W,n,r),f(Y,n,r);const R=t.target=Oc(t.props,p),ce=t.targetAnchor=g("");R&&(f(ce,R),o=o||up(R));const te=(we,Ne)=>{_&16&&c(I,we,Ne,s,i,o,a,l)};w?te(n,Y):R&&te(R,ce)}else{t.el=e.el;const W=t.anchor=e.anchor,Y=t.target=e.target,R=t.targetAnchor=e.targetAnchor,ce=Hi(e.props),te=ce?n:Y,we=ce?W:R;if(o=o||up(Y),x?(d(e.dynamicChildren,x,te,s,i,o,a),Yh(e,t,!0)):l||h(e,t,te,we,s,i,o,a,!1),w)ce||ha(t,n,W,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ne=t.target=Oc(t.props,p);Ne&&ha(t,Ne,null,u,0)}else ce&&ha(t,Y,R,u,1)}},remove(e,t,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&i(c),(o||!Hi(d))&&(i(u),a&16))for(let f=0;f<l.length;f++){const p=l[f];s(p,t,n,!0,!!p.dynamicChildren)}},move:ha,hydrate:vT};function ha(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=i===2;if(h&&r(o,t,n),(!h||Hi(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],t,n,2);h&&r(a,t,n)}function vT(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=Oc(t.props,l);if(c){const h=c._lpa||c.firstChild;t.shapeFlag&16&&(Hi(t.props)?(t.anchor=u(o(e),t,a(e),n,r,s,i),t.targetAnchor=h):(t.anchor=o(e),t.targetAnchor=u(h,t,c,n,r,s,i)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const yT=gT,kv="components",wT="directives";function qF(e,t){return Cv(kv,e,!0,t)||e}const bT=Symbol();function KF(e){return Cv(wT,e)}function Cv(e,t,n=!0,r=!1){const s=Wt||ht;if(s){const i=s.type;if(e===kv){const a=MT(i);if(a&&(a===t||a===xn(t)||a===Al(xn(t))))return i}const o=cp(s[e]||i[e],t)||cp(s.appContext[e],t);return!o&&r?i:o}}function cp(e,t){return e&&(e[t]||e[xn(t)]||e[Al(xn(t))])}const tn=Symbol(void 0),Wh=Symbol(void 0),vn=Symbol(void 0),Nu=Symbol(void 0),Yi=[];let ts=null;function Ao(e=!1){Yi.push(ts=e?null:[])}function _T(){Yi.pop(),ts=Yi[Yi.length-1]||null}let $a=1;function hp(e){$a+=e}function Av(e){return e.dynamicChildren=$a>0?ts||Bs:null,_T(),$a>0&&ts&&ts.push(e),e}function zF(e,t,n,r,s,i){return Av(Rv(e,t,n,r,s,i,!0))}function Oo(e,t,n,r,s){return Av(yt(e,t,n,r,s,!0))}function Va(e){return e?e.__v_isVNode===!0:!1}function qr(e,t){return e.type===t.type&&e.key===t.key}const Pl="__vInternal",Ov=({key:e})=>e!=null?e:null,Sa=({ref:e,ref_key:t,ref_for:n})=>e!=null?at(e)||Ye(e)||me(e)?{i:Wt,r:e,k:t,f:!!n}:e:null;function Rv(e,t=null,n=null,r=0,s=null,i=e===tn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ov(t),ref:t&&Sa(t),scopeId:hv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(qh(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=at(n)?8:16),$a>0&&!o&&ts&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ts.push(l),l}const yt=ET;function ET(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===bT)&&(e=vn),Va(e)){const a=as(e,t,!0);return n&&qh(a,n),a}if(NT(e)&&(e=e.__vccOpts),t){t=TT(t);let{class:a,style:l}=t;a&&!at(a)&&(t.class=Sl(a)),nt(l)&&(Qg(l)&&!ee(l)&&(l=Et({},l)),t.style=Tl(l))}const o=at(e)?1:VE(e)?128:mT(e)?64:nt(e)?4:me(e)?2:0;return Rv(e,t,n,r,s,o,i,!0)}function TT(e){return e?Qg(e)||Pl in e?Et({},e):e:null}function as(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?IT(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ov(a),ref:t&&t.ref?n&&s?ee(s)?s.concat(Sa(t)):[s,Sa(t)]:Sa(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tn?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&as(e.ssContent),ssFallback:e.ssFallback&&as(e.ssFallback),el:e.el,anchor:e.anchor}}function ST(e=" ",t=0){return yt(Wh,null,e,t)}function GF(e="",t=!1){return t?(Ao(),Oo(vn,null,e)):yt(vn,null,e)}function kn(e){return e==null||typeof e=="boolean"?yt(vn):ee(e)?yt(tn,null,e.slice()):typeof e=="object"?vr(e):yt(Wh,null,String(e))}function vr(e){return e.el===null||e.memo?e:as(e)}function qh(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),qh(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Pl in t)?t._ctx=Wt:s===3&&Wt&&(Wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:Wt},n=32):(t=String(t),r&64?(n=16,t=[ST(t)]):n=8);e.children=t,e.shapeFlag|=n}function IT(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Sl([t.class,r.class]));else if(s==="style")t.style=Tl([t.style,r.style]);else if(Il(s)){const i=t[s],o=r[s];o&&i!==o&&!(ee(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function In(e,t,n,r=null){rn(e,t,7,[n,r])}function JF(e,t,n,r){let s;const i=n&&n[r];if(ee(e)||at(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(nt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=t(e[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function QF(e,t,n={},r,s){if(Wt.isCE)return yt("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Ao();const o=i&&Dv(i(n)),a=Oo(tn,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Dv(e){return e.some(t=>Va(t)?!(t.type===vn||t.type===tn&&!Dv(t.children)):!0)?e:null}const Rc=e=>e?xv(e)?Kh(e)||e.proxy:Rc(e.parent):null,ja=Et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rc(e.parent),$root:e=>Rc(e.root),$emit:e=>e.emit,$options:e=>wv(e),$forceUpdate:e=>()=>iv(e.update),$nextTick:e=>Ae.bind(e.proxy),$watch:e=>BE.bind(e)}),kT={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==Ve&&Te(r,t))return o[t]=1,r[t];if(s!==Ve&&Te(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Te(u,t))return o[t]=3,i[t];if(n!==Ve&&Te(n,t))return o[t]=4,n[t];Ic&&(o[t]=0)}}const c=ja[t];let h,d;if(c)return t==="$attrs"&&Gt(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Ve&&Te(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Te(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==Ve&&Te(s,t)?(s[t]=n,!0):r!==Ve&&Te(r,t)?(r[t]=n,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Ve&&Te(e,o)||t!==Ve&&Te(t,o)||(a=i[0])&&Te(a,o)||Te(r,o)||Te(ja,o)||Te(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?this.set(e,t,n.get(),null):n.value!=null&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},CT=Iv();let AT=0;function OT(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||CT,i={uid:AT++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_v(r,s),emitsOptions:cv(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ME.bind(null,i),e.ce&&e.ce(i),i}let ht=null;const Ro=()=>ht||Wt,Zs=e=>{ht=e,e.scope.on()},ns=()=>{ht&&ht.scope.off(),ht=null};function xv(e){return e.vnode.shapeFlag&4}let ao=!1;function RT(e,t=!1){ao=t;const{props:n,children:r}=e.vnode,s=xv(e);iT(e,n,s,t),lT(e,r);const i=s?DT(e,t):void 0;return ao=!1,i}function DT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Xs(new Proxy(e.ctx,kT));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?PT(e):null;Zs(e),mi();const i=kr(r,e,0,[e.props,s]);if(gi(),ns(),Mg(i)){if(i.then(ns,ns),t)return i.then(o=>{dp(e,o,t)}).catch(o=>{Rl(o,e,0)});e.asyncDep=i}else dp(e,i,t)}else Pv(e,t)}function dp(e,t,n){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nt(t)&&(e.setupState=nv(t)),Pv(e,n)}let fp;function Pv(e,t,n){const r=e.type;if(!e.render){if(!t&&fp&&!r.render){const s=r.template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Et(Et({isCustomElement:i,delimiters:a},o),l);r.render=fp(s,u)}}e.render=r.render||gn}Zs(e),mi(),eT(e),gi(),ns()}function xT(e){return new Proxy(e.attrs,{get(t,n){return Gt(e,"get","$attrs"),t[n]}})}function PT(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=xT(e))},slots:e.slots,emit:e.emit,expose:t}}function Kh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(nv(Xs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ja)return ja[n](e)}}))}function MT(e){return me(e)&&e.displayName||e.name}function NT(e){return me(e)&&"__vccOpts"in e}const F=(e,t)=>AE(e,t,ao);function pn(e,t,n){const r=arguments.length;return r===2?nt(t)&&!ee(t)?Va(t)?yt(e,null,[t]):yt(e,t):yt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Va(n)&&(n=[n]),yt(e,t,n))}const LT="3.2.31",FT="http://www.w3.org/2000/svg",Kr=typeof document!="undefined"?document:null,pp=Kr&&Kr.createElement("template"),UT={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Kr.createElementNS(FT,e):Kr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Kr.createTextNode(e),createComment:e=>Kr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{pp.innerHTML=r?`<svg>${e}</svg>`:e;const a=pp.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $T(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function VT(e,t,n){const r=e.style,s=at(n);if(n&&!s){for(const i in n)Dc(r,i,n[i]);if(t&&!at(t))for(const i in t)n[i]==null&&Dc(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const mp=/\s*!important$/;function Dc(e,t,n){if(ee(n))n.forEach(r=>Dc(e,t,r));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=jT(e,t);mp.test(n)?e.setProperty(ys(r),n.replace(mp,""),"important"):e[r]=n}}const gp=["Webkit","Moz","ms"],Lu={};function jT(e,t){const n=Lu[t];if(n)return n;let r=xn(t);if(r!=="filter"&&r in e)return Lu[t]=r;r=Al(r);for(let s=0;s<gp.length;s++){const i=gp[s]+r;if(i in e)return Lu[t]=i}return t}const vp="http://www.w3.org/1999/xlink";function BT(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(vp,t.slice(6,t.length)):e.setAttributeNS(vp,t,n);else{const i=L_(t);n==null||i&&!xg(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function HT(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n==null?"":n;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const a=typeof e[t];if(a==="boolean"){e[t]=xg(n);return}else if(n==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let Ba=Date.now,Mv=!1;if(typeof window!="undefined"){Ba()>document.createEvent("Event").timeStamp&&(Ba=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Mv=!!(e&&Number(e[1])<=53)}let xc=0;const YT=Promise.resolve(),WT=()=>{xc=0},qT=()=>xc||(YT.then(WT),xc=Ba());function Wn(e,t,n,r){e.addEventListener(t,n,r)}function KT(e,t,n,r){e.removeEventListener(t,n,r)}function zT(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=GT(t);if(r){const u=i[t]=JT(r,s);Wn(e,a,u,l)}else o&&(KT(e,a,o,l),i[t]=void 0)}}const yp=/(?:Once|Passive|Capture)$/;function GT(e){let t;if(yp.test(e)){t={};let n;for(;n=e.match(yp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[ys(e.slice(2)),t]}function JT(e,t){const n=r=>{const s=r.timeStamp||Ba();(Mv||s>=n.attached-1)&&rn(QT(r,n.value),t,5,[r])};return n.value=e,n.attached=qT(),n}function QT(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const wp=/^on[a-z]/,XT=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?$T(e,r,s):t==="style"?VT(e,n,r):Il(t)?Ch(t)||zT(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ZT(e,t,r,s))?HT(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),BT(e,t,r,s))};function ZT(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&wp.test(t)&&me(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||wp.test(t)&&at(n)?!1:t in e}const cr="transition",Di="animation",Nv=(e,{slots:t})=>pn(fv,eS(e),t);Nv.displayName="Transition";const Lv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Nv.props=Et({},fv.props,Lv);const jr=(e,t=[])=>{ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},bp=e=>e?ee(e)?e.some(t=>t.length>1):e.length>1:!1;function eS(e){const t={};for(const z in e)z in Lv||(t[z]=e[z]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,p=tS(s),g=p&&p[0],y=p&&p[1],{onBeforeEnter:w,onEnter:_,onEnterCancelled:I,onLeave:x,onLeaveCancelled:W,onBeforeAppear:Y=w,onAppear:R=_,onAppearCancelled:ce=I}=t,te=(z,Oe,xe)=>{Os(z,Oe?c:a),Os(z,Oe?u:o),xe&&xe()},we=(z,Oe)=>{Os(z,f),Os(z,d),Oe&&Oe()},Ne=z=>(Oe,xe)=>{const En=z?R:_,Ge=()=>te(Oe,z,xe);jr(En,[Oe,Ge]),_p(()=>{Os(Oe,z?l:i),hr(Oe,z?c:a),bp(En)||Ep(Oe,r,g,Ge)})};return Et(t,{onBeforeEnter(z){jr(w,[z]),hr(z,i),hr(z,o)},onBeforeAppear(z){jr(Y,[z]),hr(z,l),hr(z,u)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(z,Oe){const xe=()=>we(z,Oe);hr(z,h),sS(),hr(z,d),_p(()=>{Os(z,h),hr(z,f),bp(x)||Ep(z,r,y,xe)}),jr(x,[z,xe])},onEnterCancelled(z){te(z,!1),jr(I,[z])},onAppearCancelled(z){te(z,!0),jr(ce,[z])},onLeaveCancelled(z){we(z),jr(W,[z])}})}function tS(e){if(e==null)return null;if(nt(e))return[Fu(e.enter),Fu(e.leave)];{const t=Fu(e);return[t,t]}}function Fu(e){return ro(e)}function hr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Os(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function _p(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let nS=0;function Ep(e,t,n,r){const s=e._endId=++nS,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=rS(e,t);if(!o)return r();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,d),i()},d=f=>{f.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,d)}function rS(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(cr+"Delay"),i=r(cr+"Duration"),o=Tp(s,i),a=r(Di+"Delay"),l=r(Di+"Duration"),u=Tp(a,l);let c=null,h=0,d=0;t===cr?o>0&&(c=cr,h=o,d=i.length):t===Di?u>0&&(c=Di,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?cr:Di:null,d=c?c===cr?i.length:l.length:0);const f=c===cr&&/\b(transform|all)(,|$)/.test(n[cr+"Property"]);return{type:c,timeout:h,propCount:d,hasTransform:f}}function Tp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Sp(n)+Sp(e[r])))}function Sp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function sS(){return document.body.offsetHeight}const Dr=e=>{const t=e.props["onUpdate:modelValue"];return ee(t)?n=>Ta(t,n):t};function iS(e){e.target.composing=!0}function Ip(e){const t=e.target;t.composing&&(t.composing=!1,oS(t,"input"))}function oS(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const kp={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=Dr(s);const i=r||s.props&&s.props.type==="number";Wn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n?a=a.trim():i&&(a=ro(a)),e._assign(a)}),n&&Wn(e,"change",()=>{e.value=e.value.trim()}),t||(Wn(e,"compositionstart",iS),Wn(e,"compositionend",Ip),Wn(e,"change",Ip))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=Dr(i),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&ro(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},aS={deep:!0,created(e,t,n){e._assign=Dr(n),Wn(e,"change",()=>{const r=e._modelValue,s=ei(e),i=e.checked,o=e._assign;if(ee(r)){const a=kh(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(pi(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Fv(e,i))})},mounted:Cp,beforeUpdate(e,t,n){e._assign=Dr(n),Cp(e,t,n)}};function Cp(e,{value:t,oldValue:n},r){e._modelValue=t,ee(t)?e.checked=kh(t,r.props.value)>-1:pi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=os(t,Fv(e,!0)))}const lS={created(e,{value:t},n){e.checked=os(t,n.props.value),e._assign=Dr(n),Wn(e,"change",()=>{e._assign(ei(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Dr(r),t!==n&&(e.checked=os(t,r.props.value))}},uS={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=pi(t);Wn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ro(ei(o)):ei(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Dr(r)},mounted(e,{value:t}){Ap(e,t)},beforeUpdate(e,t,n){e._assign=Dr(n)},updated(e,{value:t}){Ap(e,t)}};function Ap(e,t){const n=e.multiple;if(!(n&&!ee(t)&&!pi(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=ei(i);if(n)ee(t)?i.selected=kh(t,o)>-1:i.selected=t.has(o);else if(os(ei(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ei(e){return"_value"in e?e._value:e.value}function Fv(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const XF={created(e,t,n){da(e,t,n,null,"created")},mounted(e,t,n){da(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){da(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){da(e,t,n,r,"updated")}};function da(e,t,n,r,s){let i;switch(e.tagName){case"SELECT":i=uS;break;case"TEXTAREA":i=kp;break;default:switch(n.props&&n.props.type){case"checkbox":i=aS;break;case"radio":i=lS;break;default:i=kp}}const o=i[s];o&&o(e,t,n,r)}const cS=["ctrl","shift","alt","meta"],hS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cS.some(n=>e[`${n}Key`]&&!t.includes(n))},ZF=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=hS[t[s]];if(i&&i(n,t))return}return e(n,...r)},dS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},eU=(e,t)=>n=>{if(!("key"in n))return;const r=ys(n.key);if(t.some(s=>s===r||dS[s]===r))return e(n)},tU={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):xi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),xi(e,!0),r.enter(e)):r.leave(e,()=>{xi(e,!1)}):xi(e,t))},beforeUnmount(e,{value:t}){xi(e,t)}};function xi(e,t){e.style.display=t?e._vod:"none"}const fS=Et({patchProp:XT},UT);let Op;function pS(){return Op||(Op=dT(fS))}const nU=(...e)=>{const t=pS().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=mS(r);if(!s)return;const i=t._component;!me(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function mS(e){return at(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Uv=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",vi=e=>Uv?Symbol(e):"_vr_"+e,gS=vi("rvlm"),Rp=vi("rvd"),Ml=vi("r"),zh=vi("rl"),Pc=vi("rvl"),Fs=typeof window!="undefined";function vS(e){return e.__esModule||Uv&&e[Symbol.toStringTag]==="Module"}const $e=Object.assign;function Uu(e,t){const n={};for(const r in t){const s=t[r];n[r]=Array.isArray(s)?s.map(e):e(s)}return n}const Wi=()=>{},yS=/\/$/,wS=e=>e.replace(yS,"");function $u(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=TS(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function bS(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Dp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _S(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ti(t.matched[r],n.matched[s])&&$v(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $v(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ES(e[n],t[n]))return!1;return!0}function ES(e,t){return Array.isArray(e)?xp(e,t):Array.isArray(t)?xp(t,e):e===t}function xp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function TS(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(s===1||o==="."))if(o==="..")s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var lo;(function(e){e.pop="pop",e.push="push"})(lo||(lo={}));var qi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qi||(qi={}));function SS(e){if(!e)if(Fs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wS(e)}const IS=/^[^#]+#/;function kS(e,t){return e.replace(IS,"#")+t}function CS(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Nl=()=>({left:window.pageXOffset,top:window.pageYOffset});function AS(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=CS(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Pp(e,t){return(history.state?history.state.position-t:-1)+e}const Mc=new Map;function OS(e,t){Mc.set(e,t)}function RS(e){const t=Mc.get(e);return Mc.delete(e),t}let DS=()=>location.protocol+"//"+location.host;function Vv(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Dp(l,"")}return Dp(n,e)+r+s}function xS(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=Vv(e,location),p=n.value,g=t.value;let y=0;if(d){if(n.value=f,t.value=d,o&&o===p){o=null;return}y=g?d.position-g.position:0}else r(f);s.forEach(w=>{w(n.value,p,{delta:y,type:lo.pop,direction:y?y>0?qi.forward:qi.back:qi.unknown})})};function l(){o=n.value}function u(d){s.push(d);const f=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return i.push(f),f}function c(){const{history:d}=window;!d.state||d.replaceState($e({},d.state,{scroll:Nl()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:h}}function Mp(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Nl():null}}function PS(e){const{history:t,location:n}=window,r={value:Vv(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:DS()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(f){console.error(f),n[c?"replace":"assign"](d)}}function o(l,u){const c=$e({},t.state,Mp(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=$e({},s.value,t.state,{forward:l,scroll:Nl()});i(c.current,c,!0);const h=$e({},Mp(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function rU(e){e=SS(e);const t=PS(e),n=xS(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=$e({location:"",base:e,go:r,createHref:kS.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function MS(e){return typeof e=="string"||e&&typeof e=="object"}function jv(e){return typeof e=="string"||typeof e=="symbol"}const dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Bv=vi("nf");var Np;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Np||(Np={}));function ni(e,t){return $e(new Error,{type:e,[Bv]:!0},t)}function fr(e,t){return e instanceof Error&&Bv in e&&(t==null||!!(e.type&t))}const Lp="[^/]+?",NS={sensitive:!1,strict:!1,start:!0,end:!0},LS=/[.+*?^${}()[\]/\\]/g;function FS(e,t){const n=$e({},NS,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const d=u[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(LS,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:g,optional:y,regexp:w}=d;i.push({name:p,repeatable:g,optional:y});const _=w||Lp;if(_!==Lp){f+=10;try{new RegExp(`(${_})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+x.message)}}let I=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(I=y&&u.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),s+=I,f+=20,y&&(f+=-8),g&&(f+=-20),_===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",p=i[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(u){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:y}=f,w=p in u?u[p]:"";if(Array.isArray(w)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Array.isArray(w)?w.join("/"):w;if(!_)if(y)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=_}}return c}return{re:o,score:r,keys:i,parse:a,stringify:l}}function US(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function $S(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=US(r[n],s[n]);if(i)return i;n++}return s.length-r.length}const VS={type:0,value:""},jS=/[a-zA-Z0-9_]/;function BS(e){if(!e)return[[]];if(e==="/")return[[VS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function h(){!u||(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:jS.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function HS(e,t,n){const r=FS(BS(e.path),n),s=$e(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function YS(e,t){const n=[],r=new Map;t=Up({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,h,d){const f=!d,p=qS(c);p.aliasOf=d&&d.record;const g=Up(t,c),y=[p];if("alias"in c){const I=typeof c.alias=="string"?[c.alias]:c.alias;for(const x of I)y.push($e({},p,{components:d?d.record.components:p.components,path:x,aliasOf:d?d.record:p}))}let w,_;for(const I of y){const{path:x}=I;if(h&&x[0]!=="/"){const W=h.record.path,Y=W[W.length-1]==="/"?"":"/";I.path=h.record.path+(x&&Y+x)}if(w=HS(I,h,g),d?d.alias.push(w):(_=_||w,_!==w&&_.alias.push(w),f&&c.name&&!Fp(w)&&o(c.name)),"children"in p){const W=p.children;for(let Y=0;Y<W.length;Y++)i(W[Y],w,d&&d.children[Y])}d=d||w,l(w)}return _?()=>{o(_)}:Wi}function o(c){if(jv(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let h=0;for(;h<n.length&&$S(c,n[h])>=0&&(c.record.path!==n[h].record.path||!Hv(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!Fp(c)&&r.set(c.record.name,c)}function u(c,h){let d,f={},p,g;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw ni(1,{location:c});g=d.record.name,f=$e(WS(h.params,d.keys.filter(_=>!_.optional).map(_=>_.name)),c.params),p=d.stringify(f)}else if("path"in c)p=c.path,d=n.find(_=>_.re.test(p)),d&&(f=d.parse(p),g=d.record.name);else{if(d=h.name?r.get(h.name):n.find(_=>_.re.test(h.path)),!d)throw ni(1,{location:c,currentLocation:h});g=d.record.name,f=$e({},h.params,c.params),p=d.stringify(f)}const y=[];let w=d;for(;w;)y.unshift(w.record),w=w.parent;return{name:g,path:p,params:f,matched:y,meta:zS(y)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function WS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function qS(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:KS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function KS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Fp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zS(e){return e.reduce((t,n)=>$e(t,n.meta),{})}function Up(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Hv(e,t){return t.children.some(n=>n===e||Hv(e,n))}const Yv=/#/g,GS=/&/g,JS=/\//g,QS=/=/g,XS=/\?/g,Wv=/\+/g,ZS=/%5B/g,eI=/%5D/g,qv=/%5E/g,tI=/%60/g,Kv=/%7B/g,nI=/%7C/g,zv=/%7D/g,rI=/%20/g;function Gh(e){return encodeURI(""+e).replace(nI,"|").replace(ZS,"[").replace(eI,"]")}function sI(e){return Gh(e).replace(Kv,"{").replace(zv,"}").replace(qv,"^")}function Nc(e){return Gh(e).replace(Wv,"%2B").replace(rI,"+").replace(Yv,"%23").replace(GS,"%26").replace(tI,"`").replace(Kv,"{").replace(zv,"}").replace(qv,"^")}function iI(e){return Nc(e).replace(QS,"%3D")}function oI(e){return Gh(e).replace(Yv,"%23").replace(XS,"%3F")}function aI(e){return e==null?"":oI(e).replace(JS,"%2F")}function Ha(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function lI(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Wv," "),o=i.indexOf("="),a=Ha(o<0?i:i.slice(0,o)),l=o<0?null:Ha(i.slice(o+1));if(a in t){let u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function $p(e){let t="";for(let n in e){const r=e[n];if(n=iI(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&Nc(i)):[r&&Nc(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function uI(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}function Pi(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function yr(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(ni(4,{from:n,to:t})):h instanceof Error?a(h):MS(h)?a(ni(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},u=e.call(r&&r.instances[s],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(h=>a(h))})}function Vu(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(cI(a)){const u=(a.__vccOpts||a)[t];u&&s.push(yr(u,n,r,i,o))}else{let l=a();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=vS(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&yr(d,n,r,i,o)()}))}}return s}function cI(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vp(e){const t=Se(Ml),n=Se(zh),r=F(()=>t.resolve(On(e.to))),s=F(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const d=h.findIndex(ti.bind(null,c));if(d>-1)return d;const f=jp(l[u-2]);return u>1&&jp(c)===f&&h[h.length-1].path!==f?h.findIndex(ti.bind(null,l[u-2])):d}),i=F(()=>s.value>-1&&pI(n.params,r.value.params)),o=F(()=>s.value>-1&&s.value===n.matched.length-1&&$v(n.params,r.value.params));function a(l={}){return fI(l)?t[On(e.replace)?"replace":"push"](On(e.to)).catch(Wi):Promise.resolve()}return{route:r,href:F(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const hI=ie({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vp,setup(e,{slots:t}){const n=ws(Vp(e)),{options:r}=Se(Ml),s=F(()=>({[Bp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Bp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:pn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),dI=hI;function fI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function pI(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Array.isArray(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function jp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bp=(e,t,n)=>e!=null?e:t!=null?t:n,mI=ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Se(Pc),s=F(()=>e.route||r.value),i=Se(Rp,0),o=F(()=>s.value.matched[i]);qe(Rp,i+1),qe(gS,o),qe(Pc,s);const a=M();return kt(()=>[a.value,o.value,e.name],([l,u,c],[h,d,f])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!ti(u,d)||!h)&&(u.enterCallbacks[c]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=s.value,u=o.value,c=u&&u.components[e.name],h=e.name;if(!c)return Hp(n.default,{Component:c,route:l});const d=u.props[e.name],f=d?d===!0?l.params:typeof d=="function"?d(l):d:null,g=pn(c,$e({},f,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[h]=null)},ref:a}));return Hp(n.default,{Component:g,route:l})||g}}});function Hp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const gI=mI;function sU(e){const t=YS(e.routes,e),n=e.parseQuery||lI,r=e.stringifyQuery||$p,s=e.history,i=Pi(),o=Pi(),a=Pi(),l=ev(dr);let u=dr;Fs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Uu.bind(null,E=>""+E),h=Uu.bind(null,aI),d=Uu.bind(null,Ha);function f(E,K){let U,J;return jv(E)?(U=t.getRecordMatcher(E),J=K):J=E,t.addRoute(J,U)}function p(E){const K=t.getRecordMatcher(E);K&&t.removeRoute(K)}function g(){return t.getRoutes().map(E=>E.record)}function y(E){return!!t.getRecordMatcher(E)}function w(E,K){if(K=$e({},K||l.value),typeof E=="string"){const pe=$u(n,E,K.path),m=t.resolve({path:pe.path},K),v=s.createHref(pe.fullPath);return $e(pe,m,{params:d(m.params),hash:Ha(pe.hash),redirectedFrom:void 0,href:v})}let U;if("path"in E)U=$e({},E,{path:$u(n,E.path,K.path).path});else{const pe=$e({},E.params);for(const m in pe)pe[m]==null&&delete pe[m];U=$e({},E,{params:h(E.params)}),K.params=h(K.params)}const J=t.resolve(U,K),Fe=E.hash||"";J.params=c(d(J.params));const je=bS(r,$e({},E,{hash:sI(Fe),path:J.path})),ve=s.createHref(je);return $e({fullPath:je,hash:Fe,query:r===$p?uI(E.query):E.query||{}},J,{redirectedFrom:void 0,href:ve})}function _(E){return typeof E=="string"?$u(n,E,l.value.path):$e({},E)}function I(E,K){if(u!==E)return ni(8,{from:K,to:E})}function x(E){return R(E)}function W(E){return x($e(_(E),{replace:!0}))}function Y(E){const K=E.matched[E.matched.length-1];if(K&&K.redirect){const{redirect:U}=K;let J=typeof U=="function"?U(E):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=_(J):{path:J},J.params={}),$e({query:E.query,hash:E.hash,params:E.params},J)}}function R(E,K){const U=u=w(E),J=l.value,Fe=E.state,je=E.force,ve=E.replace===!0,pe=Y(U);if(pe)return R($e(_(pe),{state:Fe,force:je,replace:ve}),K||U);const m=U;m.redirectedFrom=K;let v;return!je&&_S(r,J,U)&&(v=ni(16,{to:m,from:J}),Cs(J,J,!0,!1)),(v?Promise.resolve(v):te(m,J)).catch(b=>fr(b)?fr(b,2)?b:jt(b):Re(b,m,J)).then(b=>{if(b){if(fr(b,2))return R($e(_(b.to),{state:Fe,force:je,replace:ve}),K||m)}else b=Ne(m,J,!0,ve,Fe);return we(m,J,b),b})}function ce(E,K){const U=I(E,K);return U?Promise.reject(U):Promise.resolve()}function te(E,K){let U;const[J,Fe,je]=vI(E,K);U=Vu(J.reverse(),"beforeRouteLeave",E,K);for(const pe of J)pe.leaveGuards.forEach(m=>{U.push(yr(m,E,K))});const ve=ce.bind(null,E,K);return U.push(ve),Rs(U).then(()=>{U=[];for(const pe of i.list())U.push(yr(pe,E,K));return U.push(ve),Rs(U)}).then(()=>{U=Vu(Fe,"beforeRouteUpdate",E,K);for(const pe of Fe)pe.updateGuards.forEach(m=>{U.push(yr(m,E,K))});return U.push(ve),Rs(U)}).then(()=>{U=[];for(const pe of E.matched)if(pe.beforeEnter&&!K.matched.includes(pe))if(Array.isArray(pe.beforeEnter))for(const m of pe.beforeEnter)U.push(yr(m,E,K));else U.push(yr(pe.beforeEnter,E,K));return U.push(ve),Rs(U)}).then(()=>(E.matched.forEach(pe=>pe.enterCallbacks={}),U=Vu(je,"beforeRouteEnter",E,K),U.push(ve),Rs(U))).then(()=>{U=[];for(const pe of o.list())U.push(yr(pe,E,K));return U.push(ve),Rs(U)}).catch(pe=>fr(pe,8)?pe:Promise.reject(pe))}function we(E,K,U){for(const J of a.list())J(E,K,U)}function Ne(E,K,U,J,Fe){const je=I(E,K);if(je)return je;const ve=K===dr,pe=Fs?history.state:{};U&&(J||ve?s.replace(E.fullPath,$e({scroll:ve&&pe&&pe.scroll},Fe)):s.push(E.fullPath,Fe)),l.value=E,Cs(E,K,U,ve),jt()}let z;function Oe(){z=s.listen((E,K,U)=>{const J=w(E),Fe=Y(J);if(Fe){R($e(Fe,{replace:!0}),J).catch(Wi);return}u=J;const je=l.value;Fs&&OS(Pp(je.fullPath,U.delta),Nl()),te(J,je).catch(ve=>fr(ve,12)?ve:fr(ve,2)?(R(ve.to,J).then(pe=>{fr(pe,20)&&!U.delta&&U.type===lo.pop&&s.go(-1,!1)}).catch(Wi),Promise.reject()):(U.delta&&s.go(-U.delta,!1),Re(ve,J,je))).then(ve=>{ve=ve||Ne(J,je,!1),ve&&(U.delta?s.go(-U.delta,!1):U.type===lo.pop&&fr(ve,20)&&s.go(-1,!1)),we(J,je,ve)}).catch(Wi)})}let xe=Pi(),En=Pi(),Ge;function Re(E,K,U){jt(E);const J=En.list();return J.length?J.forEach(Fe=>Fe(E,K,U)):console.error(E),Promise.reject(E)}function Le(){return Ge&&l.value!==dr?Promise.resolve():new Promise((E,K)=>{xe.add([E,K])})}function jt(E){return Ge||(Ge=!E,Oe(),xe.list().forEach(([K,U])=>E?U(E):K()),xe.reset()),E}function Cs(E,K,U,J){const{scrollBehavior:Fe}=e;if(!Fs||!Fe)return Promise.resolve();const je=!U&&RS(Pp(E.fullPath,0))||(J||!U)&&history.state&&history.state.scroll||null;return Ae().then(()=>Fe(E,K,je)).then(ve=>ve&&AS(ve)).catch(ve=>Re(ve,E,K))}const Vn=E=>s.go(E);let Tn;const Xt=new Set;return{currentRoute:l,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:g,resolve:w,options:e,push:x,replace:W,go:Vn,back:()=>Vn(-1),forward:()=>Vn(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:En.add,isReady:Le,install(E){const K=this;E.component("RouterLink",dI),E.component("RouterView",gI),E.config.globalProperties.$router=K,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>On(l)}),Fs&&!Tn&&l.value===dr&&(Tn=!0,x(s.location).catch(Fe=>{}));const U={};for(const Fe in dr)U[Fe]=F(()=>l.value[Fe]);E.provide(Ml,K),E.provide(zh,ws(U)),E.provide(Pc,l);const J=E.unmount;Xt.add(E),E.unmount=function(){Xt.delete(E),Xt.size<1&&(u=dr,z&&z(),l.value=dr,Tn=!1,Ge=!1),J()}}}}function Rs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function vI(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>ti(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>ti(u,l))||s.push(l))}return[n,r,s]}function iU(){return Se(Ml)}function oU(){return Se(zh)}function Ya(e){return G_()?(J_(e),!0):!1}const Wa=typeof window!="undefined",yI=e=>typeof e=="string",ju=()=>{};function wI(e,t){function n(...r){e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})}return n}const bI=e=>e();function Gv(e,t=!0){Ro()?et(e):t?e():Ae(e)}function aU(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let i=null;const o=M(!1);function a(){i&&(clearInterval(i),i=null)}function l(){o.value=!1,a()}function u(){t<=0||(o.value=!0,s&&e(),a(),i=setInterval(e,On(t)))}if(r&&Wa&&u(),Ye(t)){const c=kt(t,()=>{r&&Wa&&u()});Ya(c)}return Ya(l),{isActive:o,pause:l,resume:u}}function lU(e=!1){if(Ye(e))return t=>(e.value=typeof t=="boolean"?t:!e.value,e.value);{const t=M(e);return[t,r=>(t.value=typeof r=="boolean"?r:!t.value,t.value)]}}var Yp=Object.getOwnPropertySymbols,_I=Object.prototype.hasOwnProperty,EI=Object.prototype.propertyIsEnumerable,TI=(e,t)=>{var n={};for(var r in e)_I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yp)for(var r of Yp(e))t.indexOf(r)<0&&EI.call(e,r)&&(n[r]=e[r]);return n};function SI(e,t,n={}){const r=n,{eventFilter:s=bI}=r,i=TI(r,["eventFilter"]);return kt(e,wI(s,t),i)}function uU(e,t,n){const r=kt(e,(...s)=>(Ae(()=>r()),t(...s)),n)}function II(e){var t;const n=On(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ri=Wa?window:void 0;function kI(...e){let t,n,r,s;if(yI(e[0])?([n,r,s]=e,t=ri):[t,n,r,s]=e,!t)return ju;let i=ju;const o=kt(()=>II(t),l=>{i(),l&&(l.addEventListener(n,r,s),i=()=>{l.removeEventListener(n,r,s),i=ju})},{immediate:!0,flush:"post"}),a=()=>{o(),i()};return Ya(a),a}function CI(e,t={}){const{window:n=ri}=t;let r;const s=M(!1),i=()=>{!n||(r||(r=n.matchMedia(e)),s.value=r.matches)};return Gv(()=>{i(),r&&("addEventListener"in r?r.addEventListener("change",i):r.addListener(i),Ya(()=>{"removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i)}))}),s}const Lc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Fc="__vueuse_ssr_handlers__";Lc[Fc]=Lc[Fc]||{};const AI=Lc[Fc];function Jv(e,t){return AI[e]||t}function OI(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const RI={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))}};function DI(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,shallow:u,window:c=ri,eventFilter:h,onError:d=I=>{console.error(I)}}=r,f=On(t),p=OI(f),g=(u?ev:M)(t),y=(s=r.serializer)!=null?s:RI[p];if(!n)try{n=Jv("getDefaultStorage",()=>{var I;return(I=ri)==null?void 0:I.localStorage})()}catch(I){d(I)}let w=!1;function _(I){if(!(!n||I&&I.key!==e))try{const x=I?I.newValue:n.getItem(e);x==null?(g.value=f,l&&f!==null&&n.setItem(e,y.write(f))):typeof x!="string"?g.value=x:g.value=y.read(x)}catch(x){d(x)}}return _(),c&&a&&kI(c,"storage",I=>{setTimeout(()=>{if(w){w=!1;return}_(I)},0)}),n&&SI(g,()=>{try{g.value==null?n.removeItem(e):n.setItem(e,y.write(g.value)),w=!0}catch(I){d(I)}},{flush:i,deep:o,eventFilter:h}),g}function Qv(e){return CI("(prefers-color-scheme: dark)",e)}var xI=Object.defineProperty,Wp=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,MI=Object.prototype.propertyIsEnumerable,qp=(e,t,n)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NI=(e,t)=>{for(var n in t||(t={}))PI.call(t,n)&&qp(e,n,t[n]);if(Wp)for(var n of Wp(t))MI.call(t,n)&&qp(e,n,t[n]);return e};function LI(e={}){const{selector:t="html",attribute:n="class",window:r=ri,storage:s,storageKey:i="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:a}=e,l=NI({auto:"",light:"light",dark:"dark"},e.modes||{}),u=Qv({window:r}),c=F(()=>u.value?"dark":"light"),h=a||(i==null?M("auto"):DI(i,"auto",s,{window:r,listenToStorageChanges:o})),d=F({get(){return h.value==="auto"?c.value:h.value},set(y){h.value=y}}),f=Jv("updateHTMLAttrs",(y,w,_)=>{const I=r==null?void 0:r.document.querySelector(y);if(!!I)if(w==="class"){const x=_.split(/\s/g);Object.values(l).flatMap(W=>(W||"").split(/\s/g)).filter(Boolean).forEach(W=>{x.includes(W)?I.classList.add(W):I.classList.remove(W)})}else I.setAttribute(w,_)});function p(y){var w;f(t,n,(w=l[y])!=null?w:y)}function g(y){e.onChanged?e.onChanged(y,p):p(y)}return kt(d,g,{flush:"post",immediate:!0}),Gv(()=>g(d.value)),d}var FI=Object.defineProperty,UI=Object.defineProperties,$I=Object.getOwnPropertyDescriptors,Kp=Object.getOwnPropertySymbols,VI=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable,zp=(e,t,n)=>t in e?FI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BI=(e,t)=>{for(var n in t||(t={}))VI.call(t,n)&&zp(e,n,t[n]);if(Kp)for(var n of Kp(t))jI.call(t,n)&&zp(e,n,t[n]);return e},HI=(e,t)=>UI(e,$I(t));function cU(e={}){const{valueDark:t="dark",valueLight:n="",window:r=ri}=e,s=LI(HI(BI({},e),{onChanged:(a,l)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,a==="dark"):l(a)},modes:{dark:t,light:n}})),i=Qv({window:r});return F({get(){return s.value==="dark"},set(a){a===i.value?s.value="auto":s.value=a?"dark":"light"}})}var Gp,Jp;Wa&&(window==null?void 0:window.navigator)&&((Gp=window==null?void 0:window.navigator)==null?void 0:Gp.platform)&&/iP(ad|hone|od)/.test((Jp=window==null?void 0:window.navigator)==null?void 0:Jp.platform);function hU(e,t,n,r={}){var s;const{passive:i=!1,eventName:o,deep:a=!1}=r,l=Ro(),u=n||(l==null?void 0:l.emit)||((s=l==null?void 0:l.$emit)==null?void 0:s.bind(l));let c=o;if(t||(t="modelValue"),c=o||c||`update:${t}`,i){const h=M(e[t]);return kt(()=>e[t],d=>h.value=d),kt(h,d=>{(d!==e[t]||a)&&u(c,d)},{deep:a}),h}else return F({get(){return e[t]},set(h){u(c,h)}})}var YI=!1;/*!
  * pinia v2.0.12
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Xv;const Ll=e=>Xv=e,Zv=Symbol();function Uc(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ki;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ki||(Ki={}));function dU(){const e=Ug(!0),t=e.run(()=>M({}));let n=[],r=[];const s=Xs({install(i){Ll(s),s._a=i,i.provide(Zv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!YI?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ey=()=>{};function Qp(e,t,n,r=ey){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Ro()&&mt(s),s}function Ds(e,...t){e.slice().forEach(n=>{n(...t)})}function $c(e,t){for(const n in t){const r=t[n],s=e[n];Uc(s)&&Uc(r)&&!Ye(r)&&!Qn(r)?e[n]=$c(s,r):e[n]=r}return e}const WI=Symbol();function qI(e){return!Uc(e)||!e.hasOwnProperty(WI)}const{assign:Bn}=Object;function KI(e){return!!(Ye(e)&&e.effect)}function zI(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=s?s():{});const c=IE(n.state.value[e]);return Bn(c,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Xs(F(()=>{Ll(n);const f=n._s.get(e);return o[d].call(f,f)})),h),{}))}return l=ty(e,u,t,n),l.$reset=function(){const h=s?s():{};this.$patch(d=>{Bn(d,h)})},l}function ty(e,t,n={},r,s){let i;const o=n.state,a=Bn({actions:{}},n),l={deep:!0};let u,c,h=Xs([]),d=Xs([]),f;const p=r.state.value[e];!o&&!p&&(r.state.value[e]={}),M({});function g(Y){let R;u=c=!1,typeof Y=="function"?(Y(r.state.value[e]),R={type:Ki.patchFunction,storeId:e,events:f}):($c(r.state.value[e],Y),R={type:Ki.patchObject,payload:Y,storeId:e,events:f}),Ae().then(()=>{u=!0}),c=!0,Ds(h,R,r.state.value[e])}const y=ey;function w(){i.stop(),h=[],d=[],r._s.delete(e)}function _(Y,R){return function(){Ll(r);const ce=Array.from(arguments),te=[],we=[];function Ne(xe){te.push(xe)}function z(xe){we.push(xe)}Ds(d,{args:ce,name:Y,store:x,after:Ne,onError:z});let Oe;try{Oe=R.apply(this&&this.$id===e?this:x,ce)}catch(xe){throw Ds(we,xe),xe}return Oe instanceof Promise?Oe.then(xe=>(Ds(te,xe),xe)).catch(xe=>(Ds(we,xe),Promise.reject(xe))):(Ds(te,Oe),Oe)}}const I={_p:r,$id:e,$onAction:Qp.bind(null,d),$patch:g,$reset:y,$subscribe(Y,R={}){const ce=Qp(h,Y,R.detached,()=>te()),te=i.run(()=>kt(()=>r.state.value[e],we=>{(R.flush==="sync"?c:u)&&Y({storeId:e,type:Ki.direct,events:f},we)},Bn({},l,R)));return ce},$dispose:w},x=ws(Bn({},I));r._s.set(e,x);const W=r._e.run(()=>(i=Ug(),i.run(()=>t())));for(const Y in W){const R=W[Y];if(Ye(R)&&!KI(R)||Qn(R))o||(p&&qI(R)&&(Ye(R)?R.value=p[Y]:$c(R,p[Y])),r.state.value[e][Y]=R);else if(typeof R=="function"){const ce=_(Y,R);W[Y]=ce,a.actions[Y]=R}}return Bn(x,W),Bn(le(x),W),Object.defineProperty(x,"$state",{get:()=>r.state.value[e],set:Y=>{g(R=>{Bn(R,Y)})}}),r._p.forEach(Y=>{Bn(x,i.run(()=>Y({store:x,app:r._a,pinia:r,options:a})))}),p&&o&&n.hydrate&&n.hydrate(x.$state,p),u=!0,c=!0,x}function fU(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,l){const u=Ro();return a=a||u&&Se(Zv),a&&Ll(a),a=Xv,a._s.has(r)||(i?ty(r,t,s,a):zI(r,s,a)),a._s.get(r)}return o.$id=r,o}function pU(e){e=le(e);const t={};for(const n in e){const r=e[n];(Ye(r)||Qn(r))&&(t[n]=rv(e,n))}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},GI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,u=l?e[s+2]:0,c=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ny(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):GI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw Error();const d=i<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},sy=function(e){const t=ny(e);return ry.encodeByteArray(t,!0)},JI=function(e){try{return ry.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iy(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Jh(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function oy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){return dt().indexOf("Electron/")>=0}function ay(){const e=dt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ZI(){return dt().indexOf("MSAppHost/")>=0}function ly(){return typeof indexedDB=="object"}function uy(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function ek(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="FirebaseError";class ir extends Error{constructor(t,n,r){super(n);this.code=t,this.customData=r,this.name=tk,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bs.prototype.create)}}class bs{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?nk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ir(s,a,r)}}function nk(e,t){return e.replace(rk,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const rk=/\{\$([^}]+)}/g;function sk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function uo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Xp(i)&&Xp(o)){if(!uo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ik(e,t){const n=new ok(e,t);return n.subscribe.bind(n)}class ok{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ak(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Bu),s.error===void 0&&(s.error=Bu),s.complete===void 0&&(s.complete=Bu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ak(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=1e3,uk=2,ck=4*60*60*1e3,hk=.5;function Zp(e,t=lk,n=uk){const r=t*Math.pow(n,e),s=Math.round(hk*r*(Math.random()-.5)*2);return Math.min(ck,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e&&e._delegate?e._delegate:e}class yn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new QI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pk(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fk(e){return e===Wr?void 0:e}function pk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const gk={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},vk=Ce.INFO,yk={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},wk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=yk[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fl{constructor(t){this.name=t,this._logLevel=vk,this._logHandler=wk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}function bk(e){return Array.prototype.slice.call(e)}function cy(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Qh(e,t,n){var r,s=new Promise(function(i,o){r=e[t].apply(e,n),cy(r).then(i,o)});return s.request=r,s}function _k(e,t,n){var r=Qh(e,t,n);return r.then(function(s){if(!!s)return new co(s,r.request)})}function yi(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(s){this[t][r]=s}})})}function Xh(e,t,n,r){r.forEach(function(s){s in n.prototype&&(e.prototype[s]=function(){return Qh(this[t],s,arguments)})})}function Ul(e,t,n,r){r.forEach(function(s){s in n.prototype&&(e.prototype[s]=function(){return this[t][s].apply(this[t],arguments)})})}function hy(e,t,n,r){r.forEach(function(s){s in n.prototype&&(e.prototype[s]=function(){return _k(this[t],s,arguments)})})}function _s(e){this._index=e}yi(_s,"_index",["name","keyPath","multiEntry","unique"]);Xh(_s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);hy(_s,"_index",IDBIndex,["openCursor","openKeyCursor"]);function co(e,t){this._cursor=e,this._request=t}yi(co,"_cursor",["direction","key","primaryKey","value"]);Xh(co,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(co.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),cy(t._request).then(function(r){if(!!r)return new co(r,t._request)})})})});function Fn(e){this._store=e}Fn.prototype.createIndex=function(){return new _s(this._store.createIndex.apply(this._store,arguments))};Fn.prototype.index=function(){return new _s(this._store.index.apply(this._store,arguments))};yi(Fn,"_store",["name","keyPath","indexNames","autoIncrement"]);Xh(Fn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);hy(Fn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Ul(Fn,"_store",IDBObjectStore,["deleteIndex"]);function xo(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}xo.prototype.objectStore=function(){return new Fn(this._tx.objectStore.apply(this._tx,arguments))};yi(xo,"_tx",["objectStoreNames","mode"]);Ul(xo,"_tx",IDBTransaction,["abort"]);function $l(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new xo(n)}$l.prototype.createObjectStore=function(){return new Fn(this._db.createObjectStore.apply(this._db,arguments))};yi($l,"_db",["name","version","objectStoreNames"]);Ul($l,"_db",IDBDatabase,["deleteObjectStore","close"]);function Vl(e){this._db=e}Vl.prototype.transaction=function(){return new xo(this._db.transaction.apply(this._db,arguments))};yi(Vl,"_db",["name","version","objectStoreNames"]);Ul(Vl,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Fn,_s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=bk(arguments),r=n[n.length-1],s=this._store||this._index,i=s[e].apply(s,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})});[_s,Fn].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,s=[];return new Promise(function(i){r.iterateCursor(t,function(o){if(!o){i(s);return}if(s.push(o.value),n!==void 0&&s.length==n){i(s);return}o.continue()})})})});function dy(e,t,n){var r=Qh(indexedDB,"open",[e,t]),s=r.request;return s&&(s.onupgradeneeded=function(i){n&&n(new $l(s.result,i.oldVersion,s.transaction))}),r.then(function(i){return new Vl(i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vc="@firebase/app",em="0.7.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Fl("@firebase/app"),Sk="@firebase/app-compat",Ik="@firebase/analytics-compat",kk="@firebase/analytics",Ck="@firebase/app-check-compat",Ak="@firebase/app-check",Ok="@firebase/auth",Rk="@firebase/auth-compat",Dk="@firebase/database",xk="@firebase/database-compat",Pk="@firebase/functions",Mk="@firebase/functions-compat",Nk="@firebase/installations",Lk="@firebase/installations-compat",Fk="@firebase/messaging",Uk="@firebase/messaging-compat",$k="@firebase/performance",Vk="@firebase/performance-compat",jk="@firebase/remote-config",Bk="@firebase/remote-config-compat",Hk="@firebase/storage",Yk="@firebase/storage-compat",Wk="@firebase/firestore",qk="@firebase/firestore-compat",Kk="firebase",zk="9.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",Gk={[Vc]:"fire-core",[Sk]:"fire-core-compat",[kk]:"fire-analytics",[Ik]:"fire-analytics-compat",[Ak]:"fire-app-check",[Ck]:"fire-app-check-compat",[Ok]:"fire-auth",[Rk]:"fire-auth-compat",[Dk]:"fire-rtdb",[xk]:"fire-rtdb-compat",[Pk]:"fire-fn",[Mk]:"fire-fn-compat",[Nk]:"fire-iid",[Lk]:"fire-iid-compat",[Fk]:"fire-fcm",[Uk]:"fire-fcm-compat",[$k]:"fire-perf",[Vk]:"fire-perf-compat",[jk]:"fire-rc",[Bk]:"fire-rc-compat",[Hk]:"fire-gcs",[Yk]:"fire-gcs-compat",[Wk]:"fire-fst",[qk]:"fire-fst-compat","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Map,jc=new Map;function Jk(e,t){try{e.container.addComponent(t)}catch(n){Zh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pn(e){const t=e.name;if(jc.has(t))return Zh.debug(`There were multiple attempts to register component ${t}.`),!1;jc.set(t,e);for(const n of qa.values())Jk(n,e);return!0}function Es(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},xr=new bs("app","Firebase",Qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=zk;function mU(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:fy,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw xr.create("bad-app-name",{appName:String(r)});const s=qa.get(r);if(s){if(uo(e,s.options)&&uo(n,s.config))return s;throw xr.create("duplicate-app",{appName:r})}const i=new mk(r);for(const a of jc.values())i.addComponent(a);const o=new Xk(e,n,i);return qa.set(r,o),o}function ed(e=fy){const t=qa.get(e);if(!t)throw xr.create("no-app",{appName:e});return t}function sn(e,t,n){var r;let s=(r=Gk[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zh.warn(a.join(" "));return}Pn(new yn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firebase-heartbeat-database",e1=1,ls="firebase-heartbeat-store";let Hu=null;function td(){return Hu||(Hu=dy(Zk,e1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(ls)}}).catch(e=>{throw xr.create("storage-open",{originalErrorMessage:e.message})})),Hu}async function t1(e){try{return(await td()).transaction(ls).objectStore(ls).get(nd(e))}catch(t){throw xr.create("storage-get",{originalErrorMessage:t.message})}}async function Yu(e,t){try{const r=(await td()).transaction(ls,"readwrite");return await r.objectStore(ls).put(t,nd(e)),r.complete}catch(n){throw xr.create("storage-set",{originalErrorMessage:n.message})}}async function n1(e){try{const n=(await td()).transaction(ls,"readwrite");return await n.objectStore(ls).delete(nd(e)),n.complete}catch(t){throw xr.create("storage-delete",{originalErrorMessage:t.message})}}function nd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1024,s1=30*24*60*60*1e3;class i1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=o1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!this._heartbeatsCache.some(s=>s.date===r))return this._heartbeatsCache.push({date:r,userAgent:n}),this._heartbeatsCache=this._heartbeatsCache.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=s1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null)return"";const{heartbeatsToSend:t,unsentEntries:n}=a1(this._heartbeatsCache),r=sy(JSON.stringify({version:2,heartbeats:t}));return n.length>0?(this._heartbeatsCache=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache=null,this._storage.deleteAll()),r}}function o1(){return new Date().toISOString().substring(0,10)}function a1(e,t=r1){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.userAgent===s.userAgent);if(i){if(i.dates.push(s.date),tm(n)>t){i.dates.pop();break}}else if(n.push({userAgent:s.userAgent,dates:[s.date]}),tm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?uy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t1(this.app);return(n==null?void 0:n.heartbeats)||[]}else return[]}async overwrite(t){if(await this._canUseIndexedDBPromise)return Yu(this.app,{heartbeats:t})}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yu(this.app,{heartbeats:[...r,...t]})}else return}async delete(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yu(this.app,{heartbeats:r.filter(s=>!t.includes(s))})}else return}async deleteAll(){if(await this._canUseIndexedDBPromise)return n1(this.app)}}function tm(e){return sy(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e){Pn(new yn("platform-logger",t=>new Ek(t),"PRIVATE")),Pn(new yn("heartbeat",t=>new i1(t),"PRIVATE")),sn(Vc,em,e),sn(Vc,em,"esm2017"),sn("fire-js","")}u1("");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function rd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function py(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c1=py,my=new bs("auth","Firebase",py());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Fl("@firebase/auth");function Ia(e,...t){nm.logLevel<=Ce.ERROR&&nm.error(`Auth (${Po}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(e,...t){throw sd(e,...t)}function Rn(e,...t){return sd(e,...t)}function gy(e,t,n){const r=Object.assign(Object.assign({},c1()),{[t]:n});return new bs("auth","Firebase",r).create(t,{appName:e.name})}function h1(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Mn(e,"argument-error"),gy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sd(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return my.create(e,...t)}function ae(e,t,...n){if(!e)throw sd(t,...n)}function qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ia(t),new Error(t)}function tr(e,t){e||qn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map;function Kn(e){tr(e instanceof Function,"Expected a class definition");let t=rm.get(e);return t?(tr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rm.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(e,t){const n=Es(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(uo(i,t!=null?t:{}))return s;Mn(s,"already-initialized")}return n.initialize({options:t})}function f1(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function p1(){return sm()==="http:"||sm()==="https:"}function sm(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p1()||Jh()||"connection"in navigator)?navigator.onLine:!0}function g1(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=iy()||oy()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e,t){tr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Mo(3e4,6e4);function w1(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jl(e,t,n,r,s={}){return yy(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Do(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),vy.fetch()(wy(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})}async function yy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},v1),t);try{const s=new _1(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wu(e,"email-already-in-use",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gy(e,c,u);Mn(e,c)}}catch(s){if(s instanceof ir)throw s;Mn(e,"network-request-failed")}}async function b1(e,t,n,r,s={}){const i=await jl(e,t,n,r,s);return"mfaPendingCredential"in i&&Mn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function wy(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?id(e.config,s):`${e.config.apiScheme}://${s}`}class _1{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),y1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rn(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(e,t){return jl(e,"POST","/v1/accounts:delete",t)}async function T1(e,t){return jl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S1(e,t=!1){const n=an(e),r=await n.getIdToken(t),s=od(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:zi(qu(s.auth_time)),issuedAtTime:zi(qu(s.iat)),expirationTime:zi(qu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function qu(e){return Number(e)*1e3}function od(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ia("JWT malformed, contained fewer than 3 sections"),null;try{const s=JI(n);return s?JSON.parse(s):(Ia("Failed to decode base64 JWT payload"),null)}catch(s){return Ia("Caught error parsing JWT payload as JSON",s),null}}function I1(e){const t=od(e);return ae(t,"internal-error"),ae(typeof t.exp!="undefined","internal-error"),ae(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ir&&k1(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function k1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(e){var t;const n=e.auth,r=await e.getIdToken(),s=await ho(e,T1(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?R1(i.providerUserInfo):[],a=O1(e.providerData,o),l=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new by(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function A1(e){const t=an(e);await Ka(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function O1(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function R1(e){return e.map(t=>{var{providerId:n}=t,r=rd(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(e,t){const n=await yy(e,{},async()=>{const r=Do({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=wy(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vy.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken!="undefined","internal-error"),ae(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):I1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ae(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await D1(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fo;return r&&(ae(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e,t){ae(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class rs{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=rd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new by(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await ho(this,this.stsTokenManager.getToken(this.auth,t));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return S1(this,t)}reload(){return A1(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new rs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ka(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ho(this,E1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:I,emailVerified:x,isAnonymous:W,providerData:Y,stsTokenManager:R}=n;ae(I&&R,t,"internal-error");const ce=fo.fromJSON(this.name,R);ae(typeof I=="string",t,"internal-error"),pr(h,t.name),pr(d,t.name),ae(typeof x=="boolean",t,"internal-error"),ae(typeof W=="boolean",t,"internal-error"),pr(f,t.name),pr(p,t.name),pr(g,t.name),pr(y,t.name),pr(w,t.name),pr(_,t.name);const te=new rs({uid:I,auth:t,email:d,emailVerified:x,displayName:h,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ce,createdAt:w,lastLoginAt:_});return Y&&Array.isArray(Y)&&(te.providerData=Y.map(we=>Object.assign({},we))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(t,n,r=!1){const s=new fo;s.updateFromServerResponse(n);const i=new rs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ka(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_y.type="NONE";const im=_y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(e,t,n){return`firebase:${e}:${t}:${n}`}class Ys{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ka(this.userKey,s.apiKey,i),this.fullPersistenceKey=ka("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ys(Kn(im),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Kn(im);const o=ka(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=rs._fromJSON(t,c);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ys(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ys(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ey(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ky(t))return"Blackberry";if(Cy(t))return"Webos";if(ad(t))return"Safari";if((t.includes("chrome/")||Ty(t))&&!t.includes("edge/"))return"Chrome";if(Iy(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ey(e=dt()){return/firefox\//i.test(e)}function ad(e=dt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ty(e=dt()){return/crios\//i.test(e)}function Sy(e=dt()){return/iemobile/i.test(e)}function Iy(e=dt()){return/android/i.test(e)}function ky(e=dt()){return/blackberry/i.test(e)}function Cy(e=dt()){return/webos/i.test(e)}function Bl(e=dt()){return/iphone|ipad|ipod/i.test(e)}function x1(e=dt()){var t;return Bl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function P1(){return ay()&&document.documentMode===10}function Ay(e=dt()){return Bl(e)||Iy(e)||Cy(e)||ky(e)||/windows phone/i.test(e)||Sy(e)}function M1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t=[]){let n;switch(e){case"Browser":n=om(dt());break;case"Worker":n=`${om(dt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new am(this),this.idTokenSubscription=new am(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=my,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t)}}async initializeCurrentUser(t){var n;let r=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,i=r==null?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);(!s||s===i)&&(o==null?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)):this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ka(t)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?an(t):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new bs("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Kn(t)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Oy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={["X-Client-Version"]:this.clientVersion};return this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),t}}function ld(e){return an(e)}class am{constructor(t){this.auth=t,this.observer=null,this.addObserver=ik(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(t){return qn("not implemented")}_linkToIdToken(t,n){return qn("not implemented")}_getReauthenticationResolver(t){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e,t){return b1(e,"POST","/v1/accounts:signInWithIdp",w1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="http://localhost";class us extends Ry{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(t){const n=new us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=rd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new us(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ws(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ws(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ws(t,n)}buildRequest(){const t={requestUri:L1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Do(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends ud{constructor(){super(...arguments);this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends No{constructor(){super("facebook.com")}static credential(t){return us._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends No{constructor(){super("google.com");this.addScope("profile")}static credential(t,n){return us._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends No{constructor(){super("github.com")}static credential(t){return us._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends No{constructor(){super("twitter.com")}static credential(t,n){return us._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await rs._fromIdTokenResponse(t,r,s),o=lm(r);return new si({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=lm(r);return new si({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function lm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends ir{constructor(t,n,r,s){var i;super(n.code,n.message);this.operationType=r,this.user=s,Object.setPrototypeOf(this,za.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new za(t,n,r,s)}}function Dy(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(e,i,t,r):i})}async function F1(e,t,n=!1){const r=await ho(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return si._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await ho(e,Dy(r,s,t,e),n);ae(i.idToken,r,"internal-error");const o=od(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(e.uid===a,r,"user-mismatch"),si._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(e,t,n=!1){const r="signIn",s=await Dy(e,r,t),i=await si._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function gU(e,t,n,r){return an(e).onAuthStateChanged(t,n,r)}const Ga="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ga,"1"),this.storage.removeItem(Ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){const e=dt();return ad(e)||Bl(e)}const j1=1e3,B1=10;class Py extends xy{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=V1()&&M1(),this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);P1()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,B1):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},j1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Py.type="LOCAL";const H1=Py;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends xy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}My.type="SESSION";const Ny=My;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Hl(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Y1(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=cd("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function q1(e){Dn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){return typeof Dn().WorkerGlobalScope!="undefined"&&typeof Dn().importScripts=="function"}async function K1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z1(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function G1(){return Ly()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="firebaseLocalStorageDb",J1=1,Ja="firebaseLocalStorage",Uy="fbase_key";class Lo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yl(e,t){return e.transaction([Ja],t?"readwrite":"readonly").objectStore(Ja)}function Q1(){const e=indexedDB.deleteDatabase(Fy);return new Lo(e).toPromise()}function Hc(){const e=indexedDB.open(Fy,J1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ja,{keyPath:Uy})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ja)?t(r):(r.close(),await Q1(),t(await Hc()))})})}async function um(e,t,n){const r=Yl(e,!0).put({[Uy]:t,value:n});return new Lo(r).toPromise()}async function X1(e,t){const n=Yl(e,!1).get(t),r=await new Lo(n).toPromise();return r===void 0?null:r.value}function cm(e,t){const n=Yl(e,!0).delete(t);return new Lo(n).toPromise()}const Z1=800,eC=3;class $y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hc(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>eC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ly()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hl._getInstance(G1()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await K1(),!this.activeServiceWorker)return;this.sender=new W1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||z1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hc();return await um(t,Ga,"1"),await cm(t,Ga),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>um(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>X1(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cm(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Yl(s,!1).getAll();return new Lo(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$y.type="LOCAL";const tC=$y;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function rC(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=Rn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nC().appendChild(r)})}function sC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){return t?Kn(t):(ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Ry{constructor(t){super("custom","custom");this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iC(e){return $1(e.auth,new hd(e),e.bypassAuthState)}function oC(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),U1(n,new hd(e),e.bypassAuthState)}async function aC(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),F1(n,new hd(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return aC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:Mn(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Mo(2e3,1e4);async function vU(e,t,n){const r=ld(e);h1(e,t,ud);const s=Vy(r,n);return new Gr(r,"signInViaPopup",t,s).executeNotNull()}class Gr extends jy{constructor(t,n,r,s,i){super(t,n,s,i);this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=cd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,lC.get())};t()}}Gr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",Ku=new Map;class cC extends jy{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r);this.eventId=null}async execute(){let t=Ku.get(this.auth._key());if(!t){try{const r=await hC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ku.set(this.auth._key(),t)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(e,t){const n=fC(t),r=dC(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dC(e){return Kn(e._redirectPersistence)}function fC(e){return ka(uC,e.config.apiKey,e.name)}async function pC(e,t,n=!1){const r=ld(e),s=Vy(r,t),o=await new cC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=10*60*1e3;class gC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!By(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mC&&this.cachedEventUids.clear(),this.cachedEventUids.has(hm(t))}saveEventToCache(t){this.cachedEventUids.add(hm(t)),this.lastProcessedEventTime=Date.now()}}function hm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function By({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return By(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(e,t={}){return jl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function _C(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yC(e);for(const n of t)try{if(EC(n))return}catch{}Mn(e,"unauthorized-domain")}function EC(e){const t=Bc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bC.test(n))return!1;if(wC.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Mo(3e4,6e4);function dm(){const e=Dn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function SC(e){return new Promise((t,n)=>{var r,s,i;function o(){dm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dm(),n(Rn(e,"network-request-failed"))},timeout:TC.get()})}if(!((s=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=Dn().gapi)===null||i===void 0)&&i.load)o();else{const a=sC("iframefcb");return Dn()[a]=()=>{gapi.load?o():n(Rn(e,"network-request-failed"))},rC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ca=null,t})}let Ca=null;function IC(e){return Ca=Ca||SC(e),Ca}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Mo(5e3,15e3),CC="__/auth/iframe",AC="emulator/auth/iframe",OC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(e){const t=e.config;ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?id(t,AC):`https://${e.config.authDomain}/${CC}`,r={apiKey:t.apiKey,appName:e.name,v:Po},s=RC.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Do(r).slice(1)}`}async function xC(e){const t=await IC(e),n=Dn().gapi;return ae(n,e,"internal-error"),t.open({where:document.body,url:DC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rn(e,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},kC.get());function l(){Dn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MC=500,NC=600,LC="_blank",FC="http://localhost";class fm{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UC(e,t,n,r=MC,s=NC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},PC),{width:r.toString(),height:s.toString(),top:i,left:o}),u=dt().toLowerCase();n&&(a=Ty(u)?LC:n),Ey(u)&&(t=t||FC,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(x1(u)&&a!=="_self")return $C(t||"",a),new fm(null);const h=window.open(t||"",a,c);ae(h,e,"popup-blocked");try{h.focus()}catch{}return new fm(h)}function $C(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__/auth/handler",jC="emulator/auth/handler";function pm(e,t,n,r,s,i){ae(e.config.authDomain,e,"auth-domain-config-required"),ae(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Po,eventId:s};if(t instanceof ud){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",sk(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(i||{}))o[l]=u}if(t instanceof No){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${BC(e)}?${Do(a).slice(1)}`}function BC({config:e}){return e.emulator?id(e,jC):`https://${e.authDomain}/${VC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="webStorageSupport";class HC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ny,this._completeRedirectFn=pC}async _openPopup(t,n,r,s){var i;tr((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=pm(t,n,r,Bc(),s);return UC(t,o,cd())}async _openRedirect(t,n,r,s){return await this._originValidation(t),q1(pm(t,n,r,Bc(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(tr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await xC(t),r=new gC(t);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zu,{type:zu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[zu];o!==void 0&&n(!!o),Mn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ay()||ad()||Bl()}}const YC=HC;var mm="@firebase/auth",gm="0.19.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var s;t(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KC(e){Pn(new yn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),{apiKey:s,authDomain:i}=r.options;return(o=>{ae(s&&!s.includes(":"),"invalid-api-key",{appName:o.name}),ae(!(i!=null&&i.includes(":")),"argument-error",{appName:o.name});const a={apiKey:s,authDomain:i,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oy(e)},l=new N1(o,a);return f1(l,n),l})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Pn(new yn("auth-internal",t=>{const n=ld(t.getProvider("auth").getImmediate());return(r=>new WC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(mm,gm,qC(e)),sn(mm,gm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(e=ed()){const t=Es(e,"auth");return t.isInitialized()?t.getImmediate():d1(e,{popupRedirectResolver:YC,persistence:[tC,H1,Ny]})}KC("Browser");function st(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,st),r}function ue(r){var s=r,{visible:e=!0,features:t=0}=s,n=dn(s,["visible","features"]);var i;if(e||t&2&&n.props.static)return Gu(n);if(t&1){let o=(i=n.props.unmount)==null||i?0:1;return st(o,{[0](){return null},[1](){return Gu(Dt(j({},n),{props:Dt(j({},n.props),{hidden:!0,style:{display:"none"}})}))}})}return Gu(n)}function Gu({props:e,attrs:t,slots:n,slot:r,name:s}){var i;let u=Lr(e,["unmount","static"]),{as:o}=u,a=dn(u,["as"]),l=(i=n.default)==null?void 0:i.call(n,r);if(o==="template"){if(Object.keys(a).length>0||Object.keys(t).length>0){let[c,...h]=l!=null?l:[];if(!zC(c)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(a).concat(Object.keys(t)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));return as(c,a)}return Array.isArray(l)&&l.length===1?l[0]:l}return pn(o,a,l)}function Lr(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function zC(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var GC=0;function JC(){return++GC}function Pe(){return JC()}function QC(e){throw new Error("Unexpected object: "+e)}function dd(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r!=null?r:-1,i=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>s!==-1&&u.length-l-1>=s?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=s?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:QC(e)}})();return i===-1?r:i}function k(e){return e==null||e.value==null?null:"$el"in e.value?e.value.$el:e.value}function ln(e,t,n){typeof window!="undefined"&&tt(r=>{window.addEventListener(e,t,n),r(()=>{window.removeEventListener(e,t,n)})})}var Hy=Symbol("Context");function XC(){return or()!==null}function or(){return Se(Hy,null)}function wi(e){qe(Hy,e)}function vm(e,t){if(e)return e;let n=t!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Ts(e,t){let n=M(vm(e.value.type,e.value.as));return et(()=>{n.value=vm(e.value.type,e.value.as)}),tt(()=>{var r;n.value||!k(t)||k(t)instanceof HTMLButtonElement&&!((r=k(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}function fd({container:e,accept:t,walk:n,enabled:r}){tt(()=>{let s=e.value;if(!s||r!==void 0&&!r.value)return;let i=Object.assign(a=>t(a),{acceptNode:t}),o=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,i,!1);for(;o.nextNode();)n(o.currentNode)})}var Yy=Symbol("ComboboxContext");function bi(e){let t=Se(Yy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bi),n}return t}ie({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(1),i=M(null),o=M(null),a=M(null),l=M(null),u=M({static:!1,hold:!1}),c=M([]),h=M(null),d=F(()=>e.modelValue),f={comboboxState:s,value:d,inputRef:o,labelRef:i,buttonRef:a,optionsRef:l,disabled:F(()=>e.disabled),options:c,activeOptionIndex:h,inputPropsRef:M({displayValue:void 0}),optionsPropsRef:u,closeCombobox(){e.disabled||s.value!==1&&(s.value=1,h.value=null)},openCombobox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(g,y){if(e.disabled||l.value&&!u.value.static&&s.value===1)return;let w=dd(g===4?{focus:4,id:y}:{focus:g},{resolveItems:()=>c.value,resolveActiveIndex:()=>h.value,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.disabled});h.value!==w&&(h.value=w)},syncInputValue(){let g=f.value.value;if(!k(f.inputRef)||g===void 0)return;let y=f.inputPropsRef.value.displayValue;typeof y=="function"?f.inputRef.value.value=y(g):typeof g=="string"&&(f.inputRef.value.value=g)},selectOption(g){let y=c.value.find(_=>_.id===g);if(!y)return;let{dataRef:w}=y;r("update:modelValue",w.value),f.syncInputValue()},selectActiveOption(){if(h.value===null)return;let{dataRef:g}=c.value[h.value];r("update:modelValue",g.value),f.syncInputValue()},registerOption(g,y){var w,_;let I=h.value!==null?c.value[h.value]:null,x=Array.from((_=(w=l.value)==null?void 0:w.querySelectorAll('[id^="headlessui-combobox-option-"]'))!=null?_:[]).reduce((W,Y,R)=>Object.assign(W,{[Y.id]:R}),{});c.value=[...c.value,{id:g,dataRef:y}].sort((W,Y)=>x[W.id]-x[Y.id]),h.value=(()=>I===null?null:c.value.indexOf(I))()},unregisterOption(g){let y=c.value.slice(),w=h.value!==null?y[h.value]:null,_=y.findIndex(I=>I.id===g);_!==-1&&y.splice(_,1),c.value=y,h.value=(()=>_===h.value||w===null?null:y.indexOf(w))()}};ln("mousedown",g=>{var y,w,_;let I=g.target;s.value===0&&(((y=k(o))==null?void 0:y.contains(I))||((w=k(a))==null?void 0:w.contains(I))||((_=k(l))==null?void 0:_.contains(I))||f.closeCombobox())}),kt([f.value,f.inputRef],()=>f.syncInputValue(),{immediate:!0}),qe(Yy,f),wi(F(()=>st(s.value,{[0]:0,[1]:1})));let p=F(()=>h.value===null?null:c.value[h.value].dataRef.value);return()=>{let g={open:s.value===0,disabled:e.disabled,activeIndex:h.value,activeOption:p.value};return ue({props:Lr(e,["modelValue","onUpdate:modelValue","disabled"]),slot:g,slots:t,attrs:n,name:"Combobox"})}}});ie({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:n}){let r=bi("ComboboxLabel"),s=`headlessui-combobox-label-${Pe()}`;function i(){var o;(o=k(r.inputRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:r.comboboxState.value===0,disabled:r.disabled.value},a={id:s,ref:r.labelRef,onClick:i};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,name:"ComboboxLabel"})}}});ie({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=bi("ComboboxButton"),s=`headlessui-combobox-button-${Pe()}`;function i(l){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(l.preventDefault(),r.openCombobox()),Ae(()=>{var u;return(u=k(r.inputRef))==null?void 0:u.focus({preventScroll:!0})}))}function o(l){switch(l.key){case"ArrowDown":l.preventDefault(),l.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),Ae(()=>{r.value.value||r.goToOption(0)})),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case"ArrowUp":l.preventDefault(),l.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),Ae(()=>{r.value.value||r.goToOption(3)})),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case"Escape":l.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&l.stopPropagation(),r.closeCombobox(),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return}}let a=Ts(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var l,u;let c={open:r.comboboxState.value===0,disabled:r.disabled.value},h={ref:r.buttonRef,id:s,type:a.value,tabindex:"-1","aria-haspopup":!0,"aria-controls":(l=k(r.optionsRef))==null?void 0:l.id,"aria-expanded":r.disabled.value?void 0:r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(u=k(r.labelRef))==null?void 0:u.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:o,onClick:i};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,name:"ComboboxButton"})}}});ie({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=bi("ComboboxInput"),i=`headlessui-combobox-input-${Pe()}`;s.inputPropsRef=F(()=>e);function o(l){switch(l.key){case"Enter":l.preventDefault(),l.stopPropagation(),s.selectActiveOption(),s.closeCombobox();break;case"ArrowDown":return l.preventDefault(),l.stopPropagation(),st(s.comboboxState.value,{[0]:()=>s.goToOption(2),[1]:()=>{s.openCombobox(),Ae(()=>{s.value.value||s.goToOption(0)})}});case"ArrowUp":return l.preventDefault(),l.stopPropagation(),st(s.comboboxState.value,{[0]:()=>s.goToOption(1),[1]:()=>{s.openCombobox(),Ae(()=>{s.value.value||s.goToOption(3)})}});case"Home":case"PageUp":return l.preventDefault(),l.stopPropagation(),s.goToOption(0);case"End":case"PageDown":return l.preventDefault(),l.stopPropagation(),s.goToOption(3);case"Escape":l.preventDefault(),s.optionsRef.value&&!s.optionsPropsRef.value.static&&l.stopPropagation(),s.closeCombobox();break;case"Tab":s.selectActiveOption(),s.closeCombobox();break}}function a(l){s.openCombobox(),t("change",l)}return()=>{var l,u,c,h,d;let f={open:s.comboboxState.value===0},p={"aria-controls":(l=s.optionsRef.value)==null?void 0:l.id,"aria-expanded":s.disabled?void 0:s.comboboxState.value===0,"aria-activedescendant":s.activeOptionIndex.value===null||(u=s.options.value[s.activeOptionIndex.value])==null?void 0:u.id,"aria-labelledby":(d=(c=k(s.labelRef))==null?void 0:c.id)!=null?d:(h=k(s.buttonRef))==null?void 0:h.id,id:i,onKeydown:o,onChange:a,onInput:a,role:"combobox",type:"text",tabIndex:0,ref:s.inputRef},g=Lr(e,["displayValue"]);return ue({props:j(j({},g),p),slot:f,attrs:n,slots:r,features:3,name:"ComboboxInput"})}}});ie({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=bi("ComboboxOptions"),s=`headlessui-combobox-options-${Pe()}`;tt(()=>{r.optionsPropsRef.value.static=e.static}),tt(()=>{r.optionsPropsRef.value.hold=e.hold});let i=or(),o=F(()=>i!==null?i.value===0:r.comboboxState.value===0);return fd({container:F(()=>k(r.optionsRef)),enabled:F(()=>r.comboboxState.value===0),accept(a){return a.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}}),()=>{var a,l,u,c;let h={open:r.comboboxState.value===0},d={"aria-activedescendant":r.activeOptionIndex.value===null||(a=r.options.value[r.activeOptionIndex.value])==null?void 0:a.id,"aria-labelledby":(c=(l=k(r.labelRef))==null?void 0:l.id)!=null?c:(u=k(r.buttonRef))==null?void 0:u.id,id:s,ref:r.optionsRef,role:"listbox"},f=Lr(e,["hold"]);return ue({props:j(j({},f),d),slot:h,attrs:t,slots:n,features:3,visible:o.value,name:"ComboboxOptions"})}}});ie({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=bi("ComboboxOption"),s=`headlessui-combobox-option-${Pe()}`,i=F(()=>r.activeOptionIndex.value!==null?r.options.value[r.activeOptionIndex.value].id===s:!1),o=F(()=>le(r.value.value)===le(e.value)),a=F(()=>({disabled:e.disabled,value:e.value}));et(()=>r.registerOption(s,a)),mt(()=>r.unregisterOption(s)),et(()=>{kt([r.comboboxState,o],()=>{r.comboboxState.value===0&&(!o.value||r.goToOption(4,s))},{immediate:!0})}),tt(()=>{r.comboboxState.value===0&&(!i.value||Ae(()=>{var d,f;return(f=(d=document.getElementById(s))==null?void 0:d.scrollIntoView)==null?void 0:f.call(d,{block:"nearest"})}))});function l(d){if(e.disabled)return d.preventDefault();r.selectOption(s),r.closeCombobox(),Ae(()=>{var f;return(f=k(r.inputRef))==null?void 0:f.focus({preventScroll:!0})})}function u(){if(e.disabled)return r.goToOption(5);r.goToOption(4,s)}function c(){e.disabled||i.value||r.goToOption(4,s)}function h(){e.disabled||!i.value||r.optionsPropsRef.value.hold||r.goToOption(5)}return()=>{let{disabled:d}=e,f={active:i.value,selected:o.value,disabled:d},p={id:s,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":o.value===!0?o.value:void 0,disabled:void 0,onClick:l,onFocus:u,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:t,name:"ComboboxOption"})}}});var Yc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function Qa(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Yc))}function ZC(e,t=0){return e===document.body?!1:st(t,{[0](){return e.matches(Yc)},[1](){let n=e;for(;n!==null;){if(n.matches(Yc))return!0;n=n.parentElement}return!1}})}function Mi(e){e==null||e.focus({preventScroll:!0})}function vt(e,t){let n=Array.isArray(e)?e.slice().sort((c,h)=>{let d=c.compareDocumentPosition(h);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0}):Qa(e),r=document.activeElement,s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,n.indexOf(r))-1;if(t&4)return Math.max(0,n.indexOf(r))+1;if(t&8)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=t&32?{preventScroll:!0}:{},a=0,l=n.length,u;do{if(a>=l||a+l<=0)return 0;let c=i+a;if(t&16)c=(c+l)%l;else{if(c<0)return 3;if(c>=l)return 1}u=n[c],u==null||u.focus(o),a+=s}while(u!==document.activeElement);return u.hasAttribute("tabindex")||u.setAttribute("tabindex","0"),2}function Wc(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Wy(e,t=M(!0),n=M({})){let r=M(typeof window!="undefined"?document.activeElement:null),s=M(null);function i(){if(!t.value||e.value.size!==1)return;let{initialFocus:a}=n.value,l=document.activeElement;if(a){if(a===l)return}else if(Wc(e.value,l))return;if(r.value=l,a)Mi(a);else{let u=!1;for(let c of e.value)if(vt(c,1)===2){u=!0;break}u||console.warn("There are no focusable elements inside the <FocusTrap />")}s.value=document.activeElement}function o(){Mi(r.value),r.value=null,s.value=null}tt(i),Bh(()=>{t.value?i():o()}),mt(o),ln("keydown",a=>{if(!!t.value&&a.key==="Tab"&&!!document.activeElement&&e.value.size===1){a.preventDefault();for(let l of e.value)if(vt(l,(a.shiftKey?2:4)|16)===2){s.value=document.activeElement;break}}}),ln("focus",a=>{if(!t.value||e.value.size!==1)return;let l=s.value;if(!l)return;let u=a.target;u&&u instanceof HTMLElement?Wc(e.value,u)?(s.value=u,Mi(u)):(a.preventDefault(),a.stopPropagation(),Mi(l)):Mi(s.value)},!0)}var ym="body > *",xs=new Set,gr=new Map;function wm(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function bm(e){let t=gr.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function eA(e,t=M(!0)){tt(n=>{if(!t.value||!e.value)return;let r=e.value;xs.add(r);for(let s of gr.keys())s.contains(r)&&(bm(s),gr.delete(s));document.querySelectorAll(ym).forEach(s=>{if(s instanceof HTMLElement){for(let i of xs)if(s.contains(i))return;xs.size===1&&(gr.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),wm(s))}}),n(()=>{if(xs.delete(r),xs.size>0)document.querySelectorAll(ym).forEach(s=>{if(s instanceof HTMLElement&&!gr.has(s)){for(let i of xs)if(s.contains(i))return;gr.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),wm(s)}});else for(let s of gr.keys())bm(s),gr.delete(s)})})}var qy=Symbol("StackContext");function Ky(){return Se(qy,()=>{})}function tA(e){let t=Ky();tt(n=>{let r=e==null?void 0:e.value;!r||(t(0,r),n(()=>t(1,r)))})}function zy(e){let t=Ky();function n(...r){e==null||e(...r),t(...r)}qe(qy,n)}var Gy=Symbol("ForcePortalRootContext");function nA(){return Se(Gy,!1)}var _m=ie({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return qe(Gy,e.force),()=>{let i=e,{force:r}=i,s=dn(i,["force"]);return ue({props:s,slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function rA(){let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}var sA=ie({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=nA(),s=Se(Jy,null),i=M(r===!0||s===null?rA():s.resolveTarget());tt(()=>{r||s!==null&&(i.value=s.resolveTarget())});let o=M(null);return tA(o),mt(()=>{var a;let l=document.getElementById("headlessui-portal-root");!l||i.value===l&&i.value.children.length<=0&&((a=i.value.parentElement)==null||a.removeChild(i.value))}),zy(),()=>{if(i.value===null)return null;let a={ref:o};return pn(yT,{to:i.value},ue({props:j(j({},e),a),slot:{},attrs:n,slots:t,name:"Portal"}))}}}),Jy=Symbol("PortalGroupContext"),iA=ie({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=ws({resolveTarget(){return e.target}});return qe(Jy,r),()=>{let o=e,{target:s}=o,i=dn(o,["target"]);return ue({props:i,slot:{},attrs:t,slots:n,name:"PortalGroup"})}}}),Qy=Symbol("DescriptionContext");function oA(){let e=Se(Qy,null);if(e===null)throw new Error("Missing parent");return e}function Wl({slot:e=M({}),name:t="Description",props:n={}}={}){let r=M([]);function s(i){return r.value.push(i),()=>{let o=r.value.indexOf(i);o!==-1&&r.value.splice(o,1)}}return qe(Qy,{register:s,slot:e,name:t,props:n}),F(()=>r.value.length>0?r.value.join(" "):void 0)}ie({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:n}){let r=oA(),s=`headlessui-description-${Pe()}`;return et(()=>mt(r.register(s))),()=>{let{name:i="Description",slot:o=M({}),props:a={}}=r,l=e,u=Dt(j({},Object.entries(a).reduce((c,[h,d])=>Object.assign(c,{[h]:On(d)}),{})),{id:s});return ue({props:j(j({},l),u),slot:o.value,attrs:t,slots:n,name:i})}}});var Xy=Symbol("DialogContext");function pd(e){let t=Se(Xy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pd),n}return t}var fa="DC8F892D-2EBD-447C-A4C8-A03058436FF4",wU=ie({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:fa},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=M(new Set),i=or(),o=F(()=>e.open===fa&&i!==null?st(i.value,{[0]:!0,[1]:!1}):e.open);if(!(e.open!==fa||i!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof o.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o.value===fa?void 0:e.open}`);let a=F(()=>e.open?0:1),l=F(()=>i!==null?i.value===0:a.value===0),u=M(null),c=M(a.value===0);Bh(()=>{c.value=a.value===0});let h=`headlessui-dialog-${Pe()}`,d=F(()=>({initialFocus:e.initialFocus}));Wy(s,c,d),eA(u,c),zy((w,_)=>st(w,{[0](){s.value.add(_)},[1](){s.value.delete(_)}}));let f=Wl({name:"DialogDescription",slot:F(()=>({open:o.value}))}),p=M(null),g={titleId:p,dialogState:a,setTitleId(w){p.value!==w&&(p.value=w)},close(){t("close",!1)}};qe(Xy,g),ln("mousedown",w=>{let _=w.target;a.value===0&&s.value.size===1&&(Wc(s.value,_)||(g.close(),Ae(()=>_==null?void 0:_.focus())))}),ln("keydown",w=>{w.key==="Escape"&&a.value===0&&(s.value.size>1||(w.preventDefault(),w.stopPropagation(),g.close()))}),tt(w=>{if(a.value!==0)return;let _=document.documentElement.style.overflow,I=document.documentElement.style.paddingRight,x=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${x}px`,w(()=>{document.documentElement.style.overflow=_,document.documentElement.style.paddingRight=I})}),tt(w=>{if(a.value!==0)return;let _=k(u);if(!_)return;let I=new IntersectionObserver(x=>{for(let W of x)W.boundingClientRect.x===0&&W.boundingClientRect.y===0&&W.boundingClientRect.width===0&&W.boundingClientRect.height===0&&g.close()});I.observe(_),w(()=>I.disconnect())});function y(w){w.stopPropagation()}return()=>{let w=Dt(j({},n),{ref:u,id:h,role:"dialog","aria-modal":a.value===0?!0:void 0,"aria-labelledby":p.value,"aria-describedby":f.value,onClick:y}),Y=e,{open:_,initialFocus:I}=Y,x=dn(Y,["open","initialFocus"]),W={open:a.value===0};return pn(_m,{force:!0},()=>pn(sA,()=>pn(iA,{target:u.value},()=>pn(_m,{force:!1},()=>ue({props:j(j({},x),w),slot:W,attrs:n,slots:r,visible:l.value,features:3,name:"Dialog"})))))}}}),bU=ie({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=pd("DialogOverlay"),s=`headlessui-dialog-overlay-${Pe()}`;function i(o){o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),r.close())}return()=>ue({props:Dt(j({},e),{id:s,"aria-hidden":!0,onClick:i}),slot:{open:r.dialogState.value===0},attrs:t,slots:n,name:"DialogOverlay"})}}),_U=ie({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:t,slots:n}){let r=pd("DialogTitle"),s=`headlessui-dialog-title-${Pe()}`;return et(()=>{r.setTitleId(s),mt(()=>r.setTitleId(null))}),()=>ue({props:Dt(j({},e),{id:s}),slot:{open:r.dialogState.value===0},attrs:t,slots:n,name:"DialogTitle"})}}),Zy=Symbol("DisclosureContext");function md(e){let t=Se(Zy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,md),n}return t}var e0=Symbol("DisclosurePanelContext");function aA(){return Se(e0,null)}ie({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let r=`headlessui-disclosure-button-${Pe()}`,s=`headlessui-disclosure-panel-${Pe()}`,i=M(e.defaultOpen?0:1),o=M(null),a=M(null),l={buttonId:r,panelId:s,disclosureState:i,panel:o,button:a,toggleDisclosure(){i.value=st(i.value,{[0]:1,[1]:0})},closeDisclosure(){i.value!==1&&(i.value=1)},close(u){l.closeDisclosure();let c=(()=>u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?k(u):k(l.button):k(l.button))();c==null||c.focus()}};return qe(Zy,l),wi(F(()=>st(i.value,{[0]:0,[1]:1}))),()=>{let d=e,{defaultOpen:u}=d,c=dn(d,["defaultOpen"]),h={open:i.value===0,close:l.close};return ue({props:c,slot:h,slots:t,attrs:n,name:"Disclosure"})}}});ie({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=md("DisclosureButton"),s=aA(),i=s===null?!1:s===r.panelId,o=M(null);i||tt(()=>{r.button.value=o.value});let a=Ts(F(()=>({as:e.as,type:t.type})),o);function l(){var h;e.disabled||(i?(r.toggleDisclosure(),(h=k(r.button))==null||h.focus()):r.toggleDisclosure())}function u(h){var d;if(!e.disabled)if(i)switch(h.key){case" ":case"Enter":h.preventDefault(),h.stopPropagation(),r.toggleDisclosure(),(d=k(r.button))==null||d.focus();break}else switch(h.key){case" ":case"Enter":h.preventDefault(),h.stopPropagation(),r.toggleDisclosure();break}}function c(h){switch(h.key){case" ":h.preventDefault();break}}return()=>{let h={open:r.disclosureState.value===0},d=i?{ref:o,type:a.value,onClick:l,onKeydown:u}:{id:r.buttonId,ref:o,type:a.value,"aria-expanded":e.disabled?void 0:r.disclosureState.value===0,"aria-controls":k(r.panel)?r.panelId:void 0,disabled:e.disabled?!0:void 0,onClick:l,onKeydown:u,onKeyup:c};return ue({props:j(j({},e),d),slot:h,attrs:t,slots:n,name:"DisclosureButton"})}}});ie({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=md("DisclosurePanel");qe(e0,r.panelId);let s=or(),i=F(()=>s!==null?s.value===0:r.disclosureState.value===0);return()=>{let o={open:r.disclosureState.value===0,close:r.close},a={id:r.panelId,ref:r.panel};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,features:3,visible:i.value,name:"DisclosurePanel"})}}});ie({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=M(new Set),s=M(null),i=M(!0),o=F(()=>({initialFocus:e.initialFocus}));return et(()=>{!s.value||(r.value.add(s.value),Wy(r,i,o))}),mt(()=>{i.value=!1}),()=>{let a={},l={ref:s},h=e,{initialFocus:u}=h,c=dn(h,["initialFocus"]);return ue({props:j(j({},c),l),slot:a,attrs:t,slots:n,name:"FocusTrap"})}}});function lA(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var t0=Symbol("ListboxContext");function Fo(e){let t=Se(t0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fo),n}return t}ie({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(1),i=M(null),o=M(null),a=M(null),l=M([]),u=M(""),c=M(null),h=F(()=>e.modelValue),d={listboxState:s,value:h,orientation:F(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:o,optionsRef:a,disabled:F(()=>e.disabled),options:l,searchQuery:u,activeOptionIndex:c,closeListbox(){e.disabled||s.value!==1&&(s.value=1,c.value=null)},openListbox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(f,p){if(e.disabled||s.value===1)return;let g=dd(f===4?{focus:4,id:p}:{focus:f},{resolveItems:()=>l.value,resolveActiveIndex:()=>c.value,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});u.value===""&&c.value===g||(u.value="",c.value=g)},search(f){if(e.disabled||s.value===1)return;let p=u.value!==""?0:1;u.value+=f.toLowerCase();let g=(c.value!==null?l.value.slice(c.value+p).concat(l.value.slice(0,c.value+p)):l.value).find(w=>w.dataRef.textValue.startsWith(u.value)&&!w.dataRef.disabled),y=g?l.value.indexOf(g):-1;y===-1||y===c.value||(c.value=y)},clearSearch(){e.disabled||s.value!==1&&u.value!==""&&(u.value="")},registerOption(f,p){var g,y;let w=Array.from((y=(g=a.value)==null?void 0:g.querySelectorAll('[id^="headlessui-listbox-option-"]'))!=null?y:[]).reduce((_,I,x)=>Object.assign(_,{[I.id]:x}),{});l.value=[...l.value,{id:f,dataRef:p}].sort((_,I)=>w[_.id]-w[I.id])},unregisterOption(f){let p=l.value.slice(),g=c.value!==null?p[c.value]:null,y=p.findIndex(w=>w.id===f);y!==-1&&p.splice(y,1),l.value=p,c.value=(()=>y===c.value||g===null?null:p.indexOf(g))()},select(f){e.disabled||r("update:modelValue",f)}};return ln("mousedown",f=>{var p,g,y;let w=f.target,_=document.activeElement;s.value===0&&((p=k(o))!=null&&p.contains(w)||((g=k(a))!=null&&g.contains(w)||d.closeListbox(),!(_!==document.body&&(_==null?void 0:_.contains(w)))&&(f.defaultPrevented||(y=k(o))==null||y.focus({preventScroll:!0}))))}),qe(t0,d),wi(F(()=>st(s.value,{[0]:0,[1]:1}))),()=>{let f={open:s.value===0,disabled:e.disabled};return ue({props:Lr(e,["modelValue","onUpdate:modelValue","disabled","horizontal"]),slot:f,slots:t,attrs:n,name:"Listbox"})}}});ie({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:n}){let r=Fo("ListboxLabel"),s=`headlessui-listbox-label-${Pe()}`;function i(){var o;(o=k(r.buttonRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:r.listboxState.value===0,disabled:r.disabled.value},a={id:s,ref:r.labelRef,onClick:i};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,name:"ListboxLabel"})}}});ie({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=Fo("ListboxButton"),s=`headlessui-listbox-button-${Pe()}`;function i(u){switch(u.key){case" ":case"Enter":case"ArrowDown":u.preventDefault(),r.openListbox(),Ae(()=>{var c;(c=k(r.optionsRef))==null||c.focus({preventScroll:!0}),r.value.value||r.goToOption(0)});break;case"ArrowUp":u.preventDefault(),r.openListbox(),Ae(()=>{var c;(c=k(r.optionsRef))==null||c.focus({preventScroll:!0}),r.value.value||r.goToOption(3)});break}}function o(u){switch(u.key){case" ":u.preventDefault();break}}function a(u){r.disabled.value||(r.listboxState.value===0?(r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),r.openListbox(),lA(()=>{var c;return(c=k(r.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=Ts(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var u,c;let h={open:r.listboxState.value===0,disabled:r.disabled.value},d={ref:r.buttonRef,id:s,type:l.value,"aria-haspopup":!0,"aria-controls":(u=k(r.optionsRef))==null?void 0:u.id,"aria-expanded":r.disabled.value?void 0:r.listboxState.value===0,"aria-labelledby":r.labelRef.value?[(c=k(r.labelRef))==null?void 0:c.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:o,onClick:a};return ue({props:j(j({},e),d),slot:h,attrs:t,slots:n,name:"ListboxButton"})}}});ie({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=Fo("ListboxOptions"),s=`headlessui-listbox-options-${Pe()}`,i=M(null);function o(u){switch(i.value&&clearTimeout(i.value),u.key){case" ":if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case"Enter":if(u.preventDefault(),u.stopPropagation(),r.activeOptionIndex.value!==null){let{dataRef:c}=r.options.value[r.activeOptionIndex.value];r.select(c.value)}r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case st(r.orientation.value,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return u.preventDefault(),u.stopPropagation(),r.goToOption(2);case st(r.orientation.value,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return u.preventDefault(),u.stopPropagation(),r.goToOption(1);case"Home":case"PageUp":return u.preventDefault(),u.stopPropagation(),r.goToOption(0);case"End":case"PageDown":return u.preventDefault(),u.stopPropagation(),r.goToOption(3);case"Escape":u.preventDefault(),u.stopPropagation(),r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case"Tab":u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(r.search(u.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}let a=or(),l=F(()=>a!==null?a.value===0:r.listboxState.value===0);return()=>{var u,c,h,d;let f={open:r.listboxState.value===0},p={"aria-activedescendant":r.activeOptionIndex.value===null||(u=r.options.value[r.activeOptionIndex.value])==null?void 0:u.id,"aria-labelledby":(d=(c=k(r.labelRef))==null?void 0:c.id)!=null?d:(h=k(r.buttonRef))==null?void 0:h.id,"aria-orientation":r.orientation.value,id:s,onKeydown:o,role:"listbox",tabIndex:0,ref:r.optionsRef};return ue({props:j(j({},e),p),slot:f,attrs:t,slots:n,features:3,visible:l.value,name:"ListboxOptions"})}}});ie({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=Fo("ListboxOption"),s=`headlessui-listbox-option-${Pe()}`,i=F(()=>r.activeOptionIndex.value!==null?r.options.value[r.activeOptionIndex.value].id===s:!1),o=F(()=>le(r.value.value)===le(e.value)),a=M({disabled:e.disabled,value:e.value,textValue:""});et(()=>{var d,f;let p=(f=(d=document.getElementById(s))==null?void 0:d.textContent)==null?void 0:f.toLowerCase().trim();p!==void 0&&(a.value.textValue=p)}),et(()=>r.registerOption(s,a)),mt(()=>r.unregisterOption(s)),et(()=>{kt([r.listboxState,o],()=>{var d,f;r.listboxState.value===0&&(!o.value||(r.goToOption(4,s),(f=(d=document.getElementById(s))==null?void 0:d.focus)==null||f.call(d)))},{immediate:!0})}),tt(()=>{r.listboxState.value===0&&(!i.value||Ae(()=>{var d,f;return(f=(d=document.getElementById(s))==null?void 0:d.scrollIntoView)==null?void 0:f.call(d,{block:"nearest"})}))});function l(d){if(e.disabled)return d.preventDefault();r.select(e.value),r.closeListbox(),Ae(()=>{var f;return(f=k(r.buttonRef))==null?void 0:f.focus({preventScroll:!0})})}function u(){if(e.disabled)return r.goToOption(5);r.goToOption(4,s)}function c(){e.disabled||i.value||r.goToOption(4,s)}function h(){e.disabled||!i.value||r.goToOption(5)}return()=>{let{disabled:d}=e,f={active:i.value,selected:o.value,disabled:d},p={id:s,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":o.value===!0?o.value:void 0,disabled:void 0,onClick:l,onFocus:u,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:t,name:"ListboxOption"})}}});function uA(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var n0=Symbol("MenuContext");function ql(e){let t=Se(n0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ql),n}return t}var EU=ie({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=M(1),s=M(null),i=M(null),o=M([]),a=M(""),l=M(null),u={menuState:r,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,closeMenu:()=>{r.value=1,l.value=null},openMenu:()=>r.value=0,goToItem(c,h){let d=dd(c===4?{focus:4,id:h}:{focus:c},{resolveItems:()=>o.value,resolveActiveIndex:()=>l.value,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});a.value===""&&l.value===d||(a.value="",l.value=d)},search(c){let h=a.value!==""?0:1;a.value+=c.toLowerCase();let d=(l.value!==null?o.value.slice(l.value+h).concat(o.value.slice(0,l.value+h)):o.value).find(p=>p.dataRef.textValue.startsWith(a.value)&&!p.dataRef.disabled),f=d?o.value.indexOf(d):-1;f===-1||f===l.value||(l.value=f)},clearSearch(){a.value=""},registerItem(c,h){var d,f;let p=Array.from((f=(d=i.value)==null?void 0:d.querySelectorAll('[id^="headlessui-menu-item-"]'))!=null?f:[]).reduce((g,y,w)=>Object.assign(g,{[y.id]:w}),{});o.value=[...o.value,{id:c,dataRef:h}].sort((g,y)=>p[g.id]-p[y.id])},unregisterItem(c){let h=o.value.slice(),d=l.value!==null?h[l.value]:null,f=h.findIndex(p=>p.id===c);f!==-1&&h.splice(f,1),o.value=h,l.value=(()=>f===l.value||d===null?null:h.indexOf(d))()}};return ln("mousedown",c=>{var h,d,f;let p=c.target,g=document.activeElement;r.value===0&&((h=k(s))!=null&&h.contains(p)||((d=k(i))!=null&&d.contains(p)||u.closeMenu(),!(g!==document.body&&(g==null?void 0:g.contains(p)))&&(c.defaultPrevented||(f=k(s))==null||f.focus({preventScroll:!0}))))}),qe(n0,u),wi(F(()=>st(r.value,{[0]:0,[1]:1}))),()=>{let c={open:r.value===0};return ue({props:e,slot:c,slots:t,attrs:n,name:"Menu"})}}}),TU=ie({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=ql("MenuButton"),s=`headlessui-menu-button-${Pe()}`;function i(u){switch(u.key){case" ":case"Enter":case"ArrowDown":u.preventDefault(),u.stopPropagation(),r.openMenu(),Ae(()=>{var c;(c=k(r.itemsRef))==null||c.focus({preventScroll:!0}),r.goToItem(0)});break;case"ArrowUp":u.preventDefault(),u.stopPropagation(),r.openMenu(),Ae(()=>{var c;(c=k(r.itemsRef))==null||c.focus({preventScroll:!0}),r.goToItem(3)});break}}function o(u){switch(u.key){case" ":u.preventDefault();break}}function a(u){e.disabled||(r.menuState.value===0?(r.closeMenu(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),u.stopPropagation(),r.openMenu(),uA(()=>{var c;return(c=k(r.itemsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=Ts(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var u;let c={open:r.menuState.value===0},h={ref:r.buttonRef,id:s,type:l.value,"aria-haspopup":!0,"aria-controls":(u=k(r.itemsRef))==null?void 0:u.id,"aria-expanded":e.disabled?void 0:r.menuState.value===0,onKeydown:i,onKeyup:o,onClick:a};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,name:"MenuButton"})}}}),SU=ie({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=ql("MenuItems"),s=`headlessui-menu-items-${Pe()}`,i=M(null);fd({container:F(()=>k(r.itemsRef)),enabled:F(()=>r.menuState.value===0),accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function o(c){var h;switch(i.value&&clearTimeout(i.value),c.key){case" ":if(r.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),r.search(c.key);case"Enter":if(c.preventDefault(),c.stopPropagation(),r.activeItemIndex.value!==null){let{id:d}=r.items.value[r.activeItemIndex.value];(h=document.getElementById(d))==null||h.click()}r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case"ArrowDown":return c.preventDefault(),c.stopPropagation(),r.goToItem(2);case"ArrowUp":return c.preventDefault(),c.stopPropagation(),r.goToItem(1);case"Home":case"PageUp":return c.preventDefault(),c.stopPropagation(),r.goToItem(0);case"End":case"PageDown":return c.preventDefault(),c.stopPropagation(),r.goToItem(3);case"Escape":c.preventDefault(),c.stopPropagation(),r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case"Tab":c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(r.search(c.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}function a(c){switch(c.key){case" ":c.preventDefault();break}}let l=or(),u=F(()=>l!==null?l.value===0:r.menuState.value===0);return()=>{var c,h;let d={open:r.menuState.value===0},f={"aria-activedescendant":r.activeItemIndex.value===null||(c=r.items.value[r.activeItemIndex.value])==null?void 0:c.id,"aria-labelledby":(h=k(r.buttonRef))==null?void 0:h.id,id:s,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:r.itemsRef};return ue({props:j(j({},e),f),slot:d,attrs:t,slots:n,features:3,visible:u.value,name:"MenuItems"})}}}),IU=ie({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=ql("MenuItem"),s=`headlessui-menu-item-${Pe()}`,i=F(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===s:!1),o=M({disabled:e.disabled,textValue:""});et(()=>{var h,d;let f=(d=(h=document.getElementById(s))==null?void 0:h.textContent)==null?void 0:d.toLowerCase().trim();f!==void 0&&(o.value.textValue=f)}),et(()=>r.registerItem(s,o)),mt(()=>r.unregisterItem(s)),tt(()=>{r.menuState.value===0&&(!i.value||Ae(()=>{var h,d;return(d=(h=document.getElementById(s))==null?void 0:h.scrollIntoView)==null?void 0:d.call(h,{block:"nearest"})}))});function a(h){if(e.disabled)return h.preventDefault();r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})})}function l(){if(e.disabled)return r.goToItem(5);r.goToItem(4,s)}function u(){e.disabled||i.value||r.goToItem(4,s)}function c(){e.disabled||!i.value||r.goToItem(5)}return()=>{let{disabled:h}=e,d={active:i.value,disabled:h};return ue({props:Dt(j({},e),{id:s,role:"menuitem",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,onClick:a,onFocus:l,onPointermove:u,onMousemove:u,onPointerleave:c,onMouseleave:c}),slot:d,attrs:n,slots:t,name:"MenuItem"})}}}),r0=Symbol("PopoverContext");function Kl(e){let t=Se(r0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <${hA.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kl),n}return t}var s0=Symbol("PopoverGroupContext");function i0(){return Se(s0,null)}var o0=Symbol("PopoverPanelContext");function cA(){return Se(o0,null)}var hA=ie({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=`headlessui-popover-button-${Pe()}`,s=`headlessui-popover-panel-${Pe()}`,i=M(1),o=M(null),a=M(null),l={popoverState:i,buttonId:r,panelId:s,panel:a,button:o,togglePopover(){i.value=st(i.value,{[0]:1,[1]:0})},closePopover(){i.value!==1&&(i.value=1)},close(f){l.closePopover();let p=(()=>f?f instanceof HTMLElement?f:f.value instanceof HTMLElement?k(f):k(l.button):k(l.button))();p==null||p.focus()}};qe(r0,l),wi(F(()=>st(i.value,{[0]:0,[1]:1})));let u={buttonId:r,panelId:s,close(){l.closePopover()}},c=i0(),h=c==null?void 0:c.registerPopover;function d(){var f,p,g;return(g=c==null?void 0:c.isFocusWithinPopoverGroup())!=null?g:((f=k(o))==null?void 0:f.contains(document.activeElement))||((p=k(a))==null?void 0:p.contains(document.activeElement))}return tt(()=>h==null?void 0:h(u)),ln("focus",()=>{i.value===0&&(d()||!o||!a||l.closePopover())},!0),ln("mousedown",f=>{var p,g,y;let w=f.target;i.value===0&&(((p=k(o))==null?void 0:p.contains(w))||((g=k(a))==null?void 0:g.contains(w))||(l.closePopover(),ZC(w,1)||(f.preventDefault(),(y=k(o))==null||y.focus())))}),()=>{let f={open:i.value===0,close:l.close};return ue({props:e,slot:f,slots:t,attrs:n,name:"Popover"})}}});ie({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=Kl("PopoverButton"),s=i0(),i=s==null?void 0:s.closeOthers,o=cA(),a=o===null?!1:o===r.panelId,l=M(null),u=M(typeof window=="undefined"?null:document.activeElement);ln("focus",()=>{u.value=l.value,l.value=document.activeElement},!0);let c=M(null);a||tt(()=>{r.button.value=c.value});let h=Ts(F(()=>({as:e.as,type:t.type})),c);function d(g){var y,w,_,I;if(a){if(r.popoverState.value===1)return;switch(g.key){case" ":case"Enter":g.preventDefault(),g.stopPropagation(),r.closePopover(),(y=k(r.button))==null||y.focus();break}}else switch(g.key){case" ":case"Enter":g.preventDefault(),g.stopPropagation(),r.popoverState.value===1&&(i==null||i(r.buttonId)),r.togglePopover();break;case"Escape":if(r.popoverState.value!==0)return i==null?void 0:i(r.buttonId);if(!k(r.button)||!((w=k(r.button))!=null&&w.contains(document.activeElement)))return;g.preventDefault(),g.stopPropagation(),r.closePopover();break;case"Tab":if(r.popoverState.value!==0||!r.panel||!r.button)return;if(g.shiftKey){if(!u.value||((_=k(r.button))==null?void 0:_.contains(u.value))||((I=k(r.panel))==null?void 0:I.contains(u.value)))return;let x=Qa(),W=x.indexOf(u.value);if(x.indexOf(k(r.button))>W)return;g.preventDefault(),g.stopPropagation(),vt(k(r.panel),8)}else g.preventDefault(),g.stopPropagation(),vt(k(r.panel),1);break}}function f(g){var y,w;if(!a&&(g.key===" "&&g.preventDefault(),r.popoverState.value===0&&!!r.panel&&!!r.button))switch(g.key){case"Tab":if(!u.value||((y=k(r.button))==null?void 0:y.contains(u.value))||((w=k(r.panel))==null?void 0:w.contains(u.value)))return;let _=Qa(),I=_.indexOf(u.value);if(_.indexOf(k(r.button))>I)return;g.preventDefault(),g.stopPropagation(),vt(k(r.panel),8);break}}function p(){var g,y;e.disabled||(a?(r.closePopover(),(g=k(r.button))==null||g.focus()):(r.popoverState.value===1&&(i==null||i(r.buttonId)),(y=k(r.button))==null||y.focus(),r.togglePopover()))}return()=>{let g={open:r.popoverState.value===0},y=a?{ref:c,type:h.value,onKeydown:d,onClick:p}:{ref:c,id:r.buttonId,type:h.value,"aria-expanded":e.disabled?void 0:r.popoverState.value===0,"aria-controls":k(r.panel)?r.panelId:void 0,disabled:e.disabled?!0:void 0,onKeydown:d,onKeyup:f,onClick:p};return ue({props:j(j({},e),y),slot:g,attrs:t,slots:n,name:"PopoverButton"})}}});ie({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=Kl("PopoverOverlay"),s=`headlessui-popover-overlay-${Pe()}`,i=or(),o=F(()=>i!==null?i.value===0:r.popoverState.value===0);function a(){r.closePopover()}return()=>{let l={open:r.popoverState.value===0};return ue({props:Dt(j({},e),{id:s,"aria-hidden":!0,onClick:a}),slot:l,attrs:t,slots:n,features:3,visible:o.value,name:"PopoverOverlay"})}}});ie({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n}){let{focus:r}=e,s=Kl("PopoverPanel");qe(o0,s.panelId),mt(()=>{s.panel.value=null}),tt(()=>{var l;if(!r||s.popoverState.value!==0||!s.panel)return;let u=document.activeElement;(l=k(s.panel))!=null&&l.contains(u)||vt(k(s.panel),1)}),ln("keydown",l=>{var u,c;if(s.popoverState.value!==0||!k(s.panel)||l.key!=="Tab"||!document.activeElement||!((u=k(s.panel))!=null&&u.contains(document.activeElement)))return;l.preventDefault();let h=vt(k(s.panel),l.shiftKey?2:4);if(h===3)return(c=k(s.button))==null?void 0:c.focus();if(h===1){if(!k(s.button))return;let d=Qa(),f=d.indexOf(k(s.button)),p=d.splice(f+1).filter(g=>{var y;return!((y=k(s.panel))!=null&&y.contains(g))});vt(p,1)===0&&vt(document.body,1)}}),ln("focus",()=>{var l;!r||s.popoverState.value===0&&(!k(s.panel)||((l=k(s.panel))==null?void 0:l.contains(document.activeElement))||s.closePopover())},!0);let i=or(),o=F(()=>i!==null?i.value===0:s.popoverState.value===0);function a(l){var u,c;switch(l.key){case"Escape":if(s.popoverState.value!==0||!k(s.panel)||!((u=k(s.panel))!=null&&u.contains(document.activeElement)))return;l.preventDefault(),l.stopPropagation(),s.closePopover(),(c=k(s.button))==null||c.focus();break}}return()=>{let l={open:s.popoverState.value===0,close:s.close},u={ref:s.panel,id:s.panelId,onKeydown:a};return ue({props:j(j({},e),u),slot:l,attrs:t,slots:n,features:3,visible:o.value,name:"PopoverPanel"})}}});ie({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=M(null),s=M([]);function i(u){let c=s.value.indexOf(u);c!==-1&&s.value.splice(c,1)}function o(u){return s.value.push(u),()=>{i(u)}}function a(){var u;let c=document.activeElement;return(u=k(r))!=null&&u.contains(c)?!0:s.value.some(h=>{var d,f;return((d=document.getElementById(h.buttonId))==null?void 0:d.contains(c))||((f=document.getElementById(h.panelId))==null?void 0:f.contains(c))})}function l(u){for(let c of s.value)c.buttonId!==u&&c.close()}return qe(s0,{registerPopover:o,unregisterPopover:i,isFocusWithinPopoverGroup:a,closeOthers:l}),()=>ue({props:Dt(j({},e),{ref:r}),slot:{},attrs:t,slots:n,name:"PopoverGroup"})}});var a0=Symbol("LabelContext");function l0(){let e=Se(a0,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,l0),t}return e}function gd({slot:e={},name:t="Label",props:n={}}={}){let r=M([]);function s(i){return r.value.push(i),()=>{let o=r.value.indexOf(i);o!==-1&&r.value.splice(o,1)}}return qe(a0,{register:s,slot:e,name:t,props:n}),F(()=>r.value.length>0?r.value.join(" "):void 0)}ie({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let r=l0(),s=`headlessui-label-${Pe()}`;return et(()=>mt(r.register(s))),()=>{let{name:i="Label",slot:o={},props:a={}}=r,d=e,{passive:l}=d,u=dn(d,["passive"]),c=Dt(j({},Object.entries(a).reduce((f,[p,g])=>Object.assign(f,{[p]:On(g)}),{})),{id:s}),h=j(j({},u),c);return l&&delete h.onClick,ue({props:h,slot:o,attrs:n,slots:t,name:i})}}});var u0=Symbol("RadioGroupContext");function c0(e){let t=Se(u0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,c0),n}return t}ie({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{emit:t,attrs:n,slots:r}){let s=M(null),i=M([]),o=gd({name:"RadioGroupLabel"}),a=Wl({name:"RadioGroupDescription"}),l=F(()=>e.modelValue),u={options:i,value:l,disabled:F(()=>e.disabled),firstOption:F(()=>i.value.find(d=>!d.propsRef.disabled)),containsCheckedOption:F(()=>i.value.some(d=>le(d.propsRef.value)===le(e.modelValue))),change(d){var f;if(e.disabled||l.value===d)return!1;let p=(f=i.value.find(g=>le(g.propsRef.value)===le(d)))==null?void 0:f.propsRef;return p!=null&&p.disabled?!1:(t("update:modelValue",d),!0)},registerOption(d){var f;let p=Array.from((f=s.value)==null?void 0:f.querySelectorAll('[id^="headlessui-radiogroup-option-"]')).reduce((g,y,w)=>Object.assign(g,{[y.id]:w}),{});i.value.push(d),i.value.sort((g,y)=>p[g.id]-p[y.id])},unregisterOption(d){let f=i.value.findIndex(p=>p.id===d);f!==-1&&i.value.splice(f,1)}};qe(u0,u),fd({container:F(()=>k(s)),accept(d){return d.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function c(d){if(!s.value||!s.value.contains(d.target))return;let f=i.value.filter(p=>p.propsRef.disabled===!1).map(p=>p.element);switch(d.key){case"ArrowLeft":case"ArrowUp":if(d.preventDefault(),d.stopPropagation(),vt(f,18)===2){let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break;case"ArrowRight":case"ArrowDown":if(d.preventDefault(),d.stopPropagation(),vt(f,20)===2){let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break;case" ":{d.preventDefault(),d.stopPropagation();let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break}}let h=`headlessui-radiogroup-${Pe()}`;return()=>{let y=e,{modelValue:d,disabled:f}=y,p=dn(y,["modelValue","disabled"]),g={ref:s,id:h,role:"radiogroup","aria-labelledby":o.value,"aria-describedby":a.value,onKeydown:c};return ue({props:j(j({},p),g),slot:{},attrs:n,slots:r,name:"RadioGroup"})}}});ie({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n}){let r=c0("RadioGroupOption"),s=`headlessui-radiogroup-option-${Pe()}`,i=gd({name:"RadioGroupLabel"}),o=Wl({name:"RadioGroupDescription"}),a=M(null),l=F(()=>({value:e.value,disabled:e.disabled})),u=M(1);et(()=>r.registerOption({id:s,element:a,propsRef:l})),mt(()=>r.unregisterOption(s));let c=F(()=>{var w;return((w=r.firstOption.value)==null?void 0:w.id)===s}),h=F(()=>r.disabled.value||e.disabled),d=F(()=>le(r.value.value)===le(e.value)),f=F(()=>h.value?-1:d.value||!r.containsCheckedOption.value&&c.value?0:-1);function p(){var w;!r.change(e.value)||(u.value|=2,(w=a.value)==null||w.focus())}function g(){u.value|=2}function y(){u.value&=-3}return()=>{let w=Lr(e,["value","disabled"]),_={checked:d.value,disabled:h.value,active:Boolean(u.value&2)},I={id:s,ref:a,role:"radio","aria-checked":d.value?"true":"false","aria-labelledby":i.value,"aria-describedby":o.value,"aria-disabled":h.value?!0:void 0,tabIndex:f.value,onClick:h.value?void 0:p,onFocus:h.value?void 0:g,onBlur:h.value?void 0:y};return ue({props:j(j({},w),I),slot:_,attrs:t,slots:n,name:"RadioGroupOption"})}}});var h0=Symbol("GroupContext");ie({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=M(null),s=gd({name:"SwitchLabel",props:{onClick(){!r.value||(r.value.click(),r.value.focus({preventScroll:!0}))}}}),i=Wl({name:"SwitchDescription"});return qe(h0,{switchRef:r,labelledby:s,describedby:i}),()=>ue({props:e,slot:{},slots:t,attrs:n,name:"SwitchGroup"})}});ie({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1}},setup(e,{emit:t,attrs:n,slots:r}){let s=Se(h0,null),i=`headlessui-switch-${Pe()}`;function o(){t("update:modelValue",!e.modelValue)}let a=M(null),l=s===null?a:s.switchRef,u=Ts(F(()=>({as:e.as,type:n.type})),l);function c(f){f.preventDefault(),o()}function h(f){f.key!=="Tab"&&f.preventDefault(),f.key===" "&&o()}function d(f){f.preventDefault()}return()=>{let f={checked:e.modelValue},p={id:i,ref:l,role:"switch",type:u.value,tabIndex:0,"aria-checked":e.modelValue,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:c,onKeyup:h,onKeypress:d};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:r,name:"Switch"})}}});var d0=Symbol("TabsContext");function Uo(e){let t=Se(d0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Uo),n}return t}ie({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(null),i=M([]),o=M([]),a={selectedIndex:s,orientation:F(()=>e.vertical?"vertical":"horizontal"),activation:F(()=>e.manual?"manual":"auto"),tabs:i,panels:o,setSelectedIndex(l){s.value!==l&&(s.value=l,r("change",l))},registerTab(l){i.value.includes(l)||i.value.push(l)},unregisterTab(l){let u=i.value.indexOf(l);u!==-1&&i.value.splice(u,1)},registerPanel(l){o.value.includes(l)||o.value.push(l)},unregisterPanel(l){let u=o.value.indexOf(l);u!==-1&&o.value.splice(u,1)}};return qe(d0,a),tt(()=>{var l;if(a.tabs.value.length<=0||e.selectedIndex===null&&s.value!==null)return;let u=a.tabs.value.map(d=>k(d)).filter(Boolean),c=u.filter(d=>!d.hasAttribute("disabled")),h=(l=e.selectedIndex)!=null?l:e.defaultIndex;if(h<0)s.value=u.indexOf(c[0]);else if(h>a.tabs.value.length)s.value=u.indexOf(c[c.length-1]);else{let d=u.slice(0,h),f=[...u.slice(h),...d].find(p=>c.includes(p));if(!f)return;s.value=u.indexOf(f)}}),()=>{let l={selectedIndex:s.value};return ue({props:Lr(e,["selectedIndex","defaultIndex","manual","vertical","onChange"]),slot:l,slots:t,attrs:n,name:"TabGroup"})}}});ie({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=Uo("TabList");return()=>{let s={selectedIndex:r.selectedIndex.value},i={role:"tablist","aria-orientation":r.orientation.value};return ue({props:j(j({},e),i),slot:s,attrs:t,slots:n,name:"TabList"})}}});ie({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=Uo("Tab"),s=`headlessui-tabs-tab-${Pe()}`,i=M();et(()=>r.registerTab(i)),mt(()=>r.unregisterTab(i));let o=F(()=>r.tabs.value.indexOf(i)),a=F(()=>o.value===r.selectedIndex.value);function l(d){let f=r.tabs.value.map(p=>k(p)).filter(Boolean);if(d.key===" "||d.key==="Enter"){d.preventDefault(),d.stopPropagation(),r.setSelectedIndex(o.value);return}switch(d.key){case"Home":case"PageUp":return d.preventDefault(),d.stopPropagation(),vt(f,1);case"End":case"PageDown":return d.preventDefault(),d.stopPropagation(),vt(f,8)}return st(r.orientation.value,{vertical(){if(d.key==="ArrowUp")return vt(f,18);if(d.key==="ArrowDown")return vt(f,20)},horizontal(){if(d.key==="ArrowLeft")return vt(f,18);if(d.key==="ArrowRight")return vt(f,20)}})}function u(){var d;(d=k(i))==null||d.focus()}function c(){var d;e.disabled||((d=k(i))==null||d.focus(),r.setSelectedIndex(o.value))}let h=Ts(F(()=>({as:e.as,type:t.type})),i);return()=>{var d,f;let p={selected:a.value},g={ref:i,onKeydown:l,onFocus:r.activation.value==="manual"?u:c,onClick:c,id:s,role:"tab",type:h.value,"aria-controls":(f=(d=r.panels.value[o.value])==null?void 0:d.value)==null?void 0:f.id,"aria-selected":a.value,tabIndex:a.value?0:-1,disabled:e.disabled?!0:void 0};return ue({props:j(j({},e),g),slot:p,attrs:t,slots:n,name:"Tab"})}}});ie({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=Uo("TabPanels");return()=>{let s={selectedIndex:r.selectedIndex.value};return ue({props:e,slot:s,attrs:n,slots:t,name:"TabPanels"})}}});ie({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=Uo("TabPanel"),s=`headlessui-tabs-panel-${Pe()}`,i=M();et(()=>r.registerPanel(i)),mt(()=>r.unregisterPanel(i));let o=F(()=>r.panels.value.indexOf(i)),a=F(()=>o.value===r.selectedIndex.value);return()=>{var l,u;let c={selected:a.value},h={ref:i,id:s,role:"tabpanel","aria-labelledby":(u=(l=r.tabs.value[o.value])==null?void 0:l.value)==null?void 0:u.id,tabIndex:a.value?0:-1};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,features:3,visible:a.value,name:"TabPanel"})}}});function dA(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function f0(){let e=[],t=[],n={enqueue(r){t.push(r)},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);n.add(()=>cancelAnimationFrame(s))},nextFrame(...r){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...r)})},setTimeout(...r){let s=setTimeout(...r);n.add(()=>clearTimeout(s))},add(r){e.push(r)},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()}};return n}function Ju(e,...t){e&&t.length>0&&e.classList.add(...t)}function pa(e,...t){e&&t.length>0&&e.classList.remove(...t)}function fA(e,t){let n=f0();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[i,o]=[r,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return l});return i!==0?n.setTimeout(()=>t("finished"),i+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Em(e,t,n,r,s,i){let o=f0(),a=i!==void 0?dA(i):()=>{};return pa(e,...s),Ju(e,...t,...n),o.nextFrame(()=>{pa(e,...n),Ju(e,...r),o.add(fA(e,l=>(pa(e,...r,...t),Ju(e,...s),a(l))))}),o.add(()=>pa(e,...t,...n,...r,...s)),o.add(()=>a("cancelled")),o.dispose}function Br(e=""){return e.split(" ").filter(t=>t.trim().length>1)}var vd=Symbol("TransitionContext");function pA(){return Se(vd,null)!==null}function mA(){let e=Se(vd,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function gA(){let e=Se(yd,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}var yd=Symbol("NestingContext");function zl(e){return"children"in e?zl(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function p0(e){let t=M([]),n=M(!1);et(()=>n.value=!0),mt(()=>n.value=!1);function r(i,o=1){let a=t.value.findIndex(({id:l})=>l===i);a!==-1&&(st(o,{[0](){t.value.splice(a,1)},[1](){t.value[a].state="hidden"}}),!zl(t)&&n.value&&(e==null||e()))}function s(i){let o=t.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:i,state:"visible"}),()=>r(i,0)}return{children:t,register:s,unregister:r}}var m0=1,vA=ie({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){if(!pA()&&XC())return()=>pn(wA,Dt(j({},e),{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")}),r);let s=M(null),i=M("visible"),o=F(()=>e.unmount?0:1),{show:a,appear:l}=mA(),{register:u,unregister:c}=gA(),h={value:!0},d=Pe(),f={value:!1},p=p0(()=>{f.value||(i.value="hidden",c(d),t("afterLeave"))});et(()=>{let R=u(d);mt(R)}),tt(()=>{if(o.value===1&&!!d){if(a&&i.value!=="visible"){i.value="visible";return}st(i.value,{hidden:()=>c(d),visible:()=>u(d)})}});let g=Br(e.enter),y=Br(e.enterFrom),w=Br(e.enterTo),_=Br(e.entered),I=Br(e.leave),x=Br(e.leaveFrom),W=Br(e.leaveTo);et(()=>{tt(()=>{if(i.value==="visible"){let R=k(s);if(R instanceof Comment&&R.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Y(R){let ce=h.value&&!l.value,te=k(s);!te||!(te instanceof HTMLElement)||ce||(f.value=!0,a.value&&t("beforeEnter"),a.value||t("beforeLeave"),R(a.value?Em(te,g,y,w,_,we=>{f.value=!1,we==="finished"&&t("afterEnter")}):Em(te,I,x,W,_,we=>{f.value=!1,we==="finished"&&(zl(p)||(i.value="hidden",c(d),t("afterLeave")))})))}return et(()=>{kt([a,l],(R,ce,te)=>{Y(te),h.value=!1},{immediate:!0})}),qe(yd,p),wi(F(()=>st(i.value,{visible:0,hidden:1}))),()=>{let Re=e,{appear:R,show:ce,enter:te,enterFrom:we,enterTo:Ne,entered:z,leave:Oe,leaveFrom:xe,leaveTo:En}=Re,Ge=dn(Re,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]);return ue({props:Dt(j({},Ge),{ref:s}),slot:{},slots:r,attrs:n,features:m0,visible:i.value==="visible",name:"TransitionChild"})}}}),yA=vA,wA=ie({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=or(),i=F(()=>e.show===null&&s!==null?st(s.value,{[0]:!0,[1]:!1}):e.show);tt(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=M(i.value?"visible":"hidden"),a=p0(()=>{o.value="hidden"}),l={value:!0},u={show:i,appear:F(()=>e.appear||!l.value)};return et(()=>{tt(()=>{l.value=!1,i.value?o.value="visible":zl(a)||(o.value="hidden")})}),qe(yd,a),qe(vd,u),()=>{let c=Lr(e,["show","appear","unmount"]),h={unmount:e.unmount};return ue({props:Dt(j({},h),{as:"template"}),slot:{},slots:Dt(j({},r),{default:()=>[pn(yA,j(j(j({onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n),h),c),r.default)]}),attrs:{},features:m0,visible:o.value==="visible",name:"Transition"})}}});function kU(e,t){return Ao(),Oo("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})])}function CU(e,t){return Ao(),Oo("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})])}function AU(e,t){return Ao(),Oo("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})])}//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var g0;function $(){return g0.apply(null,arguments)}function bA(e){g0=e}function wn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ss(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wd(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ie(e,t))return!1;return!0}function Ft(e){return e===void 0}function nr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function $o(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function v0(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function Tr(e,t){for(var n in t)Ie(t,n)&&(e[n]=t[n]);return Ie(t,"toString")&&(e.toString=t.toString),Ie(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Un(e,t,n,r){return j0(e,t,n,r,!0).utc()}function _A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function de(e){return e._pf==null&&(e._pf=_A()),e._pf}var qc;Array.prototype.some?qc=Array.prototype.some:qc=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function bd(e){if(e._isValid==null){var t=de(e),n=qc.call(t.parsedDateParts,function(s){return s!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Gl(e){var t=Un(NaN);return e!=null?Tr(de(t),e):de(t).userInvalidated=!0,t}var Qu=$.momentProperties=[],Xu=!1;function _d(e,t){var n,r,s;if(Ft(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ft(t._i)||(e._i=t._i),Ft(t._f)||(e._f=t._f),Ft(t._l)||(e._l=t._l),Ft(t._strict)||(e._strict=t._strict),Ft(t._tzm)||(e._tzm=t._tzm),Ft(t._isUTC)||(e._isUTC=t._isUTC),Ft(t._offset)||(e._offset=t._offset),Ft(t._pf)||(e._pf=de(t)),Ft(t._locale)||(e._locale=t._locale),Qu.length>0)for(n=0;n<Qu.length;n++)r=Qu[n],s=t[r],Ft(s)||(e[r]=s);return e}function Vo(e){_d(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Xu===!1&&(Xu=!0,$.updateOffset(this),Xu=!1)}function bn(e){return e instanceof Vo||e!=null&&e._isAMomentObject!=null}function y0(e){$.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function un(e,t){var n=!0;return Tr(function(){if($.deprecationHandler!=null&&$.deprecationHandler(null,e),n){var r=[],s,i,o;for(i=0;i<arguments.length;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])Ie(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}y0(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Tm={};function w0(e,t){$.deprecationHandler!=null&&$.deprecationHandler(e,t),Tm[e]||(y0(t),Tm[e]=!0)}$.suppressDeprecationWarnings=!1;$.deprecationHandler=null;function $n(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function EA(e){var t,n;for(n in e)Ie(e,n)&&(t=e[n],$n(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Kc(e,t){var n=Tr({},e),r;for(r in t)Ie(t,r)&&(ss(e[r])&&ss(t[r])?(n[r]={},Tr(n[r],e[r]),Tr(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ie(e,r)&&!Ie(t,r)&&ss(e[r])&&(n[r]=Tr({},n[r]));return n}function Ed(e){e!=null&&this.set(e)}var zc;Object.keys?zc=Object.keys:zc=function(e){var t,n=[];for(t in e)Ie(e,t)&&n.push(t);return n};var TA={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function SA(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return $n(r)?r.call(t,n):r}function Nn(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Td=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ma=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zu={},qs={};function Q(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(qs[e]=s),t&&(qs[t[0]]=function(){return Nn(s.apply(this,arguments),t[1],t[2])}),n&&(qs[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function IA(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function kA(e){var t=e.match(Td),n,r;for(n=0,r=t.length;n<r;n++)qs[t[n]]?t[n]=qs[t[n]]:t[n]=IA(t[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=$n(t[o])?t[o].call(s,e):t[o];return i}}function Aa(e,t){return e.isValid()?(t=b0(t,e.localeData()),Zu[t]=Zu[t]||kA(t),Zu[t](e)):e.localeData().invalidDate()}function b0(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(ma.lastIndex=0;n>=0&&ma.test(e);)e=e.replace(ma,r),ma.lastIndex=0,n-=1;return e}var CA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function AA(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Td).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var OA="Invalid date";function RA(){return this._invalidDate}var DA="%d",xA=/\d{1,2}/;function PA(e){return this._ordinal.replace("%d",e)}var MA={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function NA(e,t,n,r){var s=this._relativeTime[n];return $n(s)?s(e,t,n,r):s.replace(/%d/i,e)}function LA(e,t){var n=this._relativeTime[e>0?"future":"past"];return $n(n)?n(t):n.replace(/%s/i,t)}var Gi={};function Ot(e,t){var n=e.toLowerCase();Gi[n]=Gi[n+"s"]=Gi[t]=e}function cn(e){return typeof e=="string"?Gi[e]||Gi[e.toLowerCase()]:void 0}function Sd(e){var t={},n,r;for(r in e)Ie(e,r)&&(n=cn(r),n&&(t[n]=e[r]));return t}var _0={};function Rt(e,t){_0[e]=t}function FA(e){var t=[],n;for(n in e)Ie(e,n)&&t.push({unit:n,priority:_0[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}function Jl(e){return e%4===0&&e%100!==0||e%400===0}function nn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ge(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=nn(t)),n}function _i(e,t){return function(n){return n!=null?(E0(this,e,n),$.updateOffset(this,t),this):Xa(this,e)}}function Xa(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function E0(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Jl(e.year())&&e.month()===1&&e.date()===29?(n=ge(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),nu(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function UA(e){return e=cn(e),$n(this[e])?this[e]():this}function $A(e,t){if(typeof e=="object"){e=Sd(e);var n=FA(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=cn(e),$n(this[e]))return this[e](t);return this}var T0=/\d/,Qt=/\d\d/,S0=/\d{3}/,Id=/\d{4}/,Ql=/[+-]?\d{6}/,ze=/\d\d?/,I0=/\d\d\d\d?/,k0=/\d\d\d\d\d\d?/,Xl=/\d{1,3}/,kd=/\d{1,4}/,Zl=/[+-]?\d{1,6}/,Ei=/\d+/,eu=/[+-]?\d+/,VA=/Z|[+-]\d\d:?\d\d/gi,tu=/Z|[+-]\d\d(?::?\d\d)?/gi,jA=/[+-]?\d+(\.\d{1,3})?/,jo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Za;Za={};function B(e,t,n){Za[e]=$n(t)?t:function(r,s){return r&&n?n:t}}function BA(e,t){return Ie(Za,e)?Za[e](t._strict,t._locale):new RegExp(HA(e))}function HA(e){return Ht(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function Ht(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Gc={};function Me(e,t){var n,r=t;for(typeof e=="string"&&(e=[e]),nr(t)&&(r=function(s,i){i[t]=ge(s)}),n=0;n<e.length;n++)Gc[e[n]]=r}function Bo(e,t){Me(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function YA(e,t,n){t!=null&&Ie(Gc,e)&&Gc[e](t,n._a,n,e)}var Ct=0,zn=1,Cn=2,ut=3,mn=4,Gn=5,Jr=6,WA=7,qA=8;function KA(e,t){return(e%t+t)%t}var rt;Array.prototype.indexOf?rt=Array.prototype.indexOf:rt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function nu(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=KA(t,12);return e+=(t-n)/12,n===1?Jl(e)?29:28:31-n%7%2}Q("M",["MM",2],"Mo",function(){return this.month()+1});Q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Q("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ot("month","M");Rt("month",8);B("M",ze);B("MM",ze,Qt);B("MMM",function(e,t){return t.monthsShortRegex(e)});B("MMMM",function(e,t){return t.monthsRegex(e)});Me(["M","MM"],function(e,t){t[zn]=ge(e)-1});Me(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[zn]=s:de(n).invalidMonth=e});var zA="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),C0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),A0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,GA=jo,JA=jo;function QA(e,t){return e?wn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||A0).test(t)?"format":"standalone"][e.month()]:wn(this._months)?this._months:this._months.standalone}function XA(e,t){return e?wn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[A0.test(t)?"format":"standalone"][e.month()]:wn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ZA(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Un([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=rt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=rt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=rt.call(this._shortMonthsParse,o),s!==-1?s:(s=rt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=rt.call(this._longMonthsParse,o),s!==-1?s:(s=rt.call(this._shortMonthsParse,o),s!==-1?s:null))}function eO(e,t,n){var r,s,i;if(this._monthsParseExact)return ZA.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Un([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function O0(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ge(t);else if(t=e.localeData().monthsParse(t),!nr(t))return e}return n=Math.min(e.date(),nu(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function R0(e){return e!=null?(O0(this,e),$.updateOffset(this,!0),this):Xa(this,"Month")}function tO(){return nu(this.year(),this.month())}function nO(e){return this._monthsParseExact?(Ie(this,"_monthsRegex")||D0.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ie(this,"_monthsShortRegex")||(this._monthsShortRegex=GA),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function rO(e){return this._monthsParseExact?(Ie(this,"_monthsRegex")||D0.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ie(this,"_monthsRegex")||(this._monthsRegex=JA),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function D0(){function e(o,a){return a.length-o.length}var t=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=Un([2e3,s]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)t[s]=Ht(t[s]),n[s]=Ht(n[s]);for(s=0;s<24;s++)r[s]=Ht(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Q("Y",0,0,function(){var e=this.year();return e<=9999?Nn(e,4):"+"+e});Q(0,["YY",2],0,function(){return this.year()%100});Q(0,["YYYY",4],0,"year");Q(0,["YYYYY",5],0,"year");Q(0,["YYYYYY",6,!0],0,"year");Ot("year","y");Rt("year",1);B("Y",eu);B("YY",ze,Qt);B("YYYY",kd,Id);B("YYYYY",Zl,Ql);B("YYYYYY",Zl,Ql);Me(["YYYYY","YYYYYY"],Ct);Me("YYYY",function(e,t){t[Ct]=e.length===2?$.parseTwoDigitYear(e):ge(e)});Me("YY",function(e,t){t[Ct]=$.parseTwoDigitYear(e)});Me("Y",function(e,t){t[Ct]=parseInt(e,10)});function Ji(e){return Jl(e)?366:365}$.parseTwoDigitYear=function(e){return ge(e)+(ge(e)>68?1900:2e3)};var x0=_i("FullYear",!0);function sO(){return Jl(this.year())}function iO(e,t,n,r,s,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,s,i,o),a}function po(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function el(e,t,n){var r=7+t-n,s=(7+po(e,0,r).getUTCDay()-t)%7;return-s+r-1}function P0(e,t,n,r,s){var i=(7+n-r)%7,o=el(e,r,s),a=1+7*(t-1)+i+o,l,u;return a<=0?(l=e-1,u=Ji(l)+a):a>Ji(e)?(l=e+1,u=a-Ji(e)):(l=e,u=a),{year:l,dayOfYear:u}}function mo(e,t,n){var r=el(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+Xn(o,t,n)):s>Xn(e.year(),t,n)?(i=s-Xn(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Xn(e,t,n){var r=el(e,t,n),s=el(e+1,t,n);return(Ji(e)-r+s)/7}Q("w",["ww",2],"wo","week");Q("W",["WW",2],"Wo","isoWeek");Ot("week","w");Ot("isoWeek","W");Rt("week",5);Rt("isoWeek",5);B("w",ze);B("ww",ze,Qt);B("W",ze);B("WW",ze,Qt);Bo(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ge(e)});function oO(e){return mo(e,this._week.dow,this._week.doy).week}var aO={dow:0,doy:6};function lO(){return this._week.dow}function uO(){return this._week.doy}function cO(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function hO(e){var t=mo(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Q("d",0,"do","day");Q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Q("e",0,0,"weekday");Q("E",0,0,"isoWeekday");Ot("day","d");Ot("weekday","e");Ot("isoWeekday","E");Rt("day",11);Rt("weekday",11);Rt("isoWeekday",11);B("d",ze);B("e",ze);B("E",ze);B("dd",function(e,t){return t.weekdaysMinRegex(e)});B("ddd",function(e,t){return t.weekdaysShortRegex(e)});B("dddd",function(e,t){return t.weekdaysRegex(e)});Bo(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:de(n).invalidWeekday=e});Bo(["d","e","E"],function(e,t,n,r){t[r]=ge(e)});function dO(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function fO(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Cd(e,t){return e.slice(t,7).concat(e.slice(0,t))}var pO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),M0="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gO=jo,vO=jo,yO=jo;function wO(e,t){var n=wn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Cd(n,this._week.dow):e?n[e.day()]:n}function bO(e){return e===!0?Cd(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function _O(e){return e===!0?Cd(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function EO(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Un([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=rt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=rt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=rt.call(this._weekdaysParse,o),s!==-1||(s=rt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=rt.call(this._shortWeekdaysParse,o),s!==-1||(s=rt.call(this._weekdaysParse,o),s!==-1)?s:(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=rt.call(this._minWeekdaysParse,o),s!==-1||(s=rt.call(this._weekdaysParse,o),s!==-1)?s:(s=rt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function TO(e,t,n){var r,s,i;if(this._weekdaysParseExact)return EO.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Un([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function SO(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=dO(e,this.localeData()),this.add(e-t,"d")):t}function IO(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function kO(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=fO(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function CO(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||Ad.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ie(this,"_weekdaysRegex")||(this._weekdaysRegex=gO),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function AO(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||Ad.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ie(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vO),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function OO(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||Ad.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ie(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yO),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ad(){function e(c,h){return h.length-c.length}var t=[],n=[],r=[],s=[],i,o,a,l,u;for(i=0;i<7;i++)o=Un([2e3,1]).day(i),a=Ht(this.weekdaysMin(o,"")),l=Ht(this.weekdaysShort(o,"")),u=Ht(this.weekdays(o,"")),t.push(a),n.push(l),r.push(u),s.push(a),s.push(l),s.push(u);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Od(){return this.hours()%12||12}function RO(){return this.hours()||24}Q("H",["HH",2],0,"hour");Q("h",["hh",2],0,Od);Q("k",["kk",2],0,RO);Q("hmm",0,0,function(){return""+Od.apply(this)+Nn(this.minutes(),2)});Q("hmmss",0,0,function(){return""+Od.apply(this)+Nn(this.minutes(),2)+Nn(this.seconds(),2)});Q("Hmm",0,0,function(){return""+this.hours()+Nn(this.minutes(),2)});Q("Hmmss",0,0,function(){return""+this.hours()+Nn(this.minutes(),2)+Nn(this.seconds(),2)});function N0(e,t){Q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}N0("a",!0);N0("A",!1);Ot("hour","h");Rt("hour",13);function L0(e,t){return t._meridiemParse}B("a",L0);B("A",L0);B("H",ze);B("h",ze);B("k",ze);B("HH",ze,Qt);B("hh",ze,Qt);B("kk",ze,Qt);B("hmm",I0);B("hmmss",k0);B("Hmm",I0);B("Hmmss",k0);Me(["H","HH"],ut);Me(["k","kk"],function(e,t,n){var r=ge(e);t[ut]=r===24?0:r});Me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Me(["h","hh"],function(e,t,n){t[ut]=ge(e),de(n).bigHour=!0});Me("hmm",function(e,t,n){var r=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r)),de(n).bigHour=!0});Me("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r,2)),t[Gn]=ge(e.substr(s)),de(n).bigHour=!0});Me("Hmm",function(e,t,n){var r=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r))});Me("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r,2)),t[Gn]=ge(e.substr(s))});function DO(e){return(e+"").toLowerCase().charAt(0)==="p"}var xO=/[ap]\.?m?\.?/i,PO=_i("Hours",!0);function MO(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var F0={calendar:TA,longDateFormat:CA,invalidDate:OA,ordinal:DA,dayOfMonthOrdinalParse:xA,relativeTime:MA,months:zA,monthsShort:C0,week:aO,weekdays:pO,weekdaysMin:mO,weekdaysShort:M0,meridiemParse:xO},Qe={},Ni={},go;function NO(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Sm(e){return e&&e.toLowerCase().replace("_","-")}function LO(e){for(var t=0,n,r,s,i;t<e.length;){for(i=Sm(e[t]).split("-"),n=i.length,r=Sm(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=ru(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&NO(i,r)>=n-1)break;n--}t++}return go}function ru(e){var t=null,n;if(Qe[e]===void 0&&typeof module!="undefined"&&module&&module.exports)try{t=go._abbr,n=require,n("./locale/"+e),Cr(t)}catch{Qe[e]=null}return Qe[e]}function Cr(e,t){var n;return e&&(Ft(t)?n=ar(e):n=Rd(e,t),n?go=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),go._abbr}function Rd(e,t){if(t!==null){var n,r=F0;if(t.abbr=e,Qe[e]!=null)w0("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Qe[e]._config;else if(t.parentLocale!=null)if(Qe[t.parentLocale]!=null)r=Qe[t.parentLocale]._config;else if(n=ru(t.parentLocale),n!=null)r=n._config;else return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;return Qe[e]=new Ed(Kc(r,t)),Ni[e]&&Ni[e].forEach(function(s){Rd(s.name,s.config)}),Cr(e),Qe[e]}else return delete Qe[e],null}function FO(e,t){if(t!=null){var n,r,s=F0;Qe[e]!=null&&Qe[e].parentLocale!=null?Qe[e].set(Kc(Qe[e]._config,t)):(r=ru(e),r!=null&&(s=r._config),t=Kc(s,t),r==null&&(t.abbr=e),n=new Ed(t),n.parentLocale=Qe[e],Qe[e]=n),Cr(e)}else Qe[e]!=null&&(Qe[e].parentLocale!=null?(Qe[e]=Qe[e].parentLocale,e===Cr()&&Cr(e)):Qe[e]!=null&&delete Qe[e]);return Qe[e]}function ar(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return go;if(!wn(e)){if(t=ru(e),t)return t;e=[e]}return LO(e)}function UO(){return zc(Qe)}function Dd(e){var t,n=e._a;return n&&de(e).overflow===-2&&(t=n[zn]<0||n[zn]>11?zn:n[Cn]<1||n[Cn]>nu(n[Ct],n[zn])?Cn:n[ut]<0||n[ut]>24||n[ut]===24&&(n[mn]!==0||n[Gn]!==0||n[Jr]!==0)?ut:n[mn]<0||n[mn]>59?mn:n[Gn]<0||n[Gn]>59?Gn:n[Jr]<0||n[Jr]>999?Jr:-1,de(e)._overflowDayOfYear&&(t<Ct||t>Cn)&&(t=Cn),de(e)._overflowWeeks&&t===-1&&(t=WA),de(e)._overflowWeekday&&t===-1&&(t=qA),de(e).overflow=t),e}var $O=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,VO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jO=/Z|[+-]\d\d(?::?\d\d)?/,ga=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ec=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],BO=/^\/?Date\((-?\d+)/i,HO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,YO={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function U0(e){var t,n,r=e._i,s=$O.exec(r)||VO.exec(r),i,o,a,l;if(s){for(de(e).iso=!0,t=0,n=ga.length;t<n;t++)if(ga[t][1].exec(s[1])){o=ga[t][0],i=ga[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=ec.length;t<n;t++)if(ec[t][1].exec(s[3])){a=(s[2]||" ")+ec[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(s[4])if(jO.exec(s[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),Pd(e)}else e._isValid=!1}function WO(e,t,n,r,s,i){var o=[qO(e),C0.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function qO(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function KO(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zO(e,t,n){if(e){var r=M0.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return de(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function GO(e,t,n){if(e)return YO[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function $0(e){var t=HO.exec(KO(e._i)),n;if(t){if(n=WO(t[4],t[3],t[2],t[5],t[6],t[7]),!zO(t[1],n,e))return;e._a=n,e._tzm=GO(t[8],t[9],t[10]),e._d=po.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),de(e).rfc2822=!0}else e._isValid=!1}function JO(e){var t=BO.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(U0(e),e._isValid===!1)delete e._isValid;else return;if($0(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:$.createFromInputFallback(e)}$.createFromInputFallback=un("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Us(e,t,n){return e!=null?e:t!=null?t:n}function QO(e){var t=new Date($.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xd(e){var t,n,r=[],s,i,o;if(!e._d){for(s=QO(e),e._w&&e._a[Cn]==null&&e._a[zn]==null&&XO(e),e._dayOfYear!=null&&(o=Us(e._a[Ct],s[Ct]),(e._dayOfYear>Ji(o)||e._dayOfYear===0)&&(de(e)._overflowDayOfYear=!0),n=po(o,0,e._dayOfYear),e._a[zn]=n.getUTCMonth(),e._a[Cn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ut]===24&&e._a[mn]===0&&e._a[Gn]===0&&e._a[Jr]===0&&(e._nextDay=!0,e._a[ut]=0),e._d=(e._useUTC?po:iO).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ut]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(de(e).weekdayMismatch=!0)}}function XO(e){var t,n,r,s,i,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Us(t.GG,e._a[Ct],mo(Ke(),1,4).year),r=Us(t.W,1),s=Us(t.E,1),(s<1||s>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=mo(Ke(),i,o),n=Us(t.gg,e._a[Ct],u.year),r=Us(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(l=!0)):s=i),r<1||r>Xn(n,i,o)?de(e)._overflowWeeks=!0:l!=null?de(e)._overflowWeekday=!0:(a=P0(n,r,s,i,o),e._a[Ct]=a.year,e._dayOfYear=a.dayOfYear)}$.ISO_8601=function(){};$.RFC_2822=function(){};function Pd(e){if(e._f===$.ISO_8601){U0(e);return}if(e._f===$.RFC_2822){$0(e);return}e._a=[],de(e).empty=!0;var t=""+e._i,n,r,s,i,o,a=t.length,l=0,u;for(s=b0(e._f,e._locale).match(Td)||[],n=0;n<s.length;n++)i=s[n],r=(t.match(BA(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&de(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),qs[i]?(r?de(e).empty=!1:de(e).unusedTokens.push(i),YA(i,r,e)):e._strict&&!r&&de(e).unusedTokens.push(i);de(e).charsLeftOver=a-l,t.length>0&&de(e).unusedInput.push(t),e._a[ut]<=12&&de(e).bigHour===!0&&e._a[ut]>0&&(de(e).bigHour=void 0),de(e).parsedDateParts=e._a.slice(0),de(e).meridiem=e._meridiem,e._a[ut]=ZO(e._locale,e._a[ut],e._meridiem),u=de(e).era,u!==null&&(e._a[Ct]=e._locale.erasConvertYear(u,e._a[Ct])),xd(e),Dd(e)}function ZO(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function eR(e){var t,n,r,s,i,o,a=!1;if(e._f.length===0){de(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<e._f.length;s++)i=0,o=!1,t=_d({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Pd(t),bd(t)&&(o=!0),i+=de(t).charsLeftOver,i+=de(t).unusedTokens.length*10,de(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(a=!0));Tr(e,n||t)}function tR(e){if(!e._d){var t=Sd(e._i),n=t.day===void 0?t.date:t.day;e._a=v0([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),xd(e)}}function nR(e){var t=new Vo(Dd(V0(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function V0(e){var t=e._i,n=e._f;return e._locale=e._locale||ar(e._l),t===null||n===void 0&&t===""?Gl({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),bn(t)?new Vo(Dd(t)):($o(t)?e._d=t:wn(n)?eR(e):n?Pd(e):rR(e),bd(e)||(e._d=null),e))}function rR(e){var t=e._i;Ft(t)?e._d=new Date($.now()):$o(t)?e._d=new Date(t.valueOf()):typeof t=="string"?JO(e):wn(t)?(e._a=v0(t.slice(0),function(n){return parseInt(n,10)}),xd(e)):ss(t)?tR(e):nr(t)?e._d=new Date(t):$.createFromInputFallback(e)}function j0(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ss(e)&&wd(e)||wn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,nR(i)}function Ke(e,t,n,r){return j0(e,t,n,r,!1)}var sR=un("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ke.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Gl()}),iR=un("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ke.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Gl()});function B0(e,t){var n,r;if(t.length===1&&wn(t[0])&&(t=t[0]),!t.length)return Ke();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function oR(){var e=[].slice.call(arguments,0);return B0("isBefore",e)}function aR(){var e=[].slice.call(arguments,0);return B0("isAfter",e)}var lR=function(){return Date.now?Date.now():+new Date},Li=["year","quarter","month","week","day","hour","minute","second","millisecond"];function uR(e){var t,n=!1,r;for(t in e)if(Ie(e,t)&&!(rt.call(Li,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<Li.length;++r)if(e[Li[r]]){if(n)return!1;parseFloat(e[Li[r]])!==ge(e[Li[r]])&&(n=!0)}return!0}function cR(){return this._isValid}function hR(){return _n(NaN)}function su(e){var t=Sd(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=uR(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=ar(),this._bubble()}function Oa(e){return e instanceof su}function Jc(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function dR(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ge(e[o])!==ge(t[o]))&&i++;return i+s}function H0(e,t){Q(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Nn(~~(n/60),2)+t+Nn(~~n%60,2)})}H0("Z",":");H0("ZZ","");B("Z",tu);B("ZZ",tu);Me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Md(tu,e)});var fR=/([\+\-]|\d\d)/gi;function Md(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(fR)||["-",0,0],i=+(s[1]*60)+ge(s[2]),i===0?0:s[0]==="+"?i:-i)}function Nd(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(bn(e)||$o(e)?e.valueOf():Ke(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),$.updateOffset(n,!1),n):Ke(e).local()}function Qc(e){return-Math.round(e._d.getTimezoneOffset())}$.updateOffset=function(){};function pR(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Md(tu,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=Qc(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?q0(this,_n(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Qc(this)}function mR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gR(e){return this.utcOffset(0,e)}function vR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Qc(this),"m")),this}function yR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Md(VA,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wR(e){return this.isValid()?(e=e?Ke(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function bR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _R(){if(!Ft(this._isDSTShifted))return this._isDSTShifted;var e={},t;return _d(e,this),e=V0(e),e._a?(t=e._isUTC?Un(e._a):Ke(e._a),this._isDSTShifted=this.isValid()&&dR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ER(){return this.isValid()?!this._isUTC:!1}function TR(){return this.isValid()?this._isUTC:!1}function Y0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var SR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,IR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _n(e,t){var n=e,r=null,s,i,o;return Oa(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:nr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=SR.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:ge(r[Cn])*s,h:ge(r[ut])*s,m:ge(r[mn])*s,s:ge(r[Gn])*s,ms:ge(Jc(r[Jr]*1e3))*s}):(r=IR.exec(e))?(s=r[1]==="-"?-1:1,n={y:Hr(r[2],s),M:Hr(r[3],s),w:Hr(r[4],s),d:Hr(r[5],s),h:Hr(r[6],s),m:Hr(r[7],s),s:Hr(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=kR(Ke(n.from),Ke(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new su(n),Oa(e)&&Ie(e,"_locale")&&(i._locale=e._locale),Oa(e)&&Ie(e,"_isValid")&&(i._isValid=e._isValid),i}_n.fn=su.prototype;_n.invalid=hR;function Hr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Im(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function kR(e,t){var n;return e.isValid()&&t.isValid()?(t=Nd(t,e),e.isBefore(t)?n=Im(e,t):(n=Im(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function W0(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(w0(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=_n(n,r),q0(this,s,e),this}}function q0(e,t,n,r){var s=t._milliseconds,i=Jc(t._days),o=Jc(t._months);!e.isValid()||(r=r==null?!0:r,o&&O0(e,Xa(e,"Month")+o*n),i&&E0(e,"Date",Xa(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&$.updateOffset(e,i||o))}var CR=W0(1,"add"),AR=W0(-1,"subtract");function K0(e){return typeof e=="string"||e instanceof String}function OR(e){return bn(e)||$o(e)||K0(e)||nr(e)||DR(e)||RR(e)||e===null||e===void 0}function RR(e){var t=ss(e)&&!wd(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Ie(e,i);return t&&n}function DR(e){var t=wn(e),n=!1;return t&&(n=e.filter(function(r){return!nr(r)&&K0(e)}).length===0),t&&n}function xR(e){var t=ss(e)&&!wd(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Ie(e,i);return t&&n}function PR(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function MR(e,t){arguments.length===1&&(arguments[0]?OR(arguments[0])?(e=arguments[0],t=void 0):xR(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ke(),r=Nd(n,this).startOf("day"),s=$.calendarFormat(this,r)||"sameElse",i=t&&($n(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,Ke(n)))}function NR(){return new Vo(this)}function LR(e,t){var n=bn(e)?e:Ke(e);return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function FR(e,t){var n=bn(e)?e:Ke(e);return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function UR(e,t,n,r){var s=bn(e)?e:Ke(e),i=bn(t)?t:Ke(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function $R(e,t){var n=bn(e)?e:Ke(e),r;return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function VR(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function jR(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function BR(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=Nd(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=cn(t),t){case"year":i=Ra(this,r)/12;break;case"month":i=Ra(this,r);break;case"quarter":i=Ra(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:nn(i)}function Ra(e,t){if(e.date()<t.date())return-Ra(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}$.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function HR(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function YR(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Aa(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$n(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Aa(n,"Z")):Aa(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function WR(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function qR(e){e||(e=this.isUtc()?$.defaultFormatUtc:$.defaultFormat);var t=Aa(this,e);return this.localeData().postformat(t)}function KR(e,t){return this.isValid()&&(bn(e)&&e.isValid()||Ke(e).isValid())?_n({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zR(e){return this.from(Ke(),e)}function GR(e,t){return this.isValid()&&(bn(e)&&e.isValid()||Ke(e).isValid())?_n({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function JR(e){return this.to(Ke(),e)}function z0(e){var t;return e===void 0?this._locale._abbr:(t=ar(e),t!=null&&(this._locale=t),this)}var G0=un("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function J0(){return this._locale}var tl=1e3,Ks=60*tl,nl=60*Ks,Q0=(365*400+97)*24*nl;function zs(e,t){return(e%t+t)%t}function X0(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Q0:new Date(e,t,n).valueOf()}function Z0(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Q0:Date.UTC(e,t,n)}function QR(e){var t,n;if(e=cn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Z0:X0,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=zs(t+(this._isUTC?0:this.utcOffset()*Ks),nl);break;case"minute":t=this._d.valueOf(),t-=zs(t,Ks);break;case"second":t=this._d.valueOf(),t-=zs(t,tl);break}return this._d.setTime(t),$.updateOffset(this,!0),this}function XR(e){var t,n;if(e=cn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Z0:X0,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=nl-zs(t+(this._isUTC?0:this.utcOffset()*Ks),nl)-1;break;case"minute":t=this._d.valueOf(),t+=Ks-zs(t,Ks)-1;break;case"second":t=this._d.valueOf(),t+=tl-zs(t,tl)-1;break}return this._d.setTime(t),$.updateOffset(this,!0),this}function ZR(){return this._d.valueOf()-(this._offset||0)*6e4}function eD(){return Math.floor(this.valueOf()/1e3)}function tD(){return new Date(this.valueOf())}function nD(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function rD(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function sD(){return this.isValid()?this.toISOString():null}function iD(){return bd(this)}function oD(){return Tr({},de(this))}function aD(){return de(this).overflow}function lD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Q("N",0,0,"eraAbbr");Q("NN",0,0,"eraAbbr");Q("NNN",0,0,"eraAbbr");Q("NNNN",0,0,"eraName");Q("NNNNN",0,0,"eraNarrow");Q("y",["y",1],"yo","eraYear");Q("y",["yy",2],0,"eraYear");Q("y",["yyy",3],0,"eraYear");Q("y",["yyyy",4],0,"eraYear");B("N",Ld);B("NN",Ld);B("NNN",Ld);B("NNNN",wD);B("NNNNN",bD);Me(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?de(n).era=s:de(n).invalidEra=e});B("y",Ei);B("yy",Ei);B("yyy",Ei);B("yyyy",Ei);B("yo",_D);Me(["y","yy","yyy","yyyy"],Ct);Me(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ct]=n._locale.eraYearOrdinalParse(e,s):t[Ct]=parseInt(e,10)});function uD(e,t){var n,r,s,i=this._eras||ar("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=$(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=$(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function cD(e,t,n){var r,s,i=this.eras(),o,a,l;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([o,a,l].indexOf(e)>=0)return i[r]}function hD(e,t){var n=e.since<=e.until?1:-1;return t===void 0?$(e.since).year():$(e.since).year()+(t-e.offset)*n}function dD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function fD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function pD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function mD(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-$(s[e].since).year())*n+s[e].offset;return this.year()}function gD(e){return Ie(this,"_erasNameRegex")||Fd.call(this),e?this._erasNameRegex:this._erasRegex}function vD(e){return Ie(this,"_erasAbbrRegex")||Fd.call(this),e?this._erasAbbrRegex:this._erasRegex}function yD(e){return Ie(this,"_erasNarrowRegex")||Fd.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ld(e,t){return t.erasAbbrRegex(e)}function wD(e,t){return t.erasNameRegex(e)}function bD(e,t){return t.erasNarrowRegex(e)}function _D(e,t){return t._eraYearOrdinalRegex||Ei}function Fd(){var e=[],t=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)t.push(Ht(o[s].name)),e.push(Ht(o[s].abbr)),n.push(Ht(o[s].narrow)),r.push(Ht(o[s].name)),r.push(Ht(o[s].abbr)),r.push(Ht(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Q(0,["gg",2],0,function(){return this.weekYear()%100});Q(0,["GG",2],0,function(){return this.isoWeekYear()%100});function iu(e,t){Q(0,[e,e.length],0,t)}iu("gggg","weekYear");iu("ggggg","weekYear");iu("GGGG","isoWeekYear");iu("GGGGG","isoWeekYear");Ot("weekYear","gg");Ot("isoWeekYear","GG");Rt("weekYear",1);Rt("isoWeekYear",1);B("G",eu);B("g",eu);B("GG",ze,Qt);B("gg",ze,Qt);B("GGGG",kd,Id);B("gggg",kd,Id);B("GGGGG",Zl,Ql);B("ggggg",Zl,Ql);Bo(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ge(e)});Bo(["gg","GG"],function(e,t,n,r){t[r]=$.parseTwoDigitYear(e)});function ED(e){return ew.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function TD(e){return ew.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function SD(){return Xn(this.year(),1,4)}function ID(){return Xn(this.isoWeekYear(),1,4)}function kD(){var e=this.localeData()._week;return Xn(this.year(),e.dow,e.doy)}function CD(){var e=this.localeData()._week;return Xn(this.weekYear(),e.dow,e.doy)}function ew(e,t,n,r,s){var i;return e==null?mo(this,r,s).year:(i=Xn(e,r,s),t>i&&(t=i),AD.call(this,e,t,n,r,s))}function AD(e,t,n,r,s){var i=P0(e,t,n,r,s),o=po(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Q("Q",0,"Qo","quarter");Ot("quarter","Q");Rt("quarter",7);B("Q",T0);Me("Q",function(e,t){t[zn]=(ge(e)-1)*3});function OD(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Q("D",["DD",2],"Do","date");Ot("date","D");Rt("date",9);B("D",ze);B("DD",ze,Qt);B("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Me(["D","DD"],Cn);Me("Do",function(e,t){t[Cn]=ge(e.match(ze)[0])});var tw=_i("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear");Ot("dayOfYear","DDD");Rt("dayOfYear",4);B("DDD",Xl);B("DDDD",S0);Me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ge(e)});function RD(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Q("m",["mm",2],0,"minute");Ot("minute","m");Rt("minute",14);B("m",ze);B("mm",ze,Qt);Me(["m","mm"],mn);var DD=_i("Minutes",!1);Q("s",["ss",2],0,"second");Ot("second","s");Rt("second",15);B("s",ze);B("ss",ze,Qt);Me(["s","ss"],Gn);var xD=_i("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)});Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Q(0,["SSS",3],0,"millisecond");Q(0,["SSSS",4],0,function(){return this.millisecond()*10});Q(0,["SSSSS",5],0,function(){return this.millisecond()*100});Q(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Q(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Q(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Q(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ot("millisecond","ms");Rt("millisecond",16);B("S",Xl,T0);B("SS",Xl,Qt);B("SSS",Xl,S0);var Sr,nw;for(Sr="SSSS";Sr.length<=9;Sr+="S")B(Sr,Ei);function PD(e,t){t[Jr]=ge(("0."+e)*1e3)}for(Sr="S";Sr.length<=9;Sr+="S")Me(Sr,PD);nw=_i("Milliseconds",!1);Q("z",0,0,"zoneAbbr");Q("zz",0,0,"zoneName");function MD(){return this._isUTC?"UTC":""}function ND(){return this._isUTC?"Coordinated Universal Time":""}var A=Vo.prototype;A.add=CR;A.calendar=MR;A.clone=NR;A.diff=BR;A.endOf=XR;A.format=qR;A.from=KR;A.fromNow=zR;A.to=GR;A.toNow=JR;A.get=UA;A.invalidAt=aD;A.isAfter=LR;A.isBefore=FR;A.isBetween=UR;A.isSame=$R;A.isSameOrAfter=VR;A.isSameOrBefore=jR;A.isValid=iD;A.lang=G0;A.locale=z0;A.localeData=J0;A.max=iR;A.min=sR;A.parsingFlags=oD;A.set=$A;A.startOf=QR;A.subtract=AR;A.toArray=nD;A.toObject=rD;A.toDate=tD;A.toISOString=YR;A.inspect=WR;typeof Symbol!="undefined"&&Symbol.for!=null&&(A[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});A.toJSON=sD;A.toString=HR;A.unix=eD;A.valueOf=ZR;A.creationData=lD;A.eraName=dD;A.eraNarrow=fD;A.eraAbbr=pD;A.eraYear=mD;A.year=x0;A.isLeapYear=sO;A.weekYear=ED;A.isoWeekYear=TD;A.quarter=A.quarters=OD;A.month=R0;A.daysInMonth=tO;A.week=A.weeks=cO;A.isoWeek=A.isoWeeks=hO;A.weeksInYear=kD;A.weeksInWeekYear=CD;A.isoWeeksInYear=SD;A.isoWeeksInISOWeekYear=ID;A.date=tw;A.day=A.days=SO;A.weekday=IO;A.isoWeekday=kO;A.dayOfYear=RD;A.hour=A.hours=PO;A.minute=A.minutes=DD;A.second=A.seconds=xD;A.millisecond=A.milliseconds=nw;A.utcOffset=pR;A.utc=gR;A.local=vR;A.parseZone=yR;A.hasAlignedHourOffset=wR;A.isDST=bR;A.isLocal=ER;A.isUtcOffset=TR;A.isUtc=Y0;A.isUTC=Y0;A.zoneAbbr=MD;A.zoneName=ND;A.dates=un("dates accessor is deprecated. Use date instead.",tw);A.months=un("months accessor is deprecated. Use month instead",R0);A.years=un("years accessor is deprecated. Use year instead",x0);A.zone=un("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mR);A.isDSTShifted=un("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_R);function LD(e){return Ke(e*1e3)}function FD(){return Ke.apply(null,arguments).parseZone()}function rw(e){return e}var ke=Ed.prototype;ke.calendar=SA;ke.longDateFormat=AA;ke.invalidDate=RA;ke.ordinal=PA;ke.preparse=rw;ke.postformat=rw;ke.relativeTime=NA;ke.pastFuture=LA;ke.set=EA;ke.eras=uD;ke.erasParse=cD;ke.erasConvertYear=hD;ke.erasAbbrRegex=vD;ke.erasNameRegex=gD;ke.erasNarrowRegex=yD;ke.months=QA;ke.monthsShort=XA;ke.monthsParse=eO;ke.monthsRegex=rO;ke.monthsShortRegex=nO;ke.week=oO;ke.firstDayOfYear=uO;ke.firstDayOfWeek=lO;ke.weekdays=wO;ke.weekdaysMin=_O;ke.weekdaysShort=bO;ke.weekdaysParse=TO;ke.weekdaysRegex=CO;ke.weekdaysShortRegex=AO;ke.weekdaysMinRegex=OO;ke.isPM=DO;ke.meridiem=MO;function rl(e,t,n,r){var s=ar(),i=Un().set(r,t);return s[n](i,e)}function sw(e,t,n){if(nr(e)&&(t=e,e=void 0),e=e||"",t!=null)return rl(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=rl(e,r,n,"month");return s}function Ud(e,t,n,r){typeof e=="boolean"?(nr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,nr(t)&&(n=t,t=void 0),t=t||"");var s=ar(),i=e?s._week.dow:0,o,a=[];if(n!=null)return rl(t,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=rl(t,(o+i)%7,r,"day");return a}function UD(e,t){return sw(e,t,"months")}function $D(e,t){return sw(e,t,"monthsShort")}function VD(e,t,n){return Ud(e,t,n,"weekdays")}function jD(e,t,n){return Ud(e,t,n,"weekdaysShort")}function BD(e,t,n){return Ud(e,t,n,"weekdaysMin")}Cr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ge(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});$.lang=un("moment.lang is deprecated. Use moment.locale instead.",Cr);$.langData=un("moment.langData is deprecated. Use moment.localeData instead.",ar);var jn=Math.abs;function HD(){var e=this._data;return this._milliseconds=jn(this._milliseconds),this._days=jn(this._days),this._months=jn(this._months),e.milliseconds=jn(e.milliseconds),e.seconds=jn(e.seconds),e.minutes=jn(e.minutes),e.hours=jn(e.hours),e.months=jn(e.months),e.years=jn(e.years),this}function iw(e,t,n,r){var s=_n(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function YD(e,t){return iw(this,e,t,1)}function WD(e,t){return iw(this,e,t,-1)}function km(e){return e<0?Math.floor(e):Math.ceil(e)}function qD(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=km(Xc(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=nn(e/1e3),r.seconds=s%60,i=nn(s/60),r.minutes=i%60,o=nn(i/60),r.hours=o%24,t+=nn(o/24),l=nn(ow(t)),n+=l,t-=km(Xc(l)),a=nn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function ow(e){return e*4800/146097}function Xc(e){return e*146097/4800}function KD(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=cn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+ow(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Xc(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function zD(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ge(this._months/12)*31536e6:NaN}function lr(e){return function(){return this.as(e)}}var GD=lr("ms"),JD=lr("s"),QD=lr("m"),XD=lr("h"),ZD=lr("d"),ex=lr("w"),tx=lr("M"),nx=lr("Q"),rx=lr("y");function sx(){return _n(this)}function ix(e){return e=cn(e),this.isValid()?this[e+"s"]():NaN}function Ss(e){return function(){return this.isValid()?this._data[e]:NaN}}var ox=Ss("milliseconds"),ax=Ss("seconds"),lx=Ss("minutes"),ux=Ss("hours"),cx=Ss("days"),hx=Ss("months"),dx=Ss("years");function fx(){return nn(this.days()/7)}var Hn=Math.round,$s={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function px(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function mx(e,t,n,r){var s=_n(e).abs(),i=Hn(s.as("s")),o=Hn(s.as("m")),a=Hn(s.as("h")),l=Hn(s.as("d")),u=Hn(s.as("M")),c=Hn(s.as("w")),h=Hn(s.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=t,d[3]=+e>0,d[4]=r,px.apply(null,d)}function gx(e){return e===void 0?Hn:typeof e=="function"?(Hn=e,!0):!1}function vx(e,t){return $s[e]===void 0?!1:t===void 0?$s[e]:($s[e]=t,e==="s"&&($s.ss=t-1),!0)}function yx(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=$s,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},$s,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=mx(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var tc=Math.abs;function Ps(e){return(e>0)-(e<0)||+e}function ou(){if(!this.isValid())return this.localeData().invalidDate();var e=tc(this._milliseconds)/1e3,t=tc(this._days),n=tc(this._months),r,s,i,o,a=this.asSeconds(),l,u,c,h;return a?(r=nn(e/60),s=nn(r/60),e%=60,r%=60,i=nn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ps(this._months)!==Ps(a)?"-":"",c=Ps(this._days)!==Ps(a)?"-":"",h=Ps(this._milliseconds)!==Ps(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(s||r||e?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var _e=su.prototype;_e.isValid=cR;_e.abs=HD;_e.add=YD;_e.subtract=WD;_e.as=KD;_e.asMilliseconds=GD;_e.asSeconds=JD;_e.asMinutes=QD;_e.asHours=XD;_e.asDays=ZD;_e.asWeeks=ex;_e.asMonths=tx;_e.asQuarters=nx;_e.asYears=rx;_e.valueOf=zD;_e._bubble=qD;_e.clone=sx;_e.get=ix;_e.milliseconds=ox;_e.seconds=ax;_e.minutes=lx;_e.hours=ux;_e.days=cx;_e.weeks=fx;_e.months=hx;_e.years=dx;_e.humanize=yx;_e.toISOString=ou;_e.toString=ou;_e.toJSON=ou;_e.locale=z0;_e.localeData=J0;_e.toIsoString=un("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ou);_e.lang=G0;Q("X",0,0,"unix");Q("x",0,0,"valueOf");B("x",eu);B("X",jA);Me("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Me("x",function(e,t,n){n._d=new Date(ge(e))});//! moment.js
$.version="2.29.1";bA(Ke);$.fn=A;$.min=oR;$.max=aR;$.now=lR;$.utc=Un;$.unix=LD;$.months=UD;$.isDate=$o;$.locale=Cr;$.invalid=Gl;$.duration=_n;$.isMoment=bn;$.weekdays=VD;$.parseZone=FD;$.localeData=ar;$.isDuration=Oa;$.monthsShort=$D;$.weekdaysMin=BD;$.defineLocale=Rd;$.updateLocale=FO;$.locales=UO;$.weekdaysShort=jD;$.normalizeUnits=cn;$.relativeTimeRounding=gx;$.relativeTimeThreshold=vx;$.calendarFormat=PR;$.prototype=A;$.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};let OU=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=n[e]&63;r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r<63?t+="_":t+="-"}return t};var wx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},H,$d=$d||{},se=wx||self;function sl(){}function Zc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ho(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function bx(e){return Object.prototype.hasOwnProperty.call(e,nc)&&e[nc]||(e[nc]=++_x)}var nc="closure_uid_"+(1e9*Math.random()>>>0),_x=0;function Ex(e,t,n){return e.call.apply(e.bind,arguments)}function Tx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=Ex:wt=Tx,wt.apply(null,arguments)}function va(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function St(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function Fr(){this.s=this.s,this.o=this.o}var Sx=0,Ix={};Fr.prototype.s=!1;Fr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Sx!=0)){var e=bx(this);delete Ix[e]}};Fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},lw=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s=typeof e=="string"?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function kx(e){e:{var t=vP;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Cm(e){return Array.prototype.concat.apply([],arguments)}function Vd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function il(e){return/^[\s\xa0]*$/.test(e)}var Am=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pt(e,t){return e.indexOf(t)!=-1}function rc(e,t){return e<t?-1:e>t?1:0}var Mt;e:{var Om=se.navigator;if(Om){var Rm=Om.userAgent;if(Rm){Mt=Rm;break e}}Mt=""}function jd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function uw(e){const t={};for(const n in e)t[n]=e[n];return t}var Dm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cw(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Dm.length;i++)n=Dm[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bd(e){return Bd[" "](e),e}Bd[" "]=sl;function Cx(e){var t=Rx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Ax=Pt(Mt,"Opera"),ii=Pt(Mt,"Trident")||Pt(Mt,"MSIE"),hw=Pt(Mt,"Edge"),eh=hw||ii,dw=Pt(Mt,"Gecko")&&!(Pt(Mt.toLowerCase(),"webkit")&&!Pt(Mt,"Edge"))&&!(Pt(Mt,"Trident")||Pt(Mt,"MSIE"))&&!Pt(Mt,"Edge"),Ox=Pt(Mt.toLowerCase(),"webkit")&&!Pt(Mt,"Edge");function fw(){var e=se.document;return e?e.documentMode:void 0}var ol;e:{var sc="",ic=function(){var e=Mt;if(dw)return/rv:([^\);]+)(\)|;)/.exec(e);if(hw)return/Edge\/([\d\.]+)/.exec(e);if(ii)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Ox)return/WebKit\/(\S+)/.exec(e);if(Ax)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ic&&(sc=ic?ic[1]:""),ii){var oc=fw();if(oc!=null&&oc>parseFloat(sc)){ol=String(oc);break e}}ol=sc}var Rx={};function Dx(){return Cx(function(){let e=0;const t=Am(String(ol)).split("."),n=Am("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;e=rc(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||rc(s[2].length==0,i[2].length==0)||rc(s[2],i[2]),s=s[3],i=i[3]}while(e==0)}return 0<=e})}var th;if(se.document&&ii){var xm=fw();th=xm||parseInt(ol,10)||void 0}else th=void 0;var xx=th,Px=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",sl,t),se.removeEventListener("test",sl,t)}catch{}return e}();function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};function vo(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dw){e:{try{Bd(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Mx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vo.Z.h.call(this)}}St(vo,At);var Mx={2:"touch",3:"pen",4:"mouse"};vo.prototype.h=function(){vo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yo="closure_listenable_"+(1e6*Math.random()|0),Nx=0;function Lx(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++Nx,this.ca=this.fa=!1}function au(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lu(e){this.src=e,this.g={},this.h=0}lu.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=rh(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Lx(t,this.src,i,!!r,s),t.fa=n,e.push(t)),t};function nh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=aw(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(au(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function rh(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}var Hd="closure_lm_"+(1e6*Math.random()|0),ac={};function pw(e,t,n,r,s){if(r&&r.once)return gw(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)pw(e,t[i],n,r,s);return null}return n=qd(n),e&&e[Yo]?e.N(t,n,Ho(r)?!!r.capture:!!r,s):mw(e,t,n,!1,r,s)}function mw(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Ho(s)?!!s.capture:!!s,a=Wd(e);if(a||(e[Hd]=a=new lu(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=Fx(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Px||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(yw(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Fx(){function e(n){return t.call(e.src,e.listener,n)}var t=Ux;return e}function gw(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)gw(e,t[i],n,r,s);return null}return n=qd(n),e&&e[Yo]?e.O(t,n,Ho(r)?!!r.capture:!!r,s):mw(e,t,n,!0,r,s)}function vw(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)vw(e,t[i],n,r,s);else r=Ho(r)?!!r.capture:!!r,n=qd(n),e&&e[Yo]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=rh(i,n,r,s),-1<n&&(au(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Wd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rh(t,n,r,s)),(n=-1<e?t[e]:null)&&Yd(n))}function Yd(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Yo])nh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wd(t))?(nh(n,e),n.h==0&&(n.src=null,t[Hd]=null)):au(e)}}}function yw(e){return e in ac?ac[e]:ac[e]="on"+e}function Ux(e,t){if(e.ca)e=!0;else{t=new vo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yd(e),e=n.call(r,t)}return e}function Wd(e){return e=e[Hd],e instanceof lu?e:null}var lc="__closure_events_fn_"+(1e9*Math.random()>>>0);function qd(e){return typeof e=="function"?e:(e[lc]||(e[lc]=function(t){return e.handleEvent(t)}),e[lc])}function ft(){Fr.call(this),this.i=new lu(this),this.P=this,this.I=null}St(ft,Fr);ft.prototype[Yo]=!0;ft.prototype.removeEventListener=function(e,t,n,r){vw(this,e,t,n,r)};function bt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var s=t;t=new At(r,e),cw(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=ya(o,r,!0,t)&&s}if(o=t.g=e,s=ya(o,r,!0,t)&&s,s=ya(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=ya(o,r,!1,t)&&s}ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)au(n[r]);delete e.g[t],e.h--}}this.I=null};ft.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ya(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&nh(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Kd=se.JSON.stringify;function $x(){var e=bw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Vx{constructor(){this.h=this.g=null}add(t,n){const r=ww.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ww=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jx,e=>e.reset());class jx{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Bx(e){se.setTimeout(()=>{throw e},0)}function zd(e,t){sh||Hx(),ih||(sh(),ih=!0),bw.add(e,t)}var sh;function Hx(){var e=se.Promise.resolve(void 0);sh=function(){e.then(Yx)}}var ih=!1,bw=new Vx;function Yx(){for(var e;e=$x();){try{e.h.call(e.g)}catch(n){Bx(n)}var t=ww;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ih=!1}function uu(e,t){ft.call(this),this.h=e||1,this.g=t||se,this.j=wt(this.kb,this),this.l=Date.now()}St(uu,ft);H=uu.prototype;H.da=!1;H.S=null;H.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bt(this,"tick"),this.da&&(Gd(this),this.start()))}};H.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}H.M=function(){uu.Z.M.call(this),Gd(this),delete this.g};function Jd(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function _w(e){e.g=Jd(()=>{e.g=null,e.i&&(e.i=!1,_w(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Wx extends Fr{constructor(t,n){super();this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_w(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(e){Fr.call(this),this.h=e,this.g={}}St(yo,Fr);var Pm=[];function Ew(e,t,n,r){Array.isArray(n)||(n&&(Pm[0]=n.toString()),n=Pm);for(var s=0;s<n.length;s++){var i=pw(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Tw(e){jd(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yd(t)},e),e.g={}}yo.prototype.M=function(){yo.Z.M.call(this),Tw(this)};yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cu(){this.g=!0}cu.prototype.Aa=function(){this.g=!1};function qx(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function Kx(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Vs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Gx(e,n)+(r?" "+r:"")})}function zx(e,t){e.info(function(){return"TIMEOUT: "+t})}cu.prototype.info=function(){};function Gx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Kd(n)}catch{return t}}var Is={},Mm=null;function hu(){return Mm=Mm||new ft}Is.Ma="serverreachability";function Sw(e){At.call(this,Is.Ma,e)}St(Sw,At);function wo(e){const t=hu();bt(t,new Sw(t,e))}Is.STAT_EVENT="statevent";function Iw(e,t){At.call(this,Is.STAT_EVENT,e),this.stat=t}St(Iw,At);function Nt(e){const t=hu();bt(t,new Iw(t,e))}Is.Na="timingevent";function kw(e,t){At.call(this,Is.Na,e),this.size=t}St(kw,At);function Wo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var du={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qd(){}Qd.prototype.h=null;function Nm(e){return e.h||(e.h=e.i())}function Aw(){}var qo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xd(){At.call(this,"d")}St(Xd,At);function Zd(){At.call(this,"c")}St(Zd,At);var oh;function fu(){}St(fu,Qd);fu.prototype.g=function(){return new XMLHttpRequest};fu.prototype.i=function(){return{}};oh=new fu;function Ko(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new yo(this),this.P=Jx,e=eh?125:void 0,this.W=new uu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ow}function Ow(){this.i=null,this.g="",this.h=!1}var Jx=45e3,ah={},al={};H=Ko.prototype;H.setTimeout=function(e){this.P=e};function lh(e,t,n){e.K=1,e.v=mu(rr(t)),e.s=n,e.U=!0,Rw(e,null)}function Rw(e,t){e.F=Date.now(),zo(e),e.A=rr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Fw(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ow,e.g=rb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Wx(wt(e.Ia,e,e.g),e.O)),Ew(e.V,e.g,"readystatechange",e.gb),t=e.H?uw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),wo(1),qx(e.j,e.u,e.A,e.m,e.X,e.s)}H.gb=function(e){e=e.target;const t=this.L;t&&Jn(e)==3?t.l():this.Ia(e)};H.Ia=function(e){try{if(e==this.g)e:{const c=Jn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||eh||this.g&&(this.h.h||this.g.ga()||$m(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?wo(3):wo(2)),pu(this);var n=this.g.ba();this.N=n;t:if(Dw(this)){var r=$m(this.g);e="";var s=r.length,i=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Qr(this),Qi(this);var o="";break t}this.h.i=new se.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Kx(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!il(a)){var u=a;break t}}u=null}if(n=u)Vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uh(this,n);else{this.i=!1,this.o=3,Nt(12),Qr(this),Qi(this);break e}}this.U?(xw(this,c,o),eh&&this.i&&c==3&&(Ew(this.V,this.W,"tick",this.fb),this.W.start())):(Vs(this.j,this.m,o,null),uh(this,o)),c==4&&Qr(this),this.i&&!this.I&&(c==4?Zw(this.l,this):(this.i=!1,zo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),Qr(this),Qi(this)}}}catch{}finally{}};function Dw(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function xw(e,t,n){let r=!0,s;for(;!e.I&&e.C<n.length;)if(s=Qx(e,n),s==al){t==4&&(e.o=4,Nt(14),r=!1),Vs(e.j,e.m,null,"[Incomplete Response]");break}else if(s==ah){e.o=4,Nt(15),Vs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Vs(e.j,e.m,s,null),uh(e,s);Dw(e)&&s!=al&&s!=ah&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Nt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uf(t),t.L=!0,Nt(11))):(Vs(e.j,e.m,n,"[Invalid Chunked Response]"),Qr(e),Qi(e))}H.fb=function(){if(this.g){var e=Jn(this.g),t=this.g.ga();this.C<t.length&&(pu(this),xw(this,e,t),this.i&&e!=4&&zo(this))}};function Qx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?al:(n=Number(t.substring(n,r)),isNaN(n)?ah:(r+=1,r+n>t.length?al:(t=t.substr(r,n),e.C=r+n,t)))}H.cancel=function(){this.I=!0,Qr(this)};function zo(e){e.Y=Date.now()+e.P,Pw(e,e.P)}function Pw(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Wo(wt(e.eb,e),t)}function pu(e){e.B&&(se.clearTimeout(e.B),e.B=null)}H.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(zx(this.j,this.A),this.K!=2&&(wo(3),Nt(17)),Qr(this),this.o=2,Qi(this)):Pw(this,this.Y-e)};function Qi(e){e.l.G==0||e.I||Zw(e.l,e)}function Qr(e){pu(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Gd(e.W),Tw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function uh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ch(n.i,e))){if(n.I=e.N,!e.J&&ch(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)hl(n),yu(n);else break e;lf(n),Nt(18)}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=Wo(wt(n.ab,n),6e3));if(1>=Vw(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Xr(n,11)}else if((e.J||n.g==e)&&hl(n),!il(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let u=s[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;!i.g&&(Pt(p,"spdy")||Pt(p,"quic")||Pt(p,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(nf(i,i.h),i.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Xe(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=nb(r,r.H?r.la:null,r.W),o.J){jw(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(pu(a),zo(a)),r.g=o}else Qw(r);0<n.l.length&&wu(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):af(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}wo(4)}catch{}}function Xx(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Zc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ef(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Zc(e)||typeof e=="string")lw(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Zc(e)||typeof e=="string"){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;r=Xx(e),s=r.length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function Ti(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ti)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}H=Ti.prototype;H.R=function(){tf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};H.T=function(){return tf(this),this.g.concat()};function tf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];cs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)r=e.g[t],cs(s,r)||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}H.get=function(e,t){return cs(this.h,e)?this.h[e]:t};H.set=function(e,t){cs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};H.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};function cs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function hs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hs){this.g=t!==void 0?t:e.g,ll(this,e.j),this.s=e.s,ul(this,e.i),cl(this,e.m),this.l=e.l,t=e.h;var n=new bo;n.i=t.i,t.g&&(n.g=new Ti(t.g),n.h=t.h),Lm(this,n),this.o=e.o}else e&&(n=String(e).match(Mw))?(this.g=!!t,ll(this,n[1]||"",!0),this.s=Xi(n[2]||""),ul(this,n[3]||"",!0),cl(this,n[4]),this.l=Xi(n[5]||"",!0),Lm(this,n[6]||"",!0),this.o=Xi(n[7]||"")):(this.g=!!t,this.h=new bo(null,this.g))}hs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vi(t,Fm,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Vi(t,Fm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Vi(n,n.charAt(0)=="/"?sP:rP,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vi(n,oP)),e.join("")};function rr(e){return new hs(e)}function ll(e,t,n){e.j=n?Xi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ul(e,t,n){e.i=n?Xi(t,!0):t}function cl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lm(e,t,n){t instanceof bo?(e.h=t,aP(e.h,e.g)):(n||(t=Vi(t,iP)),e.h=new bo(t,e.g))}function Xe(e,t,n){e.h.set(t,n)}function mu(e){return Xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function eP(e){return e instanceof hs?rr(e):new hs(e,void 0)}function tP(e,t,n,r){var s=new hs(null,void 0);return e&&ll(s,e),t&&ul(s,t),n&&cl(s,n),r&&(s.l=r),s}function Xi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vi(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,nP),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nP(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Fm=/[#\/\?@]/g,rP=/[#\?:]/g,sP=/[#\?]/g,iP=/[#\?@]/g,oP=/#/g;function bo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ur(e){e.g||(e.g=new Ti,e.h=0,e.i&&Zx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}H=bo.prototype;H.add=function(e,t){Ur(this),this.i=null,e=Si(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Nw(e,t){Ur(e),t=Si(e,t),cs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,cs(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tf(e)))}function Lw(e,t){return Ur(e),t=Si(e,t),cs(e.g.h,t)}H.forEach=function(e,t){Ur(this),this.g.forEach(function(n,r){lw(n,function(s){e.call(t,s,r,this)},this)},this)};H.T=function(){Ur(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n};H.R=function(e){Ur(this);var t=[];if(typeof e=="string")Lw(this,e)&&(t=Cm(t,this.g.get(Si(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Cm(t,e[n])}return t};H.set=function(e,t){return Ur(this),this.i=null,e=Si(this,e),Lw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};H.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function Fw(e,t,n){Nw(e,t),0<n.length&&(e.i=null,e.g.set(Si(e,t),Vd(n)),e.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;r[i]!==""&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};function Si(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function aP(e,t){t&&!e.j&&(Ur(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Nw(this,r),Fw(this,s,n))},e)),e.j=t}var lP=class{constructor(e,t){this.h=e,this.g=t}};function Uw(e){this.l=e||uP,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uP=10;function $w(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Vw(e){return e.h?1:e.g?e.g.size:0}function ch(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function nf(e,t){e.g?e.g.add(t):e.h=t}function jw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Uw.prototype.cancel=function(){if(this.i=Bw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Bw(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vd(e.i)}function rf(){}rf.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};rf.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function cP(){this.g=new rf}function hP(e,t,n){const r=n||"";try{ef(e,function(s,i){let o=s;Ho(s)&&(o=Kd(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function dP(e,t){const n=new cu;if(se.Image){const r=new Image;r.onload=va(wa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=va(wa,n,r,"TestLoadImage: error",!1,t),r.onabort=va(wa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=va(wa,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function wa(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Go(e){this.l=e.$b||null,this.j=e.ib||!1}St(Go,Qd);Go.prototype.g=function(){return new gu(this.l,this.j)};Go.prototype.i=function(e){return function(){return e}}({});function gu(e,t){ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(gu,ft);var sf=0;H=gu.prototype;H.open=function(e,t){if(this.readyState!=sf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_o(this)};H.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||se).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=sf};H.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hw(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Hw(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}H.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jo(this):_o(this),this.readyState==3&&Hw(this)}};H.Ua=function(e){this.g&&(this.response=this.responseText=e,Jo(this))};H.Ta=function(e){this.g&&(this.response=e,Jo(this))};H.ha=function(){this.g&&Jo(this)};function Jo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_o(e)}H.setRequestHeader=function(e,t){this.v.append(e,t)};H.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function _o(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var fP=se.JSON.parse;function lt(e){ft.call(this),this.headers=new Ti,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yw,this.K=this.L=!1}St(lt,ft);var Yw="",pP=/^https?$/i,mP=["POST","PUT"];H=lt.prototype;H.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oh.g(),this.C=this.u?Nm(this.u):Nm(oh),this.g.onreadystatechange=wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){Um(this,i);return}e=n||"";const s=new Ti(this.headers);r&&ef(r,function(i,o){s.set(o,i)}),r=kx(s.T()),n=se.FormData&&e instanceof se.FormData,!(0<=aw(mP,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kw(this),0<this.B&&((this.K=gP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.pa,this)):this.A=Jd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Um(this,i)}};function gP(e){return ii&&Dx()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function vP(e){return e.toLowerCase()=="content-type"}H.pa=function(){typeof $d!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function Um(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ww(e),vu(e)}function Ww(e){e.D||(e.D=!0,bt(e,"complete"),bt(e,"error"))}H.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bt(this,"complete"),bt(this,"abort"),vu(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vu(this,!0)),lt.Z.M.call(this)};H.Fa=function(){this.s||(this.F||this.v||this.l?qw(this):this.cb())};H.cb=function(){qw(this)};function qw(e){if(e.h&&typeof $d!="undefined"&&(!e.C[1]||Jn(e)!=4||e.ba()!=2)){if(e.v&&Jn(e)==4)Jd(e.Fa,0,e);else if(bt(e,"readystatechange"),Jn(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.H).match(Mw)[1]||null;if(!s&&se.self&&se.self.location){var i=se.self.location.protocol;s=i.substr(0,i.length-1)}r=!pP.test(s?s.toLowerCase():"")}n=r}if(n)bt(e,"complete"),bt(e,"success");else{e.m=6;try{var o=2<Jn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",Ww(e)}}finally{vu(e)}}}}function vu(e,t){if(e.g){Kw(e);const n=e.g,r=e.C[0]?sl:null;e.g=null,e.C=null,t||bt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Kw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(se.clearTimeout(e.A),e.A=null)}function Jn(e){return e.g?e.g.readyState:0}H.ba=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}};H.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),fP(t)}};function $m(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}H.Da=function(){return this.m};H.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function yP(e){let t="";return jd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function of(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xe(e,t,n))}function Fi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zw(e){this.za=0,this.l=[],this.h=new cu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fi("baseRetryDelayMs",5e3,e),this.$a=Fi("retryDelaySeedMs",1e4,e),this.Ya=Fi("forwardChannelMaxRetries",2,e),this.ra=Fi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Uw(e&&e.concurrentRequestLimit),this.Ca=new cP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}H=zw.prototype;H.ma=8;H.G=1;function af(e){if(Gw(e),e.G==3){var t=e.V++,n=rr(e.F);Xe(n,"SID",e.J),Xe(n,"RID",t),Xe(n,"TYPE","terminate"),Qo(e,n),t=new Ko(e,e.h,t,void 0),t.K=2,t.v=mu(rr(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.v.toString(),"")),!n&&se.Image&&(new Image().src=t.v,n=!0),n||(t.g=rb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zo(t)}tb(e)}H.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function yu(e){e.g&&(uf(e),e.g.cancel(),e.g=null)}function Gw(e){yu(e),e.u&&(se.clearTimeout(e.u),e.u=null),hl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&se.clearTimeout(e.m),e.m=null)}function uc(e,t){e.l.push(new lP(e.Za++,t)),e.G==3&&wu(e)}function wu(e){$w(e.i)||e.m||(e.m=!0,zd(e.Ha,e),e.C=0)}function wP(e,t){return Vw(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Wo(wt(e.Ha,e,t),eb(e,e.C)),e.C++,!0)}H.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Ko(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=uw(i),cw(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jw(this,s,t),n=rr(this.F),Xe(n,"RID",e),Xe(n,"CVER",22),this.D&&Xe(n,"X-HTTP-Session-Id",this.D),Qo(this,n),this.o&&i&&of(n,this.o,i),nf(this.i,s),this.Ra&&Xe(n,"TYPE","init"),this.ja?(Xe(n,"$req",t),Xe(n,"SID","null"),s.$=!0,lh(s,n,null)):lh(s,n,t),this.G=2}}else this.G==3&&(e?Vm(this,e):this.l.length==0||$w(this.i)||Vm(this))};function Vm(e,t){var n;t?n=t.m:n=e.V++;const r=rr(e.F);Xe(r,"SID",e.J),Xe(r,"RID",n),Xe(r,"AID",e.U),Qo(e,r),e.o&&e.s&&of(r,e.o,e.s),n=new Ko(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jw(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nf(e.i,n),lh(n,r,t)}function Qo(e,t){e.j&&ef({},function(n,r){Xe(t,r,n)})}function Jw(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wt(e.j.Oa,e.j,e):null;e:{var s=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].h;const c=s[l].g;if(u-=i,0>u)i=Math.max(0,s[l].h-100),a=!1;else try{hP(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Qw(e){e.g||e.u||(e.Y=1,zd(e.Ga,e),e.A=0)}function lf(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Wo(wt(e.Ga,e),eb(e,e.A)),e.A++,!0)}H.Ga=function(){if(this.u=null,Xw(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wo(wt(this.bb,this),e)}};H.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nt(10),yu(this),Xw(this))};function uf(e){e.B!=null&&(se.clearTimeout(e.B),e.B=null)}function Xw(e){e.g=new Ko(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=rr(e.oa);Xe(t,"RID","rpc"),Xe(t,"SID",e.J),Xe(t,"CI",e.N?"0":"1"),Xe(t,"AID",e.U),Qo(e,t),Xe(t,"TYPE","xmlhttp"),e.o&&e.s&&of(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mu(rr(t)),n.s=null,n.U=!0,Rw(n,e)}H.ab=function(){this.v!=null&&(this.v=null,yu(this),lf(this),Nt(19))};function hl(e){e.v!=null&&(se.clearTimeout(e.v),e.v=null)}function Zw(e,t){var n=null;if(e.g==t){hl(e),uf(e),e.g=null;var r=2}else if(ch(e.i,t))n=t.D,jw(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=hu(),bt(r,new kw(r,n,t,s)),wu(e)}else Qw(e);else if(s=t.o,s==3||s==0&&0<e.I||!(r==1&&wP(e,t)||r==2&&lf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Xr(e,5);break;case 4:Xr(e,10);break;case 3:Xr(e,6);break;default:Xr(e,2)}}}function eb(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=wt(e.jb,e);n||(n=new hs("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||ll(n,"https"),mu(n)),dP(n.toString(),r)}else Nt(2);e.G=0,e.j&&e.j.va(t),tb(e),Gw(e)}H.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nt(2)):(this.h.info("Failed to ping google.com"),Nt(1))};function tb(e){e.G=0,e.I=-1,e.j&&((Bw(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Vd(e.l),e.l.length=0),e.j.ua())}function nb(e,t,n){let r=eP(n);if(r.i!="")t&&ul(r,t+"."+r.i),cl(r,r.m);else{const s=se.location;r=tP(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&jd(e.aa,function(s,i){Xe(r,i,s)}),t=e.D,n=e.sa,t&&n&&Xe(r,t,n),Xe(r,"VER",e.ma),Qo(e,r),r}function rb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new lt(new Go({ib:!0})):new lt(e.qa),t.L=e.H,t}function sb(){}H=sb.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Oa=function(){};function dl(){if(ii&&!(10<=Number(xx)))throw Error("Environmental error: no available transport.")}dl.prototype.g=function(e,t){return new Jt(e,t)};function Jt(e,t){ft.call(this),this.g=new zw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!il(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!il(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ii(this)}St(Jt,ft);Jt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),zd(wt(e.hb,e,t))),Nt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nb(e,null,e.W),wu(e)};Jt.prototype.close=function(){af(this.g)};Jt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,uc(this.g,t)}else this.v?(t={},t.__data__=Kd(e),uc(this.g,t)):uc(this.g,e)};Jt.prototype.M=function(){this.g.j=null,delete this.j,af(this.g),delete this.g,Jt.Z.M.call(this)};function ib(e){Xd.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}St(ib,Xd);function ob(){Zd.call(this),this.status=1}St(ob,Zd);function Ii(e){this.g=e}St(Ii,sb);Ii.prototype.xa=function(){bt(this.g,"a")};Ii.prototype.wa=function(e){bt(this.g,new ib(e))};Ii.prototype.va=function(e){bt(this.g,new ob(e))};Ii.prototype.ua=function(){bt(this.g,"b")};dl.prototype.createWebChannel=dl.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;du.NO_ERROR=0;du.TIMEOUT=8;du.HTTP_ERROR=6;Cw.COMPLETE="complete";Aw.EventType=qo;qo.OPEN="a";qo.CLOSE="b";qo.ERROR="c";qo.MESSAGE="d";ft.prototype.listen=ft.prototype.N;lt.prototype.listenOnce=lt.prototype.O;lt.prototype.getLastError=lt.prototype.La;lt.prototype.getLastErrorCode=lt.prototype.Da;lt.prototype.getStatus=lt.prototype.ba;lt.prototype.getResponseJson=lt.prototype.Qa;lt.prototype.getResponseText=lt.prototype.ga;lt.prototype.send=lt.prototype.ea;var bP=function(){return new dl},_P=function(){return hu()},cc=du,EP=Cw,TP=Is,jm={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},SP=Go,ba=Aw,IP=lt;const Bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="9.6.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Fl("@firebase/firestore");function Hm(){return ds.logLevel}function G(e,...t){if(ds.logLevel<=Ce.DEBUG){const n=t.map(cf);ds.debug(`Firestore (${ki}): ${e}`,...n)}}function Pr(e,...t){if(ds.logLevel<=Ce.ERROR){const n=t.map(cf);ds.error(`Firestore (${ki}): ${e}`,...n)}}function Ym(e,...t){if(ds.logLevel<=Ce.WARN){const n=t.map(cf);ds.warn(`Firestore (${ki}): ${e}`,...n)}}function cf(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+e;throw Pr(t),new Error(t)}function Be(e,t){e||fe()}function he(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class AP{constructor(t){this.t=t,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ar,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ar)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new kP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Be(t===null||typeof t=="string"),new Ut(t)}}class OP{constructor(t,n,r){this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class RP{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new OP(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Be(typeof n.token=="string"),this.p=n.token,new DP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hf.A=-1;class ab{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=PP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function De(e,t){return e<t?-1:e>t?1:0}function oi(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?De(this.nanoseconds,t.nanoseconds):De(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ye(t)}static min(){return new ye(new qt(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ci(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Eo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Eo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ze extends Eo{construct(t,n,r){return new Ze(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ne(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Eo{construct(t,n,r){return new $t(t,n,r)}static isValidIdentifier(t){return MP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new ne(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t){this.fields=t,t.sort($t.comparator)}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Tt(n)}static fromUint8Array(t){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(t);return new Tt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return De(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const NP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(e){if(Be(!!e),typeof e=="string"){let t=0;const n=NP.exec(e);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ot(e.seconds),nanos:ot(e.nanos)}}function ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ai(e){return typeof e=="string"?Tt.fromBase64String(e):Tt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cb(e){const t=e.mapValue.fields.__previous_value__;return ub(t)?cb(t):t}function To(e){const t=Mr(e.mapValue.fields.__local_write_time__.timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,n,r,s,i,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class li{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new li("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof li&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){return e==null}function fl(e){return e===0&&1/e==-1/0}function FP(e){return typeof e=="number"&&Number.isInteger(e)&&!fl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.path=t}static fromPath(t){return new re(Ze.fromString(t))}static fromName(t){return new re(Ze.fromString(t).popFirst(5))}static empty(){return new re(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ze.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new re(new Ze(t.slice()))}}function fs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ub(e)?4:10:fe()}function Ln(e,t){if(e===t)return!0;const n=fs(e);if(n!==fs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Mr(r.timestampValue),o=Mr(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return ai(r.bytesValue).isEqual(ai(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return ot(r.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ot(r.integerValue)===ot(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=ot(r.doubleValue),o=ot(s.doubleValue);return i===o?fl(i)===fl(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return oi(e.arrayValue.values||[],t.arrayValue.values||[],Ln);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Wm(i)!==Wm(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Ln(i[a],o[a])))return!1;return!0}(e,t);default:return fe()}}function So(e,t){return(e.values||[]).find(n=>Ln(n,t))!==void 0}function ui(e,t){if(e===t)return 0;const n=fs(e),r=fs(t);if(n!==r)return De(n,r);switch(n){case 0:return 0;case 1:return De(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=ot(s.integerValue||s.doubleValue),a=ot(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return qm(e.timestampValue,t.timestampValue);case 4:return qm(To(e),To(t));case 5:return De(e.stringValue,t.stringValue);case 6:return function(s,i){const o=ai(s),a=ai(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=De(o[l],a[l]);if(u!==0)return u}return De(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=De(ot(s.latitude),ot(i.latitude));return o!==0?o:De(ot(s.longitude),ot(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ui(o[l],a[l]);if(u)return u}return De(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=De(a[c],u[c]);if(h!==0)return h;const d=ui(o[a[c]],l[u[c]]);if(d!==0)return d}return De(a.length,u.length)}(e.mapValue,t.mapValue);default:throw fe()}}function qm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return De(e,t);const n=Mr(e),r=Mr(t),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function Gs(e){return dh(e)}function dh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=Mr(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ai(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,re.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=dh(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${dh(r.fields[a])}`;return i+"}"}(e.mapValue):fe();var t,n}function fh(e){return!!e&&"integerValue"in e}function df(e){return!!e&&"arrayValue"in e}function Km(e){return!!e&&"nullValue"in e}function zm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Da(e){return!!e&&"mapValue"in e}function Zi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ci(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Zi(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zi(e.arrayValue.values[n]);return t}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Da(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zi(n)}setAll(t){let n=$t.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Zi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Da(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Da(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ci(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new fn(Zi(this.value))}}function hb(e){const t=[];return Ci(e.fields,(n,r)=>{const s=new $t([n]);if(Da(r)){const i=hb(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new hh(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,r,s,i,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new It(t,0,ye.min(),ye.min(),fn.empty(),0)}static newFoundDocument(t,n,r){return new It(t,1,n,ye.min(),r,0)}static newNoDocument(t,n){return new It(t,2,n,ye.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new It(t,3,n,ye.min(),fn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof It&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.P=null}}function Gm(e,t=null,n=[],r=[],s=null,i=null,o=null){return new UP(e,t,n,r,s,i,o)}function ff(e){const t=he(e);if(t.P===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Gs(s.value);var s}).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ai(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Gs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Gs(r)).join(",")),t.P=n}return t.P}function $P(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Gs(r.value)}`;var r}).join(", ")}]`),Ai(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Gs(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Gs(n)).join(",")),`Target(${t})`}function pf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!KP(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(n=e.filters[s],r=t.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!Ln(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qm(e.startAt,t.startAt)&&Qm(e.endAt,t.endAt)}function ph(e){return re.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Vt extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.v(t,n,r):new VP(t,n,r):n==="array-contains"?new HP(t,r):n==="in"?new YP(t,r):n==="not-in"?new WP(t,r):n==="array-contains-any"?new qP(t,r):new Vt(t,n,r)}static v(t,n,r){return n==="in"?new jP(t,r):new BP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.V(ui(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.V(ui(n,this.value))}V(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class VP extends Vt{constructor(t,n,r){super(t,n,r),this.key=re.fromName(r.referenceValue)}matches(t){const n=re.comparator(t.key,this.key);return this.V(n)}}class jP extends Vt{constructor(t,n){super(t,"in",n),this.keys=db("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BP extends Vt{constructor(t,n){super(t,"not-in",n),this.keys=db("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function db(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class HP extends Vt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return df(n)&&So(n.arrayValue,this.value)}}class YP extends Vt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&So(this.value.arrayValue,n)}}class WP extends Vt{constructor(t,n){super(t,"not-in",n)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!So(this.value.arrayValue,n)}}class qP extends Vt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!df(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>So(this.value.arrayValue,r))}}class pl{constructor(t,n){this.position=t,this.inclusive=n}}class eo{constructor(t,n="asc"){this.field=t,this.dir=n}}function KP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jm(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=ui(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function zP(e,t,n,r,s,i,o,a){return new bu(e,t,n,r,s,i,o,a)}function mf(e){return new bu(e)}function xa(e){return!Ai(e.limit)&&e.limitType==="F"}function mh(e){return!Ai(e.limit)&&e.limitType==="L"}function GP(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function JP(e){for(const t of e.filters)if(t.S())return t.field;return null}function QP(e){return e.collectionGroup!==null}function Io(e){const t=he(e);if(t.D===null){t.D=[];const n=JP(t),r=GP(t);if(n!==null&&r===null)n.isKeyField()||t.D.push(new eo(n)),t.D.push(new eo($t.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.D.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new eo($t.keyField(),i))}}}return t.D}function ps(e){const t=he(e);if(!t.C)if(t.limitType==="F")t.C=Gm(t.path,t.collectionGroup,Io(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Io(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new eo(i.field,o))}const r=t.endAt?new pl(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new pl(t.startAt.position,!t.startAt.inclusive):null;t.C=Gm(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.C}function XP(e,t,n){return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _u(e,t){return pf(ps(e),ps(t))&&e.limitType===t.limitType}function fb(e){return`${ff(ps(e))}|lt:${e.limitType}`}function gh(e){return`Query(target=${$P(ps(e))}; limitType=${e.limitType})`}function gf(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):re.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Jm(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Io(n),r)||n.endAt&&!function(s,i,o){const a=Jm(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Io(n),r))}(e,t)}function pb(e){return(t,n)=>{let r=!1;for(const s of Io(e)){const i=ZP(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ZP(e,t,n){const r=e.field.isKeyField()?re.comparator(t.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?ui(a,l):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(t)?"-0":t}}function gb(e){return{integerValue:""+e}}function eM(e,t){return FP(t)?gb(t):mb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this._=void 0}}function tM(e,t,n){return e instanceof ml?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof ko?yb(e,t):e instanceof Co?wb(e,t):function(r,s){const i=vb(r,s),o=Xm(i)+Xm(r.k);return fh(i)&&fh(r.k)?gb(o):mb(r.O,o)}(e,t)}function nM(e,t,n){return e instanceof ko?yb(e,t):e instanceof Co?wb(e,t):n}function vb(e,t){return e instanceof gl?fh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ml extends Eu{}class ko extends Eu{constructor(t){super(),this.elements=t}}function yb(e,t){const n=bb(t);for(const r of e.elements)n.some(s=>Ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends Eu{constructor(t){super(),this.elements=t}}function wb(e,t){let n=bb(t);for(const r of e.elements)n=n.filter(s=>!Ln(s,r));return{arrayValue:{values:n}}}class gl extends Eu{constructor(t,n){super(),this.O=t,this.k=n}}function Xm(e){return ot(e.integerValue||e.doubleValue)}function bb(e){return df(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function rM(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof ko&&r instanceof ko||n instanceof Co&&r instanceof Co?oi(n.elements,r.elements,Ln):n instanceof gl&&r instanceof gl?Ln(n.k,r.k):n instanceof ml&&r instanceof ml}(e.transform,t.transform)}class sM{constructor(t,n){this.version=t,this.transformResults=n}}class Js{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Js}static exists(t){return new Js(void 0,t)}static updateTime(t){return new Js(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pa(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Tu{}function iM(e,t,n){e instanceof Su?function(r,s,i){const o=r.value.clone(),a=tg(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Xo?function(r,s,i){if(!Pa(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=tg(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(_b(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n){e instanceof Su?function(r,s,i){if(!Pa(r.precondition,s))return;const o=r.value.clone(),a=ng(r.fieldTransforms,i,s);o.setAll(a),s.convertToFoundDocument(eg(s),o).setHasLocalMutations()}(e,t,n):e instanceof Xo?function(r,s,i){if(!Pa(r.precondition,s))return;const o=ng(r.fieldTransforms,i,s),a=s.data;a.setAll(_b(r)),a.setAll(o),s.convertToFoundDocument(eg(s),a).setHasLocalMutations()}(e,t,n):function(r,s){Pa(r.precondition,s)&&s.convertToNoDocument(ye.min())}(e,t)}function oM(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=vb(r.transform,s||null);i!=null&&(n==null&&(n=fn.empty()),n.set(r.field,i))}return n||null}function Zm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oi(n,r,(s,i)=>rM(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function eg(e){return e.isFoundDocument()?e.version:ye.min()}class Su extends Tu{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Xo extends Tu{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}}function _b(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function tg(e,t,n){const r=new Map;Be(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,nM(o,a,n[s]))}return r}function ng(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,tM(i,o,t))}return r}class aM extends Tu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class lM extends Tu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,be;function cM(e){switch(e){default:return fe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function Eb(e){if(e===void 0)return Pr("GRPC error has no .code"),O.UNKNOWN;switch(e){case it.OK:return O.OK;case it.CANCELLED:return O.CANCELLED;case it.UNKNOWN:return O.UNKNOWN;case it.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case it.INTERNAL:return O.INTERNAL;case it.UNAVAILABLE:return O.UNAVAILABLE;case it.UNAUTHENTICATED:return O.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case it.NOT_FOUND:return O.NOT_FOUND;case it.ALREADY_EXISTS:return O.ALREADY_EXISTS;case it.PERMISSION_DENIED:return O.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case it.ABORTED:return O.ABORTED;case it.OUT_OF_RANGE:return O.OUT_OF_RANGE;case it.UNIMPLEMENTED:return O.UNIMPLEMENTED;case it.DATA_LOSS:return O.DATA_LOSS;default:return fe()}}(be=it||(it={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t,n){this.comparator=t,this.root=n||gt.EMPTY}insert(t,n){return new pt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(t){return new pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _a(this.root,t,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _a(this.root,t,this.comparator,!0)}}class _a{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r!=null?r:gt.RED,this.left=s!=null?s:gt.EMPTY,this.right=i!=null?i:gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new gt(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,n,r,s){return this}insert(e,t,n){return new gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.comparator=t,this.data=new pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new rg(this.data.getIterator())}getIteratorFrom(t){return new rg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof _t)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new _t(this.comparator);return n.data=t,n}}class rg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new pt(re.comparator);function ms(){return hM}const dM=new pt(re.comparator);function yh(){return dM}const fM=new pt(re.comparator),pM=new _t(re.comparator);function We(...e){let t=pM;for(const n of e)t=t.add(n);return t}const mM=new _t(De);function Tb(){return mM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,Zo.createSynthesizedTargetChangeForCurrentChange(t,n)),new Iu(ye.min(),r,Tb(),ms(),We())}}class Zo{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n){return new Zo(Tt.EMPTY_BYTE_STRING,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,r,s){this.M=t,this.removedTargetIds=n,this.key=r,this.$=s}}class Sb{constructor(t,n){this.targetId=t,this.F=n}}class Ib{constructor(t,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sg{constructor(){this.B=0,this.L=og(),this.U=Tt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=We(),n=We(),r=We();return this.L.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new Zo(this.U,this.q,t,n,r)}J(){this.K=!1,this.L=og()}Y(t,n){this.K=!0,this.L=this.L.insert(t,n)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class gM{constructor(t){this.nt=t,this.st=new Map,this.it=ms(),this.rt=ig(),this.ot=new _t(De)}ct(t){for(const n of t.M)t.$&&t.$.isFoundDocument()?this.ut(n,t.$):this.at(n,t.key,t.$);for(const n of t.removedTargetIds)this.at(n,t.key,t.$)}ht(t){this.forEachTarget(t,n=>{const r=this.lt(n);switch(t.state){case 0:this.ft(n)&&r.W(t.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(t.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(t.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(t.resumeToken));break;default:fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.st.forEach((r,s)=>{this.ft(s)&&n(s)})}_t(t){const n=t.targetId,r=t.F.count,s=this.wt(n);if(s){const i=s.target;if(ph(i))if(r===0){const o=new re(i.path);this.at(n,o,It.newNoDocument(o,ye.min()))}else Be(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(t){const n=new Map;this.st.forEach((i,o)=>{const a=this.wt(o);if(a){if(i.current&&ph(a.target)){const l=new re(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.at(o,l,It.newNoDocument(l,t))}i.j&&(n.set(o,i.H()),i.J())}});let r=We();this.rt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.it.forEach((i,o)=>o.setReadTime(t));const s=new Iu(t,n,this.ot,this.it,r);return this.it=ms(),this.rt=ig(),this.ot=new _t(De),s}ut(t,n){if(!this.ft(t))return;const r=this.It(t,n.key)?2:0;this.lt(t).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Et(n.key).add(t))}at(t,n,r){if(!this.ft(t))return;const s=this.lt(t);this.It(t,n)?s.Y(n,1):s.X(n),this.rt=this.rt.insert(n,this.Et(n).delete(t)),r&&(this.it=this.it.insert(n,r))}removeTarget(t){this.st.delete(t)}gt(t){const n=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let n=this.st.get(t);return n||(n=new sg,this.st.set(t,n)),n}Et(t){let n=this.rt.get(t);return n||(n=new _t(De),this.rt=this.rt.insert(t,n)),n}ft(t){const n=this.wt(t)!==null;return n||G("WatchChangeAggregator","Detected inactive target",t),n}wt(t){const n=this.st.get(t);return n&&n.G?null:this.nt.Tt(t)}dt(t){this.st.set(t,new sg),this.nt.getRemoteKeysForTarget(t).forEach(n=>{this.at(t,n,null)})}It(t,n){return this.nt.getRemoteKeysForTarget(t).has(n)}}function ig(){return new pt(re.comparator)}function og(){return new pt(re.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class wM{constructor(t,n){this.databaseId=t,this.N=n}}function vl(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kb(e,t){return e.N?t.toBase64():t.toUint8Array()}function bM(e,t){return vl(e,t.toTimestamp())}function Zn(e){return Be(!!e),ye.fromTimestamp(function(t){const n=Mr(t);return new qt(n.seconds,n.nanos)}(e))}function vf(e,t){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Cb(e){const t=Ze.fromString(e);return Be(Rb(t)),t}function wh(e,t){return vf(e.databaseId,t.path)}function hc(e,t){const n=Cb(t);if(n.get(1)!==e.databaseId.projectId)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Ab(n))}function bh(e,t){return vf(e.databaseId,t)}function _M(e){const t=Cb(e);return t.length===4?Ze.emptyPath():Ab(t)}function _h(e){return new Ze(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ab(e){return Be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function ag(e,t,n){return{name:wh(e,t),fields:n.value.mapValue.fields}}function EM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,u){return l.N?(Be(u===void 0||typeof u=="string"),Tt.fromBase64String(u||"")):(Be(u===void 0||u instanceof Uint8Array),Tt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?O.UNKNOWN:Eb(l.code);return new ne(u,l.message||"")}(o);n=new Ib(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=hc(e,r.document.name),i=Zn(r.document.updateTime),o=new fn({mapValue:{fields:r.document.fields}}),a=It.newFoundDocument(s,i,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ma(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=hc(e,r.document),i=r.readTime?Zn(r.readTime):ye.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ma([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=hc(e,r.document),i=r.removedTargetIds||[];n=new Ma([],i,s,null)}else{if(!("filter"in t))return fe();{t.filter;const r=t.filter;r.targetId;const s=r.count||0,i=new uM(s),o=r.targetId;n=new Sb(o,i)}}return n}function TM(e,t){let n;if(t instanceof Su)n={update:ag(e,t.key,t.value)};else if(t instanceof aM)n={delete:wh(e,t.key)};else if(t instanceof Xo)n={update:ag(e,t.key,t.data),updateMask:PM(t.fieldMask)};else{if(!(t instanceof lM))return fe();n={verify:wh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof ml)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ko)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Co)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gl)return{fieldPath:i.field.canonicalString(),increment:o.k};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:bM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(e,t.precondition)),n}function SM(e,t){return e&&e.length>0?(Be(t!==void 0),e.map(n=>function(r,s){let i=r.updateTime?Zn(r.updateTime):Zn(s);return i.isEqual(ye.min())&&(i=Zn(s)),new sM(i,r.transformResults||[])}(n,t))):[]}function IM(e,t){return{documents:[bh(e,t.path)]}}function kM(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=bh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(zm(h.value))return{unaryFilter:{field:Ms(h.field),op:"IS_NAN"}};if(Km(h.value))return{unaryFilter:{field:Ms(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(zm(h.value))return{unaryFilter:{field:Ms(h.field),op:"IS_NOT_NAN"}};if(Km(h.value))return{unaryFilter:{field:Ms(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(h.field),op:RM(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ms(c.field),direction:OM(c.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,u){return l.N||Ai(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function CM(e){let t=_M(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];n.where&&(i=Ob(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new eo(js(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Ai(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new pl(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new pl(d,h)}(n.endAt)),zP(t,s,o,i,a,"F",l,u)}function AM(e,t){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ob(e){return e?e.unaryFilter!==void 0?[xM(e)]:e.fieldFilter!==void 0?[DM(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>Ob(t)).reduce((t,n)=>t.concat(n)):fe():[]}function OM(e){return vM[e]}function RM(e){return yM[e]}function Ms(e){return{fieldPath:e.canonicalString()}}function js(e){return $t.fromServerFormat(e.fieldPath)}function DM(e){return Vt.create(js(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}function xM(e){switch(e.unaryFilter.op){case"IS_NAN":const t=js(e.unaryFilter.field);return Vt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=js(e.unaryFilter.field);return Vt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=js(e.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=js(e.unaryFilter.field);return Vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}function PM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Rb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(s=>s?N.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}}function ea(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&iM(i,t,r[s])}}applyToLocalView(t){for(const n of this.baseMutations)n.key.isEqual(t.key)&&vh(n,t,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(t.key)&&vh(n,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(n=>{const r=t.get(n.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(ye.min())})}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),We())}isEqual(t){return this.batchId===t.batchId&&oi(this.mutations,t.mutations,(n,r)=>Zm(n,r))&&oi(this.baseMutations,t.baseMutations,(n,r)=>Zm(n,r))}}class yf{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){Be(t.mutations.length===r.length);let s=fM;const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yf(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,n,r,s,i=ye.min(),o=ye.min(),a=Tt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.Ht=t}}function $M(e){const t=CM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?XP(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.xe=new jM}addToCollectionParentIndex(t,n){return this.xe.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.xe.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n,r){return N.resolve(We())}getFieldIndex(t,n){return N.resolve(null)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class jM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new _t(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new _t(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.ze=t}next(){return this.ze+=2,this.ze}static He(){return new ci(0)}static Je(){return new ci(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==MM)throw e;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n])}else this.inner[r]=[[t,n]]}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),!0;return!1}forEach(t){Ci(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return lb(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.changes=new na(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,It.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,n,r){this.qn=t,this.gs=n,this.indexManager=r}ys(t,n){return this.gs.getAllMutationBatchesAffectingDocumentKey(t,n).next(r=>this.ps(t,n,r))}ps(t,n,r){return this.qn.getEntry(t,n).next(s=>{for(const i of r)i.applyToLocalView(s);return s})}Is(t,n){t.forEach((r,s)=>{for(const i of n)i.applyToLocalView(s)})}Es(t,n){return this.qn.getEntries(t,n).next(r=>this.Ts(t,r).next(()=>r))}Ts(t,n){return this.gs.getAllMutationBatchesAffectingDocumentKeys(t,n).next(r=>this.Is(n,r))}As(t,n,r){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.Rs(t,n.path):QP(n)?this.Ps(t,n,r):this.bs(t,n,r)}Rs(t,n){return this.ys(t,new re(n)).next(r=>{let s=yh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ps(t,n,r){const s=n.collectionGroup;let i=yh();return this.indexManager.getCollectionParents(t,s).next(o=>N.forEach(o,a=>{const l=function(u,c){return new bu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.bs(t,l,r).next(u=>{u.forEach((c,h)=>{i=i.insert(c,h)})})}).next(()=>i))}bs(t,n,r){let s;return this.qn.getAll(t,n.path,r).next(i=>(s=i,this.gs.getAllMutationBatchesAffectingQuery(t,n))).next(i=>{for(const o of i)for(const a of o.mutations){const l=a.key;let u=s.get(l);u==null&&(u=It.newInvalidDocument(l),s=s.insert(l,u)),vh(a,u,o.localWriteTime),u.isFoundDocument()||(s=s.remove(l))}}).next(()=>(s.forEach((i,o)=>{gf(n,o)||(s=s.remove(i))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=s}static Ss(t,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wf(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{Ds(t){this.Cs=t}As(t,n,r,s){return function(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Ns(t,n):this.Cs.Es(t,s).next(i=>{const o=this.xs(n,i);return(xa(n)||mh(n))&&this.ks(n.limitType,o,s,r)?this.Ns(t,n):(Hm()<=Ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gh(n)),this.Cs.As(t,n,r).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}xs(t,n){let r=new _t(pb(t));return n.forEach((s,i)=>{gf(t,i)&&(r=r.add(i))}),r}ks(t,n,r,s){if(r.size!==n.size)return!0;const i=t==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ns(t,n){return Hm()<=Ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",gh(n)),this.Cs.As(t,n,ye.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t,n,r,s){this.persistence=t,this.Os=n,this.O=s,this.Ms=new pt(De),this.$s=new na(i=>ff(i),pf),this.Fs=ye.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}Ls(t){this.indexManager=this.persistence.getIndexManager(t),this.gs=this.persistence.getMutationQueue(t,this.indexManager),this.Us=new HM(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function qM(e,t,n,r){return new WM(e,t,n,r)}async function Db(e,t){const n=he(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.gs.getAllMutationBatches(r).next(i=>(s=i,n.Ls(t),n.gs.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=We();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.Us.Es(r,l).next(u=>({qs:u,removedBatchIds:o,addedBatchIds:a}))})})}function KM(e,t){const n=he(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=N.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);Be(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.gs.removeMutationBatch(a,c))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.gs.performConsistencyCheck(r)).next(()=>n.Us.Es(r,s))})}function xb(e){const t=he(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Un.getLastRemoteSnapshotVersion(n))}function zM(e,t){const n=he(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((u,c)=>{const h=s.get(c);if(!h)return;a.push(n.Un.removeMatchingKeys(i,u.removedDocuments,c).next(()=>n.Un.addMatchingKeys(i,u.addedDocuments,c)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.has(c)?d=d.withResumeToken(Tt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),s=s.insert(c,d),function(f,p,g){return f.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,d,u)&&a.push(n.Un.updateTargetData(i,d))});let l=ms();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(GM(i,o,t.documentUpdates).next(u=>{l=u})),!r.isEqual(ye.min())){const u=n.Un.getLastRemoteSnapshotVersion(i).next(c=>n.Un.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>o.apply(i)).next(()=>n.Us.Ts(i,l)).next(()=>l)}).then(i=>(n.Ms=s,i))}function GM(e,t,n){let r=We();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let i=ms();return n.forEach((o,a)=>{const l=s.get(o);a.isNoDocument()&&a.version.isEqual(ye.min())?(t.removeEntry(o,a.readTime),i=i.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(a),i=i.insert(o,a)):G("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),i})}function JM(e,t){const n=he(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(r,t)))}function QM(e,t){const n=he(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Un.getTargetData(r,t).next(i=>i?(s=i,N.resolve(s)):n.Un.allocateTargetId(r).next(o=>(s=new is(t,o,0,r.currentSequenceNumber),n.Un.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.$s.set(t,r.targetId)),r})}async function Eh(e,t,n){const r=he(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ea(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.$s.delete(s.target)}function lg(e,t,n){const r=he(e);let s=ye.min(),i=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=he(a),h=c.$s.get(u);return h!==void 0?N.resolve(c.Ms.get(h)):c.Un.getTargetData(l,u)}(r,o,ps(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Os.As(o,t,n?s:ye.min(),n?i:We())).next(a=>({documents:a,Ks:i})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.O=t,this.Ws=new Map,this.zs=new Map}getBundleMetadata(t,n){return N.resolve(this.Ws.get(n))}saveBundleMetadata(t,n){var r;return this.Ws.set(n.id,{id:(r=n).id,version:r.version,createTime:Zn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.zs.get(n))}saveNamedQuery(t,n){return this.zs.set(n.name,function(r){return{name:r.name,query:$M(r.bundledQuery),readTime:Zn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.overlays=new pt(re.comparator),this.Hs=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}saveOverlays(t,n,r){return r.forEach(s=>{this.Yt(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Hs.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Hs.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const s=new Map,i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return N.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new pt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=new Map,i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=new Map,l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(c,u)),!(a.size>=s)););return N.resolve(a)}Yt(t,n,r){if(r===null)return;const s=this.overlays.get(r.key);s!==null&&this.Hs.get(s.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new FM(n,r));let i=this.Hs.get(n);i===void 0&&(i=new Set,this.Hs.set(n,i)),i.add(r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.Js=new _t(ct.Ys),this.Xs=new _t(ct.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(t,n){const r=new ct(t,n);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ei(new ct(t,n))}ni(t,n){t.forEach(r=>this.removeReference(r,n))}si(t){const n=new re(new Ze([])),r=new ct(n,t),s=new ct(n,t+1),i=[];return this.Xs.forEachInRange([r,s],o=>{this.ei(o),i.push(o.key)}),i}ii(){this.Js.forEach(t=>this.ei(t))}ei(t){this.Js=this.Js.delete(t),this.Xs=this.Xs.delete(t)}ri(t){const n=new re(new Ze([])),r=new ct(n,t),s=new ct(n,t+1);let i=We();return this.Xs.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new ct(t,0),r=this.Js.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ct{constructor(t,n){this.key=t,this.oi=n}static Ys(t,n){return re.comparator(t.key,n.key)||De(t.oi,n.oi)}static Zs(t,n){return De(t.oi,n.oi)||re.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new _t(ct.Ys)}checkEmpty(t){return N.resolve(this.gs.length===0)}addMutationBatch(t,n,r,s){const i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];const o=new LM(i,n,r,s);this.gs.push(o);for(const a of s)this.ui=this.ui.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.ai(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.hi(r),i=s<0?0:s;return N.resolve(this.gs.length>i?this.gs[i]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.gs.length===0?-1:this.ci-1)}getAllMutationBatches(t){return N.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.ui.forEachInRange([r,s],o=>{const a=this.ai(o.oi);i.push(a)}),N.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new _t(De);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.ui.forEachInRange([i,o],a=>{r=r.add(a.oi)})}),N.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new ct(new re(i),0);let a=new _t(De);return this.ui.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.oi)),!0)},o),N.resolve(this.li(a))}li(t){const n=[];return t.forEach(r=>{const s=this.ai(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Be(this.fi(n.batchId,"removed")===0),this.gs.shift();let r=this.ui;return N.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ui=r})}Qe(t){}containsKey(t,n){const r=new ct(n,0),s=this.ui.firstAfterOrEqual(r);return N.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.gs.length,N.resolve()}fi(t,n){return this.hi(t)}hi(t){return this.gs.length===0?0:t-this.gs[0].batchId}ai(t){const n=this.hi(t);return n<0||n>=this.gs.length?null:this.gs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.di=t,this.docs=new pt(re.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.di(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(t,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),N.resolve(r)}getAll(t,n,r){let s=ms();const i=new re(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||l.readTime.compareTo(r)<=0||(s=s.insert(l.key,l.mutableCopy()))}return N.resolve(s)}_i(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new nN(this)}getSize(t){return N.resolve(this.size)}}class nN extends BM{constructor(t){super(),this.Tn=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Tn.addEntry(t,s)):this.Tn.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.Tn.getEntry(t,n)}getAllFromCache(t,n){return this.Tn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.persistence=t,this.wi=new na(n=>ff(n),pf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.mi=0,this.gi=new bf,this.targetCount=0,this.yi=ci.He()}forEachTarget(t,n){return this.wi.forEach((r,s)=>n(s)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.mi)}allocateTargetId(t){return this.highestTargetId=this.yi.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.mi&&(this.mi=n),N.resolve()}Ze(t){this.wi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.yi=new ci(n),this.highestTargetId=n),t.sequenceNumber>this.mi&&(this.mi=t.sequenceNumber)}addTargetData(t,n){return this.Ze(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Ze(n),N.resolve()}removeTargetData(t,n){return this.wi.delete(n.target),this.gi.si(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.wi.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),N.waitFor(i).next(()=>s)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.wi.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.gi.ti(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.gi.ni(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),N.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.gi.si(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.gi.ri(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.gi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,n){this.pi={},this.overlays={},this.Nn=new hf(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new rN(this),this.indexManager=new VM,this.qn=function(r){return new tN(r)}(r=>this.referenceDelegate.Ii(r)),this.O=new UM(n),this.Kn=new XM(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.pi[t.toKey()];return r||(r=new eN(n,this.referenceDelegate),this.pi[t.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(t,n,r){G("MemoryPersistence","Starting transaction:",t);const s=new iN(this.Nn.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.Ti(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(t,n){return N.or(Object.values(this.pi).map(r=>()=>r.containsKey(t,n)))}}class iN extends NM{constructor(t){super(),this.currentSequenceNumber=t}}class _f{constructor(t){this.persistence=t,this.Ri=new bf,this.Pi=null}static bi(t){return new _f(t)}get vi(){if(this.Pi)return this.Pi;throw fe()}addReference(t,n,r){return this.Ri.addReference(r,n),this.vi.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.vi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.vi.add(n.toString()),N.resolve()}removeTarget(t,n){this.Ri.si(n.targetId).forEach(s=>this.vi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.vi.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Pi=new Set}Ti(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.vi,r=>{const s=re.fromPath(r);return this.Vi(t,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Pi=null,n.apply(t)))}updateLimboDocument(t,n){return this.Vi(t,n).next(r=>{r?this.vi.delete(n.toString()):this.vi.add(n.toString())})}Ii(t){return 0}Vi(t,n){return N.or([()=>N.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ug{constructor(){this.activeTargetIds=Tb()}Ci(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ni(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Di(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oN{constructor(){this._r=new ug,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this._r.Ci(t),this.wr[t]||"not-current"}updateQueryState(t,n,r){this.wr[t]=n}removeLocalQueryTarget(t){this._r.Ni(t)}isLocalQueryTarget(t){return this._r.activeTargetIds.has(t)}clearQueryState(t){delete this.wr[t]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(t){return this._r.activeTargetIds.has(t)}start(){return this._r=new ug,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{mr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(t){this.Er.push(t)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Er)t(0)}Ir(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Er)t(1)}static Vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.Ar=t.Ar,this.Rr=t.Rr}Pr(t){this.br=t}vr(t){this.Vr=t}onMessage(t){this.Sr=t}close(){this.Rr()}send(t){this.Ar(t)}Dr(){this.br()}Cr(t){this.Vr(t)}Nr(t){this.Sr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(t,n,r,s,i){const o=this.$r(t,n);G("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,s,i),this.Br(t,o,a,r).then(l=>(G("RestConnection","Received: ",l),l),l=>{throw Ym("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",r),l})}Lr(t,n,r,s,i){return this.Mr(t,n,r,s,i)}Fr(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ki,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}$r(t,n){const r=lN[t];return`${this.kr}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Br(t,n,r,s){return new Promise((i,o)=>{const a=new IP;a.listenOnce(EP.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case cc.NO_ERROR:const u=a.getResponseJson();G("Connection","XHR received:",JSON.stringify(u)),i(u);break;case cc.TIMEOUT:G("Connection",'RPC "'+t+'" timed out'),o(new ne(O.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const c=a.getStatus();if(G("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(p)>=0?p:O.UNKNOWN}(h.status);o(new ne(d,h.message))}else o(new ne(O.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ne(O.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,r,15)})}Ur(t,n,r){const s=[this.kr,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=bP(),o=_P(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new SP({})),this.Fr(a.initMessageHeaders,n,r),iy()||oy()||XI()||ay()||ZI()||Jh()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=s.join("");G("Connection","Creating WebChannel: "+l,a);const u=i.createWebChannel(l,a);let c=!1,h=!1;const d=new uN({Ar:p=>{h?G("Connection","Not sending because WebChannel is closed:",p):(c||(G("Connection","Opening WebChannel transport."),u.open(),c=!0),G("Connection","WebChannel sending:",p),u.send(p))},Rr:()=>u.close()}),f=(p,g,y)=>{p.listen(g,w=>{try{y(w)}catch(_){setTimeout(()=>{throw _},0)}})};return f(u,ba.EventType.OPEN,()=>{h||G("Connection","WebChannel transport opened.")}),f(u,ba.EventType.CLOSE,()=>{h||(h=!0,G("Connection","WebChannel transport closed"),d.Cr())}),f(u,ba.EventType.ERROR,p=>{h||(h=!0,Ym("Connection","WebChannel transport errored:",p),d.Cr(new ne(O.UNAVAILABLE,"The operation could not be completed")))}),f(u,ba.EventType.MESSAGE,p=>{var g;if(!h){const y=p.data[0];Be(!!y);const w=y,_=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(_){G("Connection","WebChannel received error:",_);const I=_.status;let x=function(Y){const R=it[Y];if(R!==void 0)return Eb(R)}(I),W=_.message;x===void 0&&(x=O.INTERNAL,W="Unknown error status: "+I+" with message "+_.message),h=!0,d.Cr(new ne(x,W)),u.close()}else G("Connection","WebChannel received:",y),d.Nr(y)}}),f(o,TP.STAT_EVENT,p=>{p.stat===jm.PROXY?G("Connection","Detected buffering proxy"):p.stat===jm.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Dr()},0),d}}function dc(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return new wM(e,!0)}class Pb{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Sn=t,this.timerId=n,this.qr=r,this.Kr=s,this.Gr=i,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(t){this.cancel();const n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.jr} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,s,()=>(this.Wr=Date.now(),t())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){this.Qr!==null&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){this.Qr!==null&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,n,r,s,i,o,a,l){this.Sn=t,this.Xr=r,this.Zr=s,this.eo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Pb(t,n)}oo(){return this.state===1||this.state===5||this.co()}co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&this.so===null&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(t){this._o(),this.stream.send(t)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(t,n){this._o(),this.wo(),this.ro.cancel(),this.no++,t!==4?this.ro.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.vr(n)}mo(){}auth(){this.state=1;const t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.no===n&&this.po(r,s)},r=>{t(()=>{const s=new ne(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(s)})})}po(t,n){const r=this.yo(this.no);this.stream=this.Eo(t,n),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(s=>{r(()=>this.Io(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}uo(){this.state=5,this.ro.Hr(async()=>{this.state=0,this.start()})}Io(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}yo(t){return n=>{this.Sn.enqueueAndForget(()=>this.no===t?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends Mb{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.O=i}Eo(t,n){return this.eo.Ur("Listen",t,n)}onMessage(t){this.ro.reset();const n=EM(this.O,t),r=function(s){if(!("targetChange"in s))return ye.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?ye.min():i.readTime?Zn(i.readTime):ye.min()}(t);return this.listener.To(n,r)}Ao(t){const n={};n.database=_h(this.O),n.addTarget=function(s,i){let o;const a=i.target;return o=ph(a)?{documents:IM(s,a)}:{query:kM(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=kb(s,i.resumeToken):i.snapshotVersion.compareTo(ye.min())>0&&(o.readTime=vl(s,i.snapshotVersion.toTimestamp())),o}(this.O,t);const r=AM(this.O,t);r&&(n.labels=r),this.fo(n)}Ro(t){const n={};n.database=_h(this.O),n.removeTarget=t,this.fo(n)}}class dN extends Mb{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.O=i,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(t,n){return this.eo.Ur("Write",t,n)}onMessage(t){if(Be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Po){this.ro.reset();const n=SM(t.writeResults,t.commitTime),r=Zn(t.commitTime);return this.listener.Vo(r,n)}return Be(!t.writeResults||t.writeResults.length===0),this.Po=!0,this.listener.So()}Do(){const t={};t.database=_h(this.O),this.fo(t)}vo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>TM(this.O,r))};this.fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.eo=r,this.O=s,this.Co=!1}No(){if(this.Co)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(t,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.eo.Mr(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(O.UNKNOWN,s.toString())})}Lr(t,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.eo.Lr(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(O.UNKNOWN,s.toString())})}terminate(){this.Co=!0}}class pN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){this.xo===0&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(t){this.state==="Online"?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.$o("Offline")))}set(t){this.Lo(),this.xo=0,t==="Online"&&(this.Oo=!1),this.$o(t)}$o(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Fo(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Pr(n),this.Oo=!1):G("OnlineStateTracker",n)}Lo(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=i,this.jo.mr(o=>{r.enqueueAndForget(async()=>{ks(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.Ko.add(4),await ra(l),l.Qo.set("Unknown"),l.Ko.delete(4),await Cu(l)}(this))})}),this.Qo=new pN(r,s)}}async function Cu(e){if(ks(e))for(const t of e.Go)await t(!0)}async function ra(e){for(const t of e.Go)await t(!1)}function Nb(e,t){const n=he(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Sf(n)?Tf(n):Oi(n).co()&&Ef(n,t))}function Lb(e,t){const n=he(e),r=Oi(n);n.qo.delete(t),r.co()&&Fb(n,t),n.qo.size===0&&(r.co()?r.ho():ks(n)&&n.Qo.set("Unknown"))}function Ef(e,t){e.Wo.Z(t.targetId),Oi(e).Ao(t)}function Fb(e,t){e.Wo.Z(t),Oi(e).Ro(t)}function Tf(e){e.Wo=new gM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qo.get(t)||null}),Oi(e).start(),e.Qo.Mo()}function Sf(e){return ks(e)&&!Oi(e).oo()&&e.qo.size>0}function ks(e){return he(e).Ko.size===0}function Ub(e){e.Wo=void 0}async function gN(e){e.qo.forEach((t,n)=>{Ef(e,t)})}async function vN(e,t){Ub(e),Sf(e)?(e.Qo.Bo(t),Tf(e)):e.Qo.set("Unknown")}async function yN(e,t,n){if(e.Qo.set("Online"),t instanceof Ib&&t.state===2&&t.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.qo.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.qo.delete(o),r.Wo.removeTarget(o))}(e,t)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await yl(e,r)}else if(t instanceof Ma?e.Wo.ct(t):t instanceof Sb?e.Wo._t(t):e.Wo.ht(t),!n.isEqual(ye.min()))try{const r=await xb(e.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Wo.yt(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.qo.get(l);u&&s.qo.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=s.qo.get(a);if(!l)return;s.qo.set(a,l.withResumeToken(Tt.EMPTY_BYTE_STRING,l.snapshotVersion)),Fb(s,a);const u=new is(l.target,a,1,l.sequenceNumber);Ef(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await yl(e,r)}}async function yl(e,t,n){if(!ea(t))throw t;e.Ko.add(1),await ra(e),e.Qo.set("Offline"),n||(n=()=>xb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),e.Ko.delete(1),await Cu(e)})}function $b(e,t){return t().catch(n=>yl(e,n,t))}async function Au(e){const t=he(e),n=Nr(t);let r=t.Uo.length>0?t.Uo[t.Uo.length-1].batchId:-1;for(;wN(t);)try{const s=await JM(t.localStore,r);if(s===null){t.Uo.length===0&&n.ho();break}r=s.batchId,bN(t,s)}catch(s){await yl(t,s)}Vb(t)&&jb(t)}function wN(e){return ks(e)&&e.Uo.length<10}function bN(e,t){e.Uo.push(t);const n=Nr(e);n.co()&&n.bo&&n.vo(t.mutations)}function Vb(e){return ks(e)&&!Nr(e).oo()&&e.Uo.length>0}function jb(e){Nr(e).start()}async function _N(e){Nr(e).Do()}async function EN(e){const t=Nr(e);for(const n of e.Uo)t.vo(n.mutations)}async function TN(e,t,n){const r=e.Uo.shift(),s=yf.from(r,t,n);await $b(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Au(e)}async function SN(e,t){t&&Nr(e).bo&&await async function(n,r){if(s=r.code,cM(s)&&s!==O.ABORTED){const i=n.Uo.shift();Nr(n).ao(),await $b(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Au(n)}var s}(e,t),Vb(e)&&jb(e)}async function hg(e,t){const n=he(e);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.Ko.add(3),await ra(n),r&&n.Qo.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ko.delete(3),await Cu(n)}async function IN(e,t){const n=he(e);t?(n.Ko.delete(2),await Cu(n)):t||(n.Ko.add(2),await ra(n),n.Qo.set("Unknown"))}function Oi(e){return e.zo||(e.zo=function(t,n,r){const s=he(t);return s.No(),new hN(n,s.eo,s.authCredentials,s.appCheckCredentials,s.O,r)}(e.datastore,e.asyncQueue,{Pr:gN.bind(null,e),vr:vN.bind(null,e),To:yN.bind(null,e)}),e.Go.push(async t=>{t?(e.zo.ao(),Sf(e)?Tf(e):e.Qo.set("Unknown")):(await e.zo.stop(),Ub(e))})),e.zo}function Nr(e){return e.Ho||(e.Ho=function(t,n,r){const s=he(t);return s.No(),new dN(n,s.eo,s.authCredentials,s.appCheckCredentials,s.O,r)}(e.datastore,e.asyncQueue,{Pr:_N.bind(null,e),vr:SN.bind(null,e),So:EN.bind(null,e),Vo:TN.bind(null,e)}),e.Go.push(async t=>{t?(e.Ho.ao(),await Au(e)):(await e.Ho.stop(),e.Uo.length>0&&(G("RemoteStore",`Stopping write stream with ${e.Uo.length} pending writes`),e.Uo=[]))})),e.Ho}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new If(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(e,t){if(Pr("AsyncQueue",`${t}: ${e}`),ea(e))return new ne(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.comparator=t?(n,r)=>t(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=yh(),this.sortedSet=new pt(this.comparator)}static emptySet(t){return new Qs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Jo=new pt(re.comparator)}track(t){const n=t.doc.key,r=this.Jo.get(n);r?t.type!==0&&r.type===3?this.Jo=this.Jo.insert(n,t):t.type===3&&r.type!==1?this.Jo=this.Jo.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Jo=this.Jo.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Jo=this.Jo.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Jo=this.Jo.remove(n):t.type===1&&r.type===2?this.Jo=this.Jo.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Jo=this.Jo.insert(n,{type:2,doc:t.doc}):fe():this.Jo=this.Jo.insert(n,t)}Yo(){const t=[];return this.Jo.inorderTraversal((n,r)=>{t.push(r)}),t}}class hi{constructor(t,n,r,s,i,o,a,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(t,n,r,s){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new hi(t,n,Qs.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Xo=void 0,this.listeners=[]}}class CN{constructor(){this.queries=new na(t=>fb(t),_u),this.onlineState="Unknown",this.Zo=new Set}}async function AN(e,t){const n=he(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new kN),s)try{i.Xo=await n.onListen(r)}catch(o){const a=kf(o,`Initialization of query '${gh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.tc(n.onlineState),i.Xo&&t.ec(i.Xo)&&Cf(n)}async function ON(e,t){const n=he(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function RN(e,t){const n=he(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.ec(s)&&(r=!0);o.Xo=s}}r&&Cf(n)}function DN(e,t,n){const r=he(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Cf(e){e.Zo.forEach(t=>{t.next()})}class xN{constructor(t,n,r){this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new hi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.sc?this.rc(t)&&(this.nc.next(t),n=!0):this.oc(t,this.onlineState)&&(this.cc(t),n=!0),this.ic=t,n}onError(t){this.nc.error(t)}tc(t){this.onlineState=t;let n=!1;return this.ic&&!this.sc&&this.oc(this.ic,t)&&(this.cc(this.ic),n=!0),n}oc(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.uc||!r)&&(!t.docs.isEmpty()||n==="Offline")}rc(t){if(t.docChanges.length>0)return!0;const n=this.ic&&this.ic.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}cc(t){t=hi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.sc=!0,this.nc.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this.key=t}}class Hb{constructor(t){this.key=t}}class PN{constructor(t,n){this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=We(),this.mutatedKeys=We(),this.mc=pb(t),this.gc=new Qs(this.mc)}get yc(){return this.dc}Ic(t,n){const r=n?n.Ec:new dg,s=n?n.gc:this.gc;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=xa(this.query)&&s.size===this.query.limit?s.last():null,u=mh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,h)=>{const d=s.get(c),f=gf(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Tc(d,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.mc(f,l)>0||u&&this.mc(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),i=g?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),xa(this.query)||mh(this.query))for(;o.size>this.query.limit;){const c=xa(this.query)?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{gc:o,Ec:r,ks:a,mutatedKeys:i}}Tc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.gc;this.gc=t.gc,this.mutatedKeys=t.mutatedKeys;const i=t.Ec.Yo();i.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return f(h)-f(d)}(u.type,c.type)||this.mc(u.doc,c.doc)),this.Ac(r);const o=n?this.Rc():[],a=this.wc.size===0&&this.current?1:0,l=a!==this._c;return this._c=a,i.length!==0||l?{snapshot:new hi(this.query,t.gc,s,i,t.mutatedKeys,a===0,l,!1),Pc:o}:{Pc:o}}tc(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new dg,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(t){return!this.dc.has(t)&&!!this.gc.has(t)&&!this.gc.get(t).hasLocalMutations}Ac(t){t&&(t.addedDocuments.forEach(n=>this.dc=this.dc.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.dc=this.dc.delete(n)),this.current=t.current)}Rc(){if(!this.current)return[];const t=this.wc;this.wc=We(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const n=[];return t.forEach(r=>{this.wc.has(r)||n.push(new Hb(r))}),this.wc.forEach(r=>{t.has(r)||n.push(new Bb(r))}),n}vc(t){this.dc=t.Ks,this.wc=We();const n=this.Ic(t.documents);return this.applyChanges(n,!0)}Vc(){return hi.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,this._c===0)}}class MN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class NN{constructor(t){this.key=t,this.Sc=!1}}class LN{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new na(a=>fb(a),_u),this.Nc=new Map,this.xc=new Set,this.kc=new pt(re.comparator),this.Oc=new Map,this.Mc=new bf,this.$c={},this.Fc=new Map,this.Bc=ci.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return this.Lc===!0}}async function FN(e,t){const n=KN(e);let r,s;const i=n.Cc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Vc();else{const o=await QM(n.localStore,ps(t));n.isPrimaryClient&&Nb(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await UN(n,t,r,a==="current")}return s}async function UN(e,t,n,r){e.Uc=(c,h,d)=>async function(f,p,g,y){let w=p.view.Ic(g);w.ks&&(w=await lg(f.localStore,p.query,!1).then(({documents:x})=>p.view.Ic(x,w)));const _=y&&y.targetChanges.get(p.targetId),I=p.view.applyChanges(w,f.isPrimaryClient,_);return pg(f,p.targetId,I.Pc),I.snapshot}(e,c,h,d);const s=await lg(e.localStore,t,!0),i=new PN(t,s.Ks),o=i.Ic(s.documents),a=Zo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=i.applyChanges(o,e.isPrimaryClient,a);pg(e,n,l.Pc);const u=new MN(t,n,i);return e.Cc.set(t,u),e.Nc.has(n)?e.Nc.get(n).push(t):e.Nc.set(n,[t]),l.snapshot}async function $N(e,t){const n=he(e),r=n.Cc.get(t),s=n.Nc.get(r.targetId);if(s.length>1)return n.Nc.set(r.targetId,s.filter(i=>!_u(i,t))),void n.Cc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Eh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lb(n.remoteStore,r.targetId),Th(n,r.targetId)}).catch(ta)):(Th(n,r.targetId),await Eh(n.localStore,r.targetId,!0))}async function VN(e,t,n){const r=zN(e);try{const s=await function(i,o){const a=he(i),l=qt.now(),u=o.reduce((h,d)=>h.add(d.key),We());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>a.Us.Es(h,u).next(d=>{c=d;const f=[];for(const p of o){const g=oM(p,c.get(p.key));g!=null&&f.push(new Xo(p.key,g,hb(g.value.mapValue),Js.exists(!0)))}return a.gs.addMutationBatch(h,l,f,o)})).then(h=>(h.applyToLocalDocumentSet(c),{batchId:h.batchId,changes:c}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.$c[i.currentUser.toKey()];l||(l=new pt(De)),l=l.insert(o,a),i.$c[i.currentUser.toKey()]=l}(r,s.batchId,n),await sa(r,s.changes),await Au(r.remoteStore)}catch(s){const i=kf(s,"Failed to persist write");n.reject(i)}}async function Yb(e,t){const n=he(e);try{const r=await zM(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Oc.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Sc=!0:s.modifiedDocuments.size>0?Be(o.Sc):s.removedDocuments.size>0&&(Be(o.Sc),o.Sc=!1))}),await sa(n,r,t)}catch(r){await ta(r)}}function fg(e,t,n){const r=he(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Cc.forEach((i,o)=>{const a=o.view.tc(t);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=he(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.tc(o)&&(l=!0)}),l&&Cf(a)}(r.eventManager,t),s.length&&r.Dc.To(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jN(e,t,n){const r=he(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Oc.get(t),i=s&&s.key;if(i){let o=new pt(re.comparator);o=o.insert(i,It.newNoDocument(i,ye.min()));const a=We().add(i),l=new Iu(ye.min(),new Map,new _t(De),o,a);await Yb(r,l),r.kc=r.kc.remove(i),r.Oc.delete(t),Af(r)}else await Eh(r.localStore,t,!1).then(()=>Th(r,t,n)).catch(ta)}async function BN(e,t){const n=he(e),r=t.batch.batchId;try{const s=await KM(n.localStore,t);qb(n,r,null),Wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sa(n,s)}catch(s){await ta(s)}}async function HN(e,t,n){const r=he(e);try{const s=await function(i,o){const a=he(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.gs.lookupMutationBatch(l,o).next(c=>(Be(c!==null),u=c.keys(),a.gs.removeMutationBatch(l,c))).next(()=>a.gs.performConsistencyCheck(l)).next(()=>a.Us.Es(l,u))})}(r.localStore,t);qb(r,t,n),Wb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sa(r,s)}catch(s){await ta(s)}}function Wb(e,t){(e.Fc.get(t)||[]).forEach(n=>{n.resolve()}),e.Fc.delete(t)}function qb(e,t,n){const r=he(e);let s=r.$c[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.$c[r.currentUser.toKey()]=s}}function Th(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Nc.get(t))e.Cc.delete(r),n&&e.Dc.qc(r,n);e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach(r=>{e.Mc.containsKey(r)||Kb(e,r)})}function Kb(e,t){e.xc.delete(t.path.canonicalString());const n=e.kc.get(t);n!==null&&(Lb(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Af(e))}function pg(e,t,n){for(const r of n)r instanceof Bb?(e.Mc.addReference(r.key,t),YN(e,r)):r instanceof Hb?(G("SyncEngine","Document no longer in limbo: "+r.key),e.Mc.removeReference(r.key,t),e.Mc.containsKey(r.key)||Kb(e,r.key)):fe()}function YN(e,t){const n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(G("SyncEngine","New document in limbo: "+n),e.xc.add(r),Af(e))}function Af(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){const t=e.xc.values().next().value;e.xc.delete(t);const n=new re(Ze.fromString(t)),r=e.Bc.next();e.Oc.set(r,new NN(n)),e.kc=e.kc.insert(n,r),Nb(e.remoteStore,new is(ps(mf(n.path)),r,2,hf.A))}}async function sa(e,t,n){const r=he(e),s=[],i=[],o=[];r.Cc.isEmpty()||(r.Cc.forEach((a,l)=>{o.push(r.Uc(l,t,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),s.push(u);const c=wf.Ss(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Dc.To(s),await async function(a,l){const u=he(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,h=>N.forEach(h.vs,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>N.forEach(h.Vs,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!ea(c))throw c;G("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ms.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.Ms=u.Ms.insert(h,p)}}}(r.localStore,i))}async function WN(e,t){const n=he(e);if(!n.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());const r=await Db(n.localStore,t);n.currentUser=t,function(s,i){s.Fc.forEach(o=>{o.forEach(a=>{a.reject(new ne(O.CANCELLED,i))})}),s.Fc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sa(n,r.qs)}}function qN(e,t){const n=he(e),r=n.Oc.get(t);if(r&&r.Sc)return We().add(r.key);{let s=We();const i=n.Nc.get(t);if(!i)return s;for(const o of i){const a=n.Cc.get(o);s=s.unionWith(a.view.yc)}return s}}function KN(e){const t=he(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jN.bind(null,t),t.Dc.To=RN.bind(null,t.eventManager),t.Dc.qc=DN.bind(null,t.eventManager),t}function zN(e){const t=he(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,t),t}class GN{constructor(){this.synchronizeTabs=!1}async initialize(t){this.O=ku(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),await this.persistence.start(),this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t)}Qc(t){return null}Wc(t){return qM(this.persistence,new YM,t.initialUser,this.O)}jc(t){return new sN(_f.bi,this.O)}Gc(t){return new oN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class JN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new CN}createDatastore(t){const n=ku(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new cN(s));var s;return function(i,o,a,l){return new fN(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,s=t.asyncQueue,i=a=>fg(this.syncEngine,a,0),o=cg.Vt()?new cg:new aN,new mN(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(t,n){return function(r,s,i,o,a,l,u){const c=new LN(r,s,i,o,a,l);return u&&(c.Lc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=he(t);G("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),await ra(n),n.jo.shutdown(),n.Qo.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Hc(this.observer.next,t)}error(t){this.observer.error?this.Hc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Jc(){this.muted=!0}Hc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=ab.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=kf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function ZN(e,t){e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Db(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function eL(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tL(e);G("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>hg(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>hg(t.remoteStore,i)),e.onlineComponents=t}async function tL(e){return e.offlineComponents||(G("FirestoreClient","Using default OfflineComponentProvider"),await ZN(e,new GN)),e.offlineComponents}async function zb(e){return e.onlineComponents||(G("FirestoreClient","Using default OnlineComponentProvider"),await eL(e,new JN)),e.onlineComponents}function nL(e){return zb(e).then(t=>t.syncEngine)}async function rL(e){const t=await zb(e),n=t.eventManager;return n.onListen=FN.bind(null,t.syncEngine),n.onUnlisten=$N.bind(null,t.syncEngine),n}function sL(e,t,n={}){const r=new Ar;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new QN({next:h=>{i.enqueueAndForget(()=>ON(s,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new ne(O.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new ne(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new xN(mf(o.path),u,{includeMetadataChanges:!0,uc:!0});return AN(s,c)}(await rL(e),e.asyncQueue,t,n,r)),r.promise}const mg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(e,t,n){if(!n)throw new ne(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iL(e,t,n,r){if(t===!0&&r===!0)throw new ne(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gg(e){if(!re.isDocumentKey(e))throw new ne(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vg(e){if(re.isDocumentKey(e))throw new ne(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Of(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function wl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ne(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(e);throw new ne(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ne(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,iL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yg({}),this._settingsFrozen=!1,t instanceof li?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ne(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new li(s.options.projectId)}(t))}get app(){if(!this._app)throw new ne(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ne(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CP;switch(n.type){case"gapi":const r=n.client;return Be(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RP(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ne(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=mg.get(t);n&&(G("ComponentProvider","Removing Datastore"),mg.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kt(this.firestore,t,this._key)}}class Df{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Df(this.firestore,t,this._query)}}class Or extends Df{constructor(t,n,r){super(t,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kt(this.firestore,null,new re(t))}withConverter(t){return new Or(this.firestore,t,this._path)}}function RU(e,t,...n){if(e=an(e),Gb("collection","path",t),e instanceof Rf){const r=Ze.fromString(t,...n);return vg(r),new Or(e,null,r)}{if(!(e instanceof Kt||e instanceof Or))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ze.fromString(t,...n));return vg(r),new Or(e.firestore,null,r)}}function DU(e,t,...n){if(e=an(e),arguments.length===1&&(t=ab.R()),Gb("doc","path",t),e instanceof Rf){const r=Ze.fromString(t,...n);return gg(r),new Kt(e,null,new re(r))}{if(!(e instanceof Kt||e instanceof Or))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ze.fromString(t,...n));return gg(r),new Kt(e.firestore,e instanceof Or?e.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Pb(this,"async_queue_retry"),this.yu=()=>{const n=dc();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ro.Yr()};const t=dc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.fu){this.fu=!0,this.mu=t||!1;const n=dc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.yu)}}enqueue(t){if(this.pu(),this.fu)return new Promise(()=>{});const n=new Ar;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.lu.push(t),this.Eu()))}async Eu(){if(this.lu.length!==0){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(t){if(!ea(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}this.lu.length>0&&this.ro.Hr(()=>this.Eu())}}Iu(t){const n=this.hu.then(()=>(this.wu=!0,t().catch(r=>{this._u=r,this.wu=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.wu=!1,r))));return this.hu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.gu.indexOf(t)>-1&&(n=0);const s=If.createAndSchedule(this,t,n,r,i=>this.Tu(i));return this.du.push(s),s}pu(){this._u&&fe()}verifyOperationInProgress(){}async Au(){let t;do t=this.hu,await t;while(t!==this.hu)}Ru(t){for(const n of this.du)if(n.timerId===t)return!0;return!1}Pu(t){return this.Au().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Au()})}bu(t){this.gu.push(t)}Tu(t){const n=this.du.indexOf(t);this.du.splice(n,1)}}class xf extends Rf{constructor(t,n,r){super(t,n,r),this.type="firestore",this._queue=new oL,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Qb(this),this._firestoreClient.terminate()}}function xU(e=ed()){return Es(e,"firestore").getImmediate()}function Jb(e){return e._firestoreClient||Qb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qb(e){var t;const n=e._freezeSettings(),r=function(s,i,o,a){return new LP(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new XN(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ne(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._byteString=t}static fromBase64String(t){try{return new di(Tt.fromBase64String(t))}catch(n){throw new ne(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new di(Tt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ne(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ne(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return De(this._lat,t._lat)||De(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^__.*__$/;class lL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Xo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Su(t,this.data,n,this.fieldTransforms)}}function Zb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Nf{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(t){return new Nf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Su({path:r,Cu:!1});return s.Nu(t),s}xu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Su({path:r,Cu:!1});return s.vu(),s}ku(t){return this.Su({path:void 0,Cu:!0})}Ou(t){return bl(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Nu(this.path.get(t))}Nu(t){if(t.length===0)throw this.Ou("Document fields must not be empty");if(Zb(this.Vu)&&aL.test(t))throw this.Ou('Document fields cannot begin and end with "__"')}}class uL{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||ku(t)}Fu(t,n,r,s=!1){return new Nf({Vu:t,methodName:n,$u:r,path:$t.emptyPath(),Cu:!1,Mu:s},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function cL(e){const t=e._freezeSettings(),n=ku(e._databaseId);return new uL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hL(e,t,n,r,s,i={}){const o=e.Fu(i.merge||i.mergeFields?2:0,t,n,s);r_("Data must be an object, but it was:",o,r);const a=t_(r,o);let l,u;if(i.merge)l=new hh(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const h of i.mergeFields){const d=dL(t,h,n);if(!o.contains(d))throw new ne(O.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);pL(c,d)||c.push(d)}l=new hh(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new lL(new fn(a),l,u)}function e_(e,t){if(n_(e=an(e)))return r_("Unsupported field value:",t,e),t_(e,t);if(e instanceof Xb)return function(n,r){if(!Zb(r.Vu))throw r.Ou(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&t.Vu!==4)throw t.Ou("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=e_(o,r.ku(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if((n=an(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eM(r.O,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=qt.fromDate(n);return{timestampValue:vl(r.O,s)}}if(n instanceof qt){const s=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vl(r.O,s)}}if(n instanceof Mf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof di)return{bytesValue:kb(r.O,n._byteString)};if(n instanceof Kt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Ou(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ou(`Unsupported field value: ${Of(n)}`)}(e,t)}function t_(e,t){const n={};return lb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ci(e,(r,s)=>{const i=e_(s,t.Du(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function n_(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof Mf||e instanceof di||e instanceof Kt||e instanceof Xb)}function r_(e,t,n){if(!n_(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Of(n);throw r==="an object"?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function dL(e,t,n){if((t=an(t))instanceof Pf)return t._internalPath;if(typeof t=="string")return s_(e,t);throw bl("Field path arguments must be of type string or ",e,!1,void 0,n)}const fL=new RegExp("[~\\*/\\[\\]]");function s_(e,t,n){if(t.search(fL)>=0)throw bl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Pf(...t.split("."))._internalPath}catch{throw bl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bl(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(O.INVALID_ARGUMENT,a+e+l)}function pL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(o_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mL extends i_{data(){return super.data()}}function o_(e,t){return typeof t=="string"?s_(e,t):t instanceof Pf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class a_ extends i_{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vL extends a_{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{convertValue(t,n="none"){switch(fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ai(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw fe()}}convertObject(t,n){const r={};return Ci(t.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Mf(ot(t.latitude),ot(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=cb(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const n=Mr(t);return new qt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ze.fromString(t);Be(Rb(r));const s=new li(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(e){e=wl(e,Kt);const t=wl(e.firestore,xf);return sL(Jb(t),e._key).then(n=>EL(t,e,n))}class bL extends yL{constructor(t){super(),this.firestore=t}convertBytes(t){return new di(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function MU(e,t,n){e=wl(e,Kt);const r=wl(e.firestore,xf),s=wL(e.converter,t,n);return _L(r,[hL(cL(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Js.none())])}function _L(e,t){return function(n,r){const s=new Ar;return n.asyncQueue.enqueueAndForget(async()=>VN(await nL(n),r,s)),s.promise}(Jb(e),t)}function EL(e,t,n){const r=n.docs.get(t._key),s=new bL(e);return new a_(e,s,t._key,r,new gL(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){ki=n})(Po),Pn(new yn("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new xf(s,new AP(n.getProvider("auth-internal")),new xP(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC")),sn(Bm,"3.4.5",e),sn(Bm,"3.4.5","esm2017")})();var fi=Object.assign;function wg(e,t){Object.entries(t).forEach(([n,r])=>{e.style[n]=r})}const TL={disappearEasing:"cubic-bezier(0.4, 0, 0.2, 1)",disappearDuration:".7s",appearEasing:"cubic-bezier(0.16, 1, 0.3, 1)",appearDuration:".8s",class:null,disabled:!1,center:!1,self:!1,noNested:!0,radius:null};function bg(e){return fi(fi({},TL),e)}const _g=(e,t,n,r)=>{const s=e.getBoundingClientRect(),i=t.radius||function(u,c,h,d){const[f,p]=[[h,u],[d,c]].map(([g,y])=>g>y/2?g:y-g);return(f**2+p**2)**.5}(s.width,s.height,n,r),o=function(u,c){const h=document.createElement("div");return h.className=u.class||"",h.style.borderRadius="99999px",h.style.transition=`transform ${u.appearDuration} ${u.appearEasing}`,h.style.transformOrigin="center center",h.style.transform="scale(0)",h.style.position="absolute",h.style.width=h.style.height=2*c+"px",wg(h,u.circleStyle||{}),h}(t,i);(function(u,c,h,d){[u.style.left,u.style.top]=[c-d,h-d].map(f=>`${f}px`)})(o,n,r,i);const a=function(u){const c=document.createElement("div");return c.style.pointerEvents="none",c.style.position="absolute",c.style.overflow="hidden",c.style.borderRadius="inherit",c.style.transition=`opacity ${u.disappearDuration} ${u.disappearEasing}`,c.style.margin="0",c.style.padding="0",["left","top","right","bottom"].forEach(h=>{c.style[h]="0"}),wg(c,u.containerStyle||{}),c}(t);var l;return a.appendChild(o),e.appendChild(a),l=()=>{o.style.transform="scale(1)"},new Promise(u=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{u(),l&&l()})})}),{hide(){a.style.opacity="0",a.addEventListener("transitionend",u=>{u.target===a&&e.removeChild(a)})}}};function l_(e,t=0){if(t>1e3)return function(...r){console.warn("[Ripple]",...r)}("noNested alghorithm error - max calls stack size exceeded"),null;if(function(r){return r.dataset.vRippleMark===""}(e))return e;const n=e.parentElement;return n?l_(n,t+1):null}function Eg(e,t){return fi(fi({},e),t)}function Tg(e){var t,n,r,s,i,o;return fi(fi({},e.value),{self:(n=e.modifiers.self)!=null?n:(t=e.value)==null?void 0:t.self,center:(s=e.modifiers.center)!=null?s:(r=e.value)==null?void 0:r.center,noNested:(o=e.modifiers["no-nested"])!=null?o:(i=e.value)==null?void 0:i.noNested})}function NU(e){const t=new WeakMap;return{mounted(n,r){const s=Tg(r),i=function(o,a){let l=bg(a);const u=h=>l.center?function(d){const f=d.getBoundingClientRect();return[f.width/2,f.height/2]}(o):function(d,f){const p=d.getBoundingClientRect();return[f.clientX-p.x,f.clientY-p.y]}(o,h),c=h=>{if(l.disabled||l.self&&h.target!==o)return;if(l.noNested&&h.target&&h.target!==o){const y=l_(h.target);if(y&&y!==o)return}let d=_g(o,l,...u(h));const f=()=>{d==null||d.hide(),window.removeEventListener("mouseup",f),o.removeEventListener("mouseleave",g),o.removeEventListener("mouseenter",p)},p=y=>{d=_g(o,l,...u(y))},g=()=>{d&&(d.hide(),d=null)};window.addEventListener("mouseup",f),o.addEventListener("mouseleave",g),o.addEventListener("mouseenter",p)};return function(h){h.dataset.vRippleMark=""}(o),getComputedStyle(o).position==="static"&&(o.style.position="relative"),o.addEventListener("mousedown",c),{updateOptions(h){l=bg(h)},unbind(){o.removeEventListener("mousedown",c),function(h){delete h.dataset.vRippleMark}(o)}}}(n,Eg(e,s));t.set(n,i)},beforeUpdate(n,r){const s=t.get(n);if(s){const i=Tg(r),o=Eg(e,i);s.updateOptions(o)}},unmounted(n){const r=t.get(n);r&&(t.delete(n),r.unbind())}}}var SL="firebase",IL="9.6.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(SL,IL,"app");const u_="@firebase/installations",Lf="0.5.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=1e4,h_=`w:${Lf}`,d_="FIS_v2",kL="https://firebaseinstallations.googleapis.com/v1",CL=60*60*1e3,AL="installations",OL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},gs=new bs(AL,OL,RL);function f_(e){return e instanceof ir&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_({projectId:e}){return`${kL}/projects/${e}/installations`}function m_(e){return{token:e.token,requestStatus:2,expiresIn:xL(e.expiresIn),creationTime:Date.now()}}async function g_(e,t){const r=(await t.json()).error;return gs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function v_({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function DL(e,{refreshToken:t}){const n=v_(e);return n.append("Authorization",PL(t)),n}async function y_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function xL(e){return Number(e.replace("s","000"))}function PL(e){return`${d_} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(e,{fid:t}){const n=p_(e),r=v_(e),s={fid:t,authVersion:d_,appId:e.appId,sdkVersion:h_},i={method:"POST",headers:r,body:JSON.stringify(s)},o=await y_(()=>fetch(n,i));if(o.ok){const a=await o.json();return{fid:a.fid||t,registrationStatus:2,refreshToken:a.refreshToken,authToken:m_(a.authToken)}}else throw await g_("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^[cdef][\w-]{21}$/,Sh="";function FL(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=UL(e);return LL.test(n)?n:Sh}catch{return Sh}}function UL(e){return NL(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function __(e,t){const n=Ou(e);E_(n,t),$L(n,t)}function E_(e,t){const n=b_.get(e);if(!!n)for(const r of n)r(t)}function $L(e,t){const n=VL();n&&n.postMessage({key:e,fid:t}),jL()}let Zr=null;function VL(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=e=>{E_(e.data.key,e.data.fid)}),Zr}function jL(){b_.size===0&&Zr&&(Zr.close(),Zr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="firebase-installations-database",HL=1,vs="firebase-installations-store";let fc=null;function Ff(){return fc||(fc=dy(BL,HL,e=>{switch(e.oldVersion){case 0:e.createObjectStore(vs)}})),fc}async function _l(e,t){const n=Ou(e),s=(await Ff()).transaction(vs,"readwrite"),i=s.objectStore(vs),o=await i.get(n);return await i.put(t,n),await s.complete,(!o||o.fid!==t.fid)&&__(e,t.fid),t}async function T_(e){const t=Ou(e),r=(await Ff()).transaction(vs,"readwrite");await r.objectStore(vs).delete(t),await r.complete}async function Ru(e,t){const n=Ou(e),s=(await Ff()).transaction(vs,"readwrite"),i=s.objectStore(vs),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.complete,a&&(!o||o.fid!==a.fid)&&__(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(e){let t;const n=await Ru(e,r=>{const s=YL(r),i=WL(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===Sh?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function YL(e){const t=e||{fid:FL(),registrationStatus:0};return S_(t)}function WL(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(gs.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=qL(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:KL(e)}:{installationEntry:t}}async function qL(e,t){try{const n=await ML(e,t);return _l(e,n)}catch(n){throw f_(n)&&n.customData.serverCode===409?await T_(e):await _l(e,{fid:t.fid,registrationStatus:0}),n}}async function KL(e){let t=await Sg(e);for(;t.registrationStatus===1;)await w_(100),t=await Sg(e);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Uf(e);return r||n}return t}function Sg(e){return Ru(e,t=>{if(!t)throw gs.create("installation-not-found");return S_(t)})}function S_(e){return zL(e)?{fid:e.fid,registrationStatus:0}:e}function zL(e){return e.registrationStatus===1&&e.registrationTime+c_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL({appConfig:e,platformLoggerProvider:t},n){const r=JL(e,n),s=DL(e,n),i=t.getImmediate({optional:!0});i&&s.append("x-firebase-client",i.getPlatformInfoString());const o={installation:{sdkVersion:h_}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await y_(()=>fetch(r,a));if(l.ok){const u=await l.json();return m_(u)}else throw await g_("Generate Auth Token",l)}function JL(e,{fid:t}){return`${p_(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(e,t=!1){let n;const r=await Ru(e.appConfig,i=>{if(!I_(i))throw gs.create("not-registered");const o=i.authToken;if(!t&&ZL(o))return i;if(o.requestStatus===1)return n=QL(e,t),i;{if(!navigator.onLine)throw gs.create("app-offline");const a=tF(i);return n=XL(e,a),a}});return n?await n:r.authToken}async function QL(e,t){let n=await Ig(e.appConfig);for(;n.authToken.requestStatus===1;)await w_(100),n=await Ig(e.appConfig);const r=n.authToken;return r.requestStatus===0?$f(e,t):r}function Ig(e){return Ru(e,t=>{if(!I_(t))throw gs.create("not-registered");const n=t.authToken;return nF(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function XL(e,t){try{const n=await GL(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await _l(e.appConfig,r),n}catch(n){if(f_(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await T_(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await _l(e.appConfig,r)}throw n}}function I_(e){return e!==void 0&&e.registrationStatus===2}function ZL(e){return e.requestStatus===2&&!eF(e)}function eF(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+CL}function tF(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function nF(e){return e.requestStatus===1&&e.requestTime+c_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(e){const t=e,{installationEntry:n,registrationPromise:r}=await Uf(t.appConfig);return r?r.catch(console.error):$f(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(e,t=!1){const n=e;return await iF(n.appConfig),(await $f(n,t)).token}async function iF(e){const{registrationPromise:t}=await Uf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e){if(!e||!e.options)throw pc("App Configuration");if(!e.name)throw pc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw pc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function pc(e){return gs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="installations",aF="installations-internal",lF=e=>{const t=e.getProvider("app").getImmediate(),n=oF(t),r=Es(t,"platform-logger");return{app:t,appConfig:n,platformLoggerProvider:r,_delete:()=>Promise.resolve()}},uF=e=>{const t=e.getProvider("app").getImmediate(),n=Es(t,k_).getImmediate();return{getId:()=>rF(n),getToken:s=>sF(n,s)}};function cF(){Pn(new yn(k_,lF,"PUBLIC")),Pn(new yn(aF,uF,"PRIVATE"))}cF();sn(u_,Lf);sn(u_,Lf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="analytics",hF="firebase_id",dF="origin",fF=60*1e3,pF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new Fl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function mF(e,t){const n=document.createElement("script");n.src=`${C_}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function gF(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function vF(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await A_(n)).find(u=>u.measurementId===s);l&&await t[l.appId]}}catch(a){zt.error(a)}e("config",s,i)}async function yF(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await A_(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&t[u.appId];if(c)i.push(c);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){zt.error(i)}}function wF(e,t,n,r){async function s(i,o,a){try{i==="event"?await yF(e,t,n,o,a):i==="config"?await vF(e,t,n,r,o,a):e("set",o)}catch(l){zt.error(l)}}return s}function bF(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=wF(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function _F(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(C_))return t;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},on=new bs("analytics","Analytics",EF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=30,SF=1e3;class IF{constructor(t={},n=SF){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const O_=new IF;function kF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function CF(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:kF(r)},i=pF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function AF(e,t=O_,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw on.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw on.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new DF;return setTimeout(async()=>{a.abort()},n!==void 0?n:fF),R_({appId:r,apiKey:s,measurementId:i},o,a,t)}async function R_(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=O_){const{appId:i,measurementId:o}=e;try{await OF(r,t)}catch(a){if(o)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:i,measurementId:o};throw a}try{const a=await CF(e);return s.deleteThrottleMetadata(i),a}catch(a){if(!RF(a)){if(s.deleteThrottleMetadata(i),o)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:i,measurementId:o};throw a}const l=Number(a.customData.httpStatus)===503?Zp(n,s.intervalMillis,TF):Zp(n,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return s.setThrottleMetadata(i,u),zt.debug(`Calling attemptFetch again in ${l} millis`),R_(e,u,r,s)}}function OF(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(on.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function RF(e){if(!(e instanceof ir)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class DF{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(){if(ly())try{await uy()}catch(e){return zt.warn(on.create("indexeddb-unavailable",{errorInfo:e}).message),!1}else return zt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PF(e,t,n,r,s,i,o){var a;const l=AF(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>zt.error(f)),t.push(l);const u=xF().then(f=>{if(f)return r.getId()}),[c,h]=await Promise.all([l,u]);_F()||mF(i,c.measurementId),s("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[dF]="firebase",d.update=!0,h!=null&&(d[hF]=h),s("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},kg=[];const Cg={};let mc="dataLayer",NF="gtag",Ag,D_,Og=!1;function LF(){const e=[];if(Jh()&&e.push("This is a browser extension environment."),ek()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=on.create("invalid-analytics-context",{errorInfo:t});zt.warn(n.message)}}function FF(e,t,n){LF();const r=e.options.appId;if(!r)throw on.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(to[r]!=null)throw on.create("already-exists",{id:r});if(!Og){gF(mc);const{wrappedGtag:i,gtagCore:o}=bF(to,kg,Cg,mc,NF);D_=i,Ag=o,Og=!0}return to[r]=PF(e,kg,Cg,t,Ag,mc,n),new MF(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o=Object.assign(Object.assign({},r),{send_to:i});e("event",n,o)}}function LU(e=ed()){e=an(e);const t=Es(e,El);return t.isInitialized()?t.getImmediate():$F(e)}function $F(e,t={}){const n=Es(e,El);if(n.isInitialized()){const s=n.getImmediate();if(uo(t,n.getOptions()))return s;throw on.create("already-initialized")}return n.initialize({options:t})}function VF(e,t,n,r){e=an(e),UF(D_,to[e.app.options.appId],t,n,r).catch(s=>zt.error(s))}const Rg="@firebase/analytics",Dg="0.7.5";function jF(){Pn(new yn(El,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return FF(r,s,n)},"PUBLIC")),Pn(new yn("analytics-internal",e,"PRIVATE")),sn(Rg,Dg),sn(Rg,Dg,"esm2017");function e(t){try{const n=t.getProvider(El).getImmediate();return{logEvent:(r,s,i)=>VF(n,r,s,i)}}catch(n){throw on.create("interop-component-reg-failed",{reason:n})}}}jF();export{XF as $,Sl as A,ZF as B,Oo as C,WF as D,HF as E,IT as F,EU as G,GF as H,ST as I,$ as J,et as K,aU as L,vv as M,uU as N,kt as O,IE as P,ws as Q,xU as R,DU as S,Nv as T,RU as U,PU as V,MU as W,OU as X,QF as Y,hU as Z,TU as _,yt as a,Ye as a0,aS as a1,eU as a2,tn as a3,pU as a4,tU as a5,JF as a6,br as a7,_r as a8,sU as a9,rU as aa,bU as ab,vA as ac,_U as ad,wU as ae,wA as af,mU as ag,LU as ah,nU as ai,NU as aj,dU as ak,M as b,zF as c,fU as d,F as e,Ny as f,yU as g,gU as h,ie as i,CU as j,AU as k,iU as l,cU as m,lU as n,Ao as o,KF as p,On as q,qF as r,vU as s,Rv as t,oU as u,YF as v,NE as w,kU as x,SU as y,IU as z};
