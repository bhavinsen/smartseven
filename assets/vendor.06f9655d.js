var C_=Object.defineProperty,A_=Object.defineProperties;var O_=Object.getOwnPropertyDescriptors;var ta=Object.getOwnPropertySymbols;var Pf=Object.prototype.hasOwnProperty,Mf=Object.prototype.propertyIsEnumerable;var xf=(e,t,n)=>t in e?C_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))Pf.call(t,n)&&xf(e,n,t[n]);if(ta)for(var n of ta(t))Mf.call(t,n)&&xf(e,n,t[n]);return e},Dt=(e,t)=>A_(e,O_(t));var dn=(e,t)=>{var n={};for(var r in e)Pf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ta)for(var r of ta(e))t.indexOf(r)<0&&Mf.call(e,r)&&(n[r]=e[r]);return n};function yh(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const R_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",D_=yh(R_);function Ig(e){return!!e||e===""}function wl(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=at(r)?M_(r):wl(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(at(e))return e;if(nt(e))return e}}const x_=/;(?![^(]*\))/g,P_=/:(.+)/;function M_(e){const t={};return e.split(x_).forEach(n=>{if(n){const r=n.split(P_);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function bl(e){let t="";if(at(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=bl(e[n]);r&&(t+=r+" ")}else if(nt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function LF(e){if(!e)return null;let{class:t,style:n}=e;return t&&!at(t)&&(e.class=bl(t)),n&&(e.style=wl(n)),e}function N_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ss(e[r],t[r]);return n}function ss(e,t){if(e===t)return!0;let n=Nf(e),r=Nf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ee(e),r=ee(t),n||r)return n&&r?N_(e,t):!1;if(n=nt(e),r=nt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ss(e[o],t[o]))return!1}}return String(e)===String(t)}function wh(e,t){return e.findIndex(n=>ss(n,t))}const FF=e=>at(e)?e:e==null?"":ee(e)||nt(e)&&(e.toString===Ag||!me(e.toString))?JSON.stringify(e,kg,2):String(e),kg=(e,t)=>t&&t.__v_isRef?kg(e,t.value):Vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:hi(t)?{[`Set(${t.size})`]:[...t.values()]}:nt(t)&&!ee(t)&&!Og(t)?String(t):t,Ve={},$s=[],gn=()=>{},L_=()=>!1,F_=/^on[^a-z]/,_l=e=>F_.test(e),bh=e=>e.startsWith("onUpdate:"),Et=Object.assign,_h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},U_=Object.prototype.hasOwnProperty,Te=(e,t)=>U_.call(e,t),ee=Array.isArray,Vs=e=>El(e)==="[object Map]",hi=e=>El(e)==="[object Set]",Nf=e=>e instanceof Date,me=e=>typeof e=="function",at=e=>typeof e=="string",Eh=e=>typeof e=="symbol",nt=e=>e!==null&&typeof e=="object",Cg=e=>nt(e)&&me(e.then)&&me(e.catch),Ag=Object.prototype.toString,El=e=>Ag.call(e),$_=e=>El(e).slice(8,-1),Og=e=>El(e)==="[object Object]",Th=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ya=yh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},V_=/-(\w)/g,xn=Tl(e=>e.replace(V_,(t,n)=>n?n.toUpperCase():"")),j_=/\B([A-Z])/g,gs=Tl(e=>e.replace(j_,"-$1").toLowerCase()),Sl=Tl(e=>e.charAt(0).toUpperCase()+e.slice(1)),Iu=Tl(e=>e?`on${Sl(e)}`:""),eo=(e,t)=>!Object.is(e,t),wa=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Da=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},to=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lf;const B_=()=>Lf||(Lf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class Rg{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(t){if(this.active)try{return en=this,t()}finally{en=this.parent}}on(){en=this}off(){en=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Dg(e){return new Rg(e)}function H_(e,t=en){t&&t.active&&t.effects.push(e)}function Y_(){return en}function W_(e){en&&en.cleanups.push(e)}const Sh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},xg=e=>(e.w&Or)>0,Pg=e=>(e.n&Or)>0,q_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Or},z_=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];xg(s)&&!Pg(s)?s.delete(e):t[n++]=s,s.w&=~Or,s.n&=~Or}t.length=n}},uc=new WeakMap;let Ni=0,Or=1;const cc=30;let An;const Qr=Symbol(""),hc=Symbol("");class Ih{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,H_(this,r)}run(){if(!this.active)return this.fn();let t=An,n=Sr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=An,An=this,Sr=!0,Or=1<<++Ni,Ni<=cc?q_(this):Ff(this),this.fn()}finally{Ni<=cc&&z_(this),Or=1<<--Ni,An=this.parent,Sr=n,this.parent=void 0}}stop(){this.active&&(Ff(this),this.onStop&&this.onStop(),this.active=!1)}}function Ff(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Sr=!0;const Mg=[];function di(){Mg.push(Sr),Sr=!1}function fi(){const e=Mg.pop();Sr=e===void 0?!0:e}function Gt(e,t,n){if(Sr&&An){let r=uc.get(e);r||uc.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Sh()),Ng(s)}}function Ng(e,t){let n=!1;Ni<=cc?Pg(e)||(e.n|=Or,n=!xg(e)):n=!e.has(An),n&&(e.add(An),An.deps.push(e))}function Zn(e,t,n,r,s,i){const o=uc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ee(e))o.forEach((l,u)=>{(u==="length"||u>=r)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ee(e)?Th(n)&&a.push(o.get("length")):(a.push(o.get(Qr)),Vs(e)&&a.push(o.get(hc)));break;case"delete":ee(e)||(a.push(o.get(Qr)),Vs(e)&&a.push(o.get(hc)));break;case"set":Vs(e)&&a.push(o.get(Qr));break}if(a.length===1)a[0]&&dc(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);dc(Sh(l))}}function dc(e,t){for(const n of ee(e)?e:[...e])(n!==An||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const K_=yh("__proto__,__v_isRef,__isVue"),Lg=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Eh)),G_=kh(),X_=kh(!1,!0),J_=kh(!0),Uf=Q_();function Q_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=le(this);for(let i=0,o=this.length;i<o;i++)Gt(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(le)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){di();const r=le(this)[t].apply(this,n);return fi(),r}}),e}function kh(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?pE:jg:t?Vg:$g).get(r))return r;const o=ee(r);if(!e&&o&&Te(Uf,s))return Reflect.get(Uf,s,i);const a=Reflect.get(r,s,i);return(Eh(s)?Lg.has(s):K_(s))||(e||Gt(r,"get",s),t)?a:Ye(a)?!o||!Th(s)?a.value:a:nt(a)?e?Bg(a):vs(a):a}}const Z_=Fg(),eE=Fg(!0);function Fg(e=!1){return function(n,r,s,i){let o=n[r];if(no(o)&&Ye(o)&&!Ye(s))return!1;if(!e&&!no(s)&&(Hg(s)||(s=le(s),o=le(o)),!ee(n)&&Ye(o)&&!Ye(s)))return o.value=s,!0;const a=ee(n)&&Th(r)?Number(r)<n.length:Te(n,r),l=Reflect.set(n,r,s,i);return n===le(i)&&(a?eo(s,o)&&Zn(n,"set",r,s):Zn(n,"add",r,s)),l}}function tE(e,t){const n=Te(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Zn(e,"delete",t,void 0),r}function nE(e,t){const n=Reflect.has(e,t);return(!Eh(t)||!Lg.has(t))&&Gt(e,"has",t),n}function rE(e){return Gt(e,"iterate",ee(e)?"length":Qr),Reflect.ownKeys(e)}const Ug={get:G_,set:Z_,deleteProperty:tE,has:nE,ownKeys:rE},sE={get:J_,set(e,t){return!0},deleteProperty(e,t){return!0}},iE=Et({},Ug,{get:X_,set:eE}),Ch=e=>e,Il=e=>Reflect.getPrototypeOf(e);function na(e,t,n=!1,r=!1){e=e.__v_raw;const s=le(e),i=le(t);t!==i&&!n&&Gt(s,"get",t),!n&&Gt(s,"get",i);const{has:o}=Il(s),a=r?Ch:n?Rh:ro;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function ra(e,t=!1){const n=this.__v_raw,r=le(n),s=le(e);return e!==s&&!t&&Gt(r,"has",e),!t&&Gt(r,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function sa(e,t=!1){return e=e.__v_raw,!t&&Gt(le(e),"iterate",Qr),Reflect.get(e,"size",e)}function $f(e){e=le(e);const t=le(this);return Il(t).has.call(t,e)||(t.add(e),Zn(t,"add",e,e)),this}function Vf(e,t){t=le(t);const n=le(this),{has:r,get:s}=Il(n);let i=r.call(n,e);i||(e=le(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?eo(t,o)&&Zn(n,"set",e,t):Zn(n,"add",e,t),this}function jf(e){const t=le(this),{has:n,get:r}=Il(t);let s=n.call(t,e);s||(e=le(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Zn(t,"delete",e,void 0),i}function Bf(){const e=le(this),t=e.size!==0,n=e.clear();return t&&Zn(e,"clear",void 0,void 0),n}function ia(e,t){return function(r,s){const i=this,o=i.__v_raw,a=le(o),l=t?Ch:e?Rh:ro;return!e&&Gt(a,"iterate",Qr),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function oa(e,t,n){return function(...r){const s=this.__v_raw,i=le(s),o=Vs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=s[e](...r),c=n?Ch:t?Rh:ro;return!t&&Gt(i,"iterate",l?hc:Qr),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function lr(e){return function(...t){return e==="delete"?!1:this}}function oE(){const e={get(i){return na(this,i)},get size(){return sa(this)},has:ra,add:$f,set:Vf,delete:jf,clear:Bf,forEach:ia(!1,!1)},t={get(i){return na(this,i,!1,!0)},get size(){return sa(this)},has:ra,add:$f,set:Vf,delete:jf,clear:Bf,forEach:ia(!1,!0)},n={get(i){return na(this,i,!0)},get size(){return sa(this,!0)},has(i){return ra.call(this,i,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:ia(!0,!1)},r={get(i){return na(this,i,!0,!0)},get size(){return sa(this,!0)},has(i){return ra.call(this,i,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:ia(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=oa(i,!1,!1),n[i]=oa(i,!0,!1),t[i]=oa(i,!1,!0),r[i]=oa(i,!0,!0)}),[e,n,t,r]}const[aE,lE,uE,cE]=oE();function Ah(e,t){const n=t?e?cE:uE:e?lE:aE;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Te(n,s)&&s in r?n:r,s,i)}const hE={get:Ah(!1,!1)},dE={get:Ah(!1,!0)},fE={get:Ah(!0,!1)},$g=new WeakMap,Vg=new WeakMap,jg=new WeakMap,pE=new WeakMap;function mE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gE(e){return e.__v_skip||!Object.isExtensible(e)?0:mE($_(e))}function vs(e){return no(e)?e:Oh(e,!1,Ug,hE,$g)}function vE(e){return Oh(e,!1,iE,dE,Vg)}function Bg(e){return Oh(e,!0,sE,fE,jg)}function Oh(e,t,n,r,s){if(!nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=gE(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Xn(e){return no(e)?Xn(e.__v_raw):!!(e&&e.__v_isReactive)}function no(e){return!!(e&&e.__v_isReadonly)}function Hg(e){return!!(e&&e.__v_isShallow)}function Yg(e){return Xn(e)||no(e)}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function Gs(e){return Da(e,"__v_skip",!0),e}const ro=e=>nt(e)?vs(e):e,Rh=e=>nt(e)?Bg(e):e;function Wg(e){Sr&&An&&(e=le(e),Ng(e.dep||(e.dep=Sh())))}function qg(e,t){e=le(e),e.dep&&dc(e.dep)}function Ye(e){return!!(e&&e.__v_isRef===!0)}function M(e){return Kg(e,!1)}function zg(e){return Kg(e,!0)}function Kg(e,t){return Ye(e)?e:new yE(e,t)}class yE{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:le(t),this._value=n?t:ro(t)}get value(){return Wg(this),this._value}set value(t){t=this.__v_isShallow?t:le(t),eo(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:ro(t),qg(this))}}function On(e){return Ye(e)?e.value:e}const wE={get:(e,t,n)=>On(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ye(s)&&!Ye(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Gg(e){return Xn(e)?e:new Proxy(e,wE)}function bE(e){const t=ee(e)?new Array(e.length):{};for(const n in e)t[n]=Xg(e,n);return t}class _E{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Xg(e,t,n){const r=e[t];return Ye(r)?r:new _E(e,t,n)}class EE{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ih(t,()=>{this._dirty||(this._dirty=!0,qg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=le(this);return Wg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function TE(e,t,n=!1){let r,s;const i=me(e);return i?(r=e,s=gn):(r=e.get,s=e.set),new EE(r,s,i||!s,n)}Promise.resolve();function Ir(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){kl(i,t,n)}return s}function rn(e,t,n,r){if(me(e)){const i=Ir(e,t,n,r);return i&&Cg(i)&&i.catch(o=>{kl(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(rn(e[i],t,n,r));return s}function kl(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Ir(l,null,10,[e,o,a]);return}}SE(e,n,s,r)}function SE(e,t,n,r=!0){console.error(e)}let xa=!1,fc=!1;const Yt=[];let Hn=0;const $i=[];let Li=null,xs=0;const Vi=[];let pr=null,Ps=0;const Jg=Promise.resolve();let Dh=null,pc=null;function Ae(e){const t=Dh||Jg;return e?t.then(this?e.bind(this):e):t}function IE(e){let t=Hn+1,n=Yt.length;for(;t<n;){const r=t+n>>>1;so(Yt[r])<e?t=r+1:n=r}return t}function Qg(e){(!Yt.length||!Yt.includes(e,xa&&e.allowRecurse?Hn+1:Hn))&&e!==pc&&(e.id==null?Yt.push(e):Yt.splice(IE(e.id),0,e),Zg())}function Zg(){!xa&&!fc&&(fc=!0,Dh=Jg.then(nv))}function kE(e){const t=Yt.indexOf(e);t>Hn&&Yt.splice(t,1)}function ev(e,t,n,r){ee(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Zg()}function CE(e){ev(e,Li,$i,xs)}function AE(e){ev(e,pr,Vi,Ps)}function xh(e,t=null){if($i.length){for(pc=t,Li=[...new Set($i)],$i.length=0,xs=0;xs<Li.length;xs++)Li[xs]();Li=null,xs=0,pc=null,xh(e,t)}}function tv(e){if(Vi.length){const t=[...new Set(Vi)];if(Vi.length=0,pr){pr.push(...t);return}for(pr=t,pr.sort((n,r)=>so(n)-so(r)),Ps=0;Ps<pr.length;Ps++)pr[Ps]();pr=null,Ps=0}}const so=e=>e.id==null?1/0:e.id;function nv(e){fc=!1,xa=!0,xh(e),Yt.sort((n,r)=>so(n)-so(r));const t=gn;try{for(Hn=0;Hn<Yt.length;Hn++){const n=Yt[Hn];n&&n.active!==!1&&Ir(n,null,14)}}finally{Hn=0,Yt.length=0,tv(),xa=!1,Dh=null,(Yt.length||$i.length||Vi.length)&&nv(e)}}function OE(e,t,...n){const r=e.vnode.props||Ve;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[c]||Ve;d?s=n.map(f=>f.trim()):h&&(s=n.map(to))}let a,l=r[a=Iu(t)]||r[a=Iu(xn(t))];!l&&i&&(l=r[a=Iu(gs(t))]),l&&rn(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rn(u,e,6,s)}}function rv(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!me(e)){const l=u=>{const c=rv(u,t,!0);c&&(a=!0,Et(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(r.set(e,null),null):(ee(i)?i.forEach(l=>o[l]=null):Et(o,i),r.set(e,o),o)}function Ph(e,t){return!e||!_l(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,gs(t))||Te(e,t))}let Wt=null,sv=null;function Pa(e){const t=Wt;return Wt=e,sv=e&&e.type.__scopeId||null,t}function RE(e,t=Wt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ep(-1);const i=Pa(t),o=e(...s);return Pa(i),r._d&&ep(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function ku(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=e;let y,w;const _=Pa(e);try{if(n.shapeFlag&4){const x=s||r;y=kn(c.call(x,x,h,i,f,d,p)),w=l}else{const x=t;y=kn(x.length>1?x(i,{attrs:l,slots:a,emit:u}):x(i,null)),w=t.props?l:DE(l)}}catch(x){Bi.length=0,kl(x,e,1),y=yt(vn)}let I=y;if(w&&g!==!1){const x=Object.keys(w),{shapeFlag:W}=I;x.length&&W&7&&(o&&x.some(bh)&&(w=xE(w,o)),I=is(I,w))}return n.dirs&&(I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),y=I,Pa(_),y}const DE=e=>{let t;for(const n in e)(n==="class"||n==="style"||_l(n))&&((t||(t={}))[n]=e[n]);return t},xE=(e,t)=>{const n={};for(const r in e)(!bh(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function PE(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Hf(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!Ph(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Hf(r,o,u):!0:!!o;return!1}function Hf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Ph(n,i))return!0}return!1}function ME({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const NE=e=>e.__isSuspense;function LE(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):AE(e)}function qe(e,t){if(ht){let n=ht.provides;const r=ht.parent&&ht.parent.provides;r===n&&(n=ht.provides=Object.create(r)),n[e]=t}}function Se(e,t,n=!1){const r=ht||Wt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&me(t)?t.call(r.proxy):t}}function tt(e,t){return Mh(e,null,t)}const Yf={};function kt(e,t,n){return Mh(e,t,n)}function Mh(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Ve){const a=ht;let l,u=!1,c=!1;if(Ye(e)?(l=()=>e.value,u=Hg(e)):Xn(e)?(l=()=>e,r=!0):ee(e)?(c=!0,u=e.some(Xn),l=()=>e.map(w=>{if(Ye(w))return w.value;if(Xn(w))return qr(w);if(me(w))return Ir(w,a,2)})):me(e)?t?l=()=>Ir(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),rn(e,a,3,[d])}:l=gn,t&&r){const w=l;l=()=>qr(w())}let h,d=w=>{h=y.onStop=()=>{Ir(w,a,4)}};if(io)return d=gn,t?n&&rn(t,a,3,[l(),c?[]:void 0,d]):l(),gn;let f=c?[]:Yf;const p=()=>{if(!!y.active)if(t){const w=y.run();(r||u||(c?w.some((_,I)=>eo(_,f[I])):eo(w,f)))&&(h&&h(),rn(t,a,3,[w,f===Yf?void 0:f,d]),f=w)}else y.run()};p.allowRecurse=!!t;let g;s==="sync"?g=p:s==="post"?g=()=>Lt(p,a&&a.suspense):g=()=>{!a||a.isMounted?CE(p):p()};const y=new Ih(l,g);return t?n?p():f=y.run():s==="post"?Lt(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&_h(a.scope.effects,y)}}function FE(e,t,n){const r=this.proxy,s=at(e)?e.includes(".")?iv(r,e):()=>r[e]:e.bind(r,r);let i;me(t)?i=t:(i=t.handler,n=t);const o=ht;Xs(this);const a=Mh(s,i.bind(r),n);return o?Xs(o):es(),a}function iv(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function qr(e,t){if(!nt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ye(e))qr(e.value,t);else if(ee(e))for(let n=0;n<e.length;n++)qr(e[n],t);else if(hi(e)||Vs(e))e.forEach(n=>{qr(n,t)});else if(Og(e))for(const n in e)qr(e[n],t);return e}function UE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return et(()=>{e.isMounted=!0}),cv(()=>{e.isUnmounting=!0}),e}const Zt=[Function,Array],$E={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},setup(e,{slots:t}){const n=Ao(),r=UE();let s;return()=>{const i=t.default&&lv(t.default(),!0);if(!i||!i.length)return;const o=le(e),{mode:a}=o,l=i[0];if(r.isLeaving)return Cu(l);const u=Wf(l);if(!u)return Cu(l);const c=mc(u,o,r,n);gc(u,c);const h=n.subTree,d=h&&Wf(h);let f=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();s===void 0?s=g:g!==s&&(s=g,f=!0)}if(d&&d.type!==vn&&(!Yr(u,d)||f)){const g=mc(d,o,r,n);if(gc(d,g),a==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update()},Cu(l);a==="in-out"&&u.type!==vn&&(g.delayLeave=(y,w,_)=>{const I=av(r,d);I[String(d.key)]=d,y._leaveCb=()=>{w(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=_})}return l}}},ov=$E;function av(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function mc(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:w,onAppearCancelled:_}=t,I=String(e.key),x=av(n,e),W=(R,ce)=>{R&&rn(R,r,9,ce)},Y={mode:i,persisted:o,beforeEnter(R){let ce=a;if(!n.isMounted)if(s)ce=g||a;else return;R._leaveCb&&R._leaveCb(!0);const te=x[I];te&&Yr(e,te)&&te.el._leaveCb&&te.el._leaveCb(),W(ce,[R])},enter(R){let ce=l,te=u,we=c;if(!n.isMounted)if(s)ce=y||l,te=w||u,we=_||c;else return;let Ne=!1;const K=R._enterCb=Oe=>{Ne||(Ne=!0,Oe?W(we,[R]):W(te,[R]),Y.delayedLeave&&Y.delayedLeave(),R._enterCb=void 0)};ce?(ce(R,K),ce.length<=1&&K()):K()},leave(R,ce){const te=String(e.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return ce();W(h,[R]);let we=!1;const Ne=R._leaveCb=K=>{we||(we=!0,ce(),K?W(p,[R]):W(f,[R]),R._leaveCb=void 0,x[te]===e&&delete x[te])};x[te]=e,d?(d(R,Ne),d.length<=1&&Ne()):Ne()},clone(R){return mc(R,t,n,r)}};return Y}function Cu(e){if(Cl(e))return e=is(e),e.children=null,e}function Wf(e){return Cl(e)?e.children?e.children[0]:void 0:e}function gc(e,t){e.shapeFlag&6&&e.component?gc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function lv(e,t=!1){let n=[],r=0;for(let s=0;s<e.length;s++){const i=e[s];i.type===tn?(i.patchFlag&128&&r++,n=n.concat(lv(i.children,t))):(t||i.type!==vn)&&n.push(i)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function ie(e){return me(e)?{setup:e,name:e.name}:e}const vc=e=>!!e.type.__asyncLoader,Cl=e=>e.type.__isKeepAlive;function VE(e,t){uv(e,"a",t)}function jE(e,t){uv(e,"da",t)}function uv(e,t,n=ht){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Al(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Cl(s.parent.vnode)&&BE(r,t,n,s),s=s.parent}}function BE(e,t,n,r){const s=Al(t,e,r,!0);mt(()=>{_h(r[t],s)},n)}function Al(e,t,n=ht,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;di(),Xs(n);const a=rn(t,n,e,o);return es(),fi(),a});return r?s.unshift(i):s.push(i),i}}const rr=e=>(t,n=ht)=>(!io||e==="sp")&&Al(e,t,n),HE=rr("bm"),et=rr("m"),YE=rr("bu"),Nh=rr("u"),cv=rr("bum"),mt=rr("um"),WE=rr("sp"),qE=rr("rtg"),zE=rr("rtc");function KE(e,t=ht){Al("ec",e,t)}let yc=!0;function GE(e){const t=dv(e),n=e.proxy,r=e.ctx;yc=!1,t.beforeCreate&&qf(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:w,beforeUnmount:_,destroyed:I,unmounted:x,render:W,renderTracked:Y,renderTriggered:R,errorCaptured:ce,serverPrefetch:te,expose:we,inheritAttrs:Ne,components:K,directives:Oe,filters:xe}=t;if(u&&XE(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const Re in o){const Le=o[Re];me(Le)&&(r[Re]=Le.bind(n))}if(s){const Re=s.call(n,n);nt(Re)&&(e.data=vs(Re))}if(yc=!0,i)for(const Re in i){const Le=i[Re],jt=me(Le)?Le.bind(n,n):me(Le.get)?Le.get.bind(n,n):gn,Ss=!me(Le)&&me(Le.set)?Le.set.bind(n):gn,$n=F({get:jt,set:Ss});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>$n.value,set:Tn=>$n.value=Tn})}if(a)for(const Re in a)hv(a[Re],r,n,Re);if(l){const Re=me(l)?l.call(n):l;Reflect.ownKeys(Re).forEach(Le=>{qe(Le,Re[Le])})}c&&qf(c,e,"c");function Ge(Re,Le){ee(Le)?Le.forEach(jt=>Re(jt.bind(n))):Le&&Re(Le.bind(n))}if(Ge(HE,h),Ge(et,d),Ge(YE,f),Ge(Nh,p),Ge(VE,g),Ge(jE,y),Ge(KE,ce),Ge(zE,Y),Ge(qE,R),Ge(cv,_),Ge(mt,x),Ge(WE,te),ee(we))if(we.length){const Re=e.exposed||(e.exposed={});we.forEach(Le=>{Object.defineProperty(Re,Le,{get:()=>n[Le],set:jt=>n[Le]=jt})})}else e.exposed||(e.exposed={});W&&e.render===gn&&(e.render=W),Ne!=null&&(e.inheritAttrs=Ne),K&&(e.components=K),Oe&&(e.directives=Oe)}function XE(e,t,n=gn,r=!1){ee(e)&&(e=wc(e));for(const s in e){const i=e[s];let o;nt(i)?"default"in i?o=Se(i.from||s,i.default,!0):o=Se(i.from||s):o=Se(i),Ye(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function qf(e,t,n){rn(ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function hv(e,t,n,r){const s=r.includes(".")?iv(n,r):()=>n[r];if(at(e)){const i=t[e];me(i)&&kt(s,i)}else if(me(e))kt(s,e.bind(n));else if(nt(e))if(ee(e))e.forEach(i=>hv(i,t,n,r));else{const i=me(e.handler)?e.handler.bind(n):t[e.handler];me(i)&&kt(s,i,e)}}function dv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>Ma(l,u,o,!0)),Ma(l,t,o)),i.set(t,l),l}function Ma(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ma(e,i,n,!0),s&&s.forEach(o=>Ma(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=JE[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const JE={data:zf,props:Br,emits:Br,methods:Br,computed:Br,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:Br,directives:Br,watch:ZE,provide:zf,inject:QE};function zf(e,t){return t?e?function(){return Et(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function QE(e,t){return Br(wc(e),wc(t))}function wc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xt(e,t){return e?[...new Set([].concat(e,t))]:t}function Br(e,t){return e?Et(Et(Object.create(null),e),t):t}function ZE(e,t){if(!e)return t;if(!t)return e;const n=Et(Object.create(null),e);for(const r in t)n[r]=xt(e[r],t[r]);return n}function eT(e,t,n,r=!1){const s={},i={};Da(i,Ol,1),e.propsDefaults=Object.create(null),fv(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:vE(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function tT(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=le(s),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];const f=t[d];if(l)if(Te(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const p=xn(d);s[p]=bc(l,a,p,f,e,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{fv(e,t,s,i)&&(u=!0);let c;for(const h in a)(!t||!Te(t,h)&&((c=gs(h))===h||!Te(t,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=bc(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!Te(t,h)&&!0)&&(delete i[h],u=!0)}u&&Zn(e,"set","$attrs")}function fv(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ya(l))continue;const u=t[l];let c;s&&Te(s,c=xn(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ph(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=le(n),u=a||Ve;for(let c=0;c<i.length;c++){const h=i[c];n[h]=bc(s,l,h,u[h],e,!Te(u,h))}}return o}function bc(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Te(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&me(l)){const{propsDefaults:u}=s;n in u?r=u[n]:(Xs(s),r=u[n]=l.call(null,t),es())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===gs(n))&&(r=!0))}return r}function pv(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!me(e)){const c=h=>{l=!0;const[d,f]=pv(h,t,!0);Et(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return r.set(e,$s),$s;if(ee(i))for(let c=0;c<i.length;c++){const h=xn(i[c]);Kf(h)&&(o[h]=Ve)}else if(i)for(const c in i){const h=xn(c);if(Kf(h)){const d=i[c],f=o[h]=ee(d)||me(d)?{type:d}:d;if(f){const p=Jf(Boolean,f.type),g=Jf(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||Te(f,"default"))&&a.push(h)}}}const u=[o,a];return r.set(e,u),u}function Kf(e){return e[0]!=="$"}function Gf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Xf(e,t){return Gf(e)===Gf(t)}function Jf(e,t){return ee(t)?t.findIndex(n=>Xf(n,e)):me(t)&&Xf(t,e)?0:-1}const mv=e=>e[0]==="_"||e==="$stable",Lh=e=>ee(e)?e.map(kn):[kn(e)],nT=(e,t,n)=>{const r=RE((...s)=>Lh(t(...s)),n);return r._c=!1,r},gv=(e,t,n)=>{const r=e._ctx;for(const s in e){if(mv(s))continue;const i=e[s];if(me(i))t[s]=nT(s,i,r);else if(i!=null){const o=Lh(i);t[s]=()=>o}}},vv=(e,t)=>{const n=Lh(t);e.slots.default=()=>n},rT=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=le(t),Da(t,"_",n)):gv(t,e.slots={})}else e.slots={},t&&vv(e,t);Da(e.slots,Ol,1)},sT=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Ve;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Et(s,t),!n&&a===1&&delete s._):(i=!t.$stable,gv(t,s)),o=t}else t&&(vv(e,t),o={default:1});if(i)for(const a in s)!mv(a)&&!(a in o)&&delete s[a]};function UF(e,t){const n=Wt;if(n===null)return e;const r=n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,u=Ve]=t[i];me(o)&&(o={mounted:o,updated:o}),o.deep&&qr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u})}return e}function Fr(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(di(),rn(l,n,8,[e.el,a,e,t]),fi())}}function yv(){return{app:null,config:{isNativeTag:L_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iT=0;function oT(e,t){return function(r,s=null){s!=null&&!nt(s)&&(s=null);const i=yv(),o=new Set;let a=!1;const l=i.app={_uid:iT++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:DT,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&me(u.install)?(o.add(u),u.install(l,...c)):me(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const d=yt(r,s);return d.appContext=i,c&&t?t(d,u):e(d,u,h),a=!0,l._container=u,u.__vue_app__=l,Vh(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l}};return l}}function _c(e,t,n,r,s=!1){if(ee(e)){e.forEach((d,f)=>_c(d,t&&(ee(t)?t[f]:t),n,r,s));return}if(vc(r)&&!s)return;const i=r.shapeFlag&4?Vh(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ve?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(at(u)?(c[u]=null,Te(h,u)&&(h[u]=null)):Ye(u)&&(u.value=null)),me(l))Ir(l,a,12,[o,c]);else{const d=at(l),f=Ye(l);if(d||f){const p=()=>{if(e.f){const g=d?c[l]:l.value;s?ee(g)&&_h(g,i):ee(g)?g.includes(i)||g.push(i):d?c[l]=[i]:(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Te(h,l)&&(h[l]=o)):Ye(l)&&(l.value=o,e.k&&(c[e.k]=o))};o?(p.id=-1,Lt(p,n)):p()}}}const Lt=LE;function aT(e){return lT(e)}function lT(e,t){const n=B_();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=gn,cloneNode:p,insertStaticContent:g}=e,y=(m,v,b,S=null,T=null,P=null,V=!1,D=null,L=!!v.dynamicChildren)=>{if(m===v)return;m&&!Yr(m,v)&&(S=X(m),Qt(m,T,P,!0),m=null),v.patchFlag===-2&&(L=!1,v.dynamicChildren=null);const{type:C,ref:Q,shapeFlag:q}=v;switch(C){case Uh:w(m,v,b,S);break;case vn:_(m,v,b,S);break;case Au:m==null&&I(v,b,S,V);break;case tn:Oe(m,v,b,S,T,P,V,D,L);break;default:q&1?Y(m,v,b,S,T,P,V,D,L):q&6?xe(m,v,b,S,T,P,V,D,L):(q&64||q&128)&&C.process(m,v,b,S,T,P,V,D,L,je)}Q!=null&&T&&_c(Q,m&&m.ref,P,v||m,!v)},w=(m,v,b,S)=>{if(m==null)r(v.el=a(v.children),b,S);else{const T=v.el=m.el;v.children!==m.children&&u(T,v.children)}},_=(m,v,b,S)=>{m==null?r(v.el=l(v.children||""),b,S):v.el=m.el},I=(m,v,b,S)=>{[m.el,m.anchor]=g(m.children,v,b,S,m.el,m.anchor)},x=({el:m,anchor:v},b,S)=>{let T;for(;m&&m!==v;)T=d(m),r(m,b,S),m=T;r(v,b,S)},W=({el:m,anchor:v})=>{let b;for(;m&&m!==v;)b=d(m),s(m),m=b;s(v)},Y=(m,v,b,S,T,P,V,D,L)=>{V=V||v.type==="svg",m==null?R(v,b,S,T,P,V,D,L):we(m,v,T,P,V,D,L)},R=(m,v,b,S,T,P,V,D)=>{let L,C;const{type:Q,props:q,shapeFlag:Z,transition:oe,patchFlag:Ee,dirs:Xe}=m;if(m.el&&p!==void 0&&Ee===-1)L=m.el=p(m.el);else{if(L=m.el=o(m.type,P,q&&q.is,q),Z&8?c(L,m.children):Z&16&&te(m.children,L,null,S,T,P&&Q!=="foreignObject",V,D),Xe&&Fr(m,null,S,"created"),q){for(const He in q)He!=="value"&&!ya(He)&&i(L,He,null,q[He],P,m.children,S,T,U);"value"in q&&i(L,"value",null,q.value),(C=q.onVnodeBeforeMount)&&In(C,S,m)}ce(L,m,m.scopeId,V,S)}Xe&&Fr(m,null,S,"beforeMount");const Ue=(!T||T&&!T.pendingBranch)&&oe&&!oe.persisted;Ue&&oe.beforeEnter(L),r(L,v,b),((C=q&&q.onVnodeMounted)||Ue||Xe)&&Lt(()=>{C&&In(C,S,m),Ue&&oe.enter(L),Xe&&Fr(m,null,S,"mounted")},T)},ce=(m,v,b,S,T)=>{if(b&&f(m,b),S)for(let P=0;P<S.length;P++)f(m,S[P]);if(T){let P=T.subTree;if(v===P){const V=T.vnode;ce(m,V,V.scopeId,V.slotScopeIds,T.parent)}}},te=(m,v,b,S,T,P,V,D,L=0)=>{for(let C=L;C<m.length;C++){const Q=m[C]=D?gr(m[C]):kn(m[C]);y(null,Q,v,b,S,T,P,V,D)}},we=(m,v,b,S,T,P,V)=>{const D=v.el=m.el;let{patchFlag:L,dynamicChildren:C,dirs:Q}=v;L|=m.patchFlag&16;const q=m.props||Ve,Z=v.props||Ve;let oe;b&&Ur(b,!1),(oe=Z.onVnodeBeforeUpdate)&&In(oe,b,v,m),Q&&Fr(v,m,b,"beforeUpdate"),b&&Ur(b,!0);const Ee=T&&v.type!=="foreignObject";if(C?Ne(m.dynamicChildren,C,D,b,S,Ee,P):V||jt(m,v,D,null,b,S,Ee,P,!1),L>0){if(L&16)K(D,v,q,Z,b,S,T);else if(L&2&&q.class!==Z.class&&i(D,"class",null,Z.class,T),L&4&&i(D,"style",q.style,Z.style,T),L&8){const Xe=v.dynamicProps;for(let Ue=0;Ue<Xe.length;Ue++){const He=Xe[Ue],hn=q[He],Is=Z[He];(Is!==hn||He==="value")&&i(D,He,hn,Is,T,m.children,b,S,U)}}L&1&&m.children!==v.children&&c(D,v.children)}else!V&&C==null&&K(D,v,q,Z,b,S,T);((oe=Z.onVnodeUpdated)||Q)&&Lt(()=>{oe&&In(oe,b,v,m),Q&&Fr(v,m,b,"updated")},S)},Ne=(m,v,b,S,T,P,V)=>{for(let D=0;D<v.length;D++){const L=m[D],C=v[D],Q=L.el&&(L.type===tn||!Yr(L,C)||L.shapeFlag&70)?h(L.el):b;y(L,C,Q,null,S,T,P,V,!0)}},K=(m,v,b,S,T,P,V)=>{if(b!==S){for(const D in S){if(ya(D))continue;const L=S[D],C=b[D];L!==C&&D!=="value"&&i(m,D,C,L,V,v.children,T,P,U)}if(b!==Ve)for(const D in b)!ya(D)&&!(D in S)&&i(m,D,b[D],null,V,v.children,T,P,U);"value"in S&&i(m,"value",b.value,S.value)}},Oe=(m,v,b,S,T,P,V,D,L)=>{const C=v.el=m?m.el:a(""),Q=v.anchor=m?m.anchor:a("");let{patchFlag:q,dynamicChildren:Z,slotScopeIds:oe}=v;oe&&(D=D?D.concat(oe):oe),m==null?(r(C,b,S),r(Q,b,S),te(v.children,b,Q,T,P,V,D,L)):q>0&&q&64&&Z&&m.dynamicChildren?(Ne(m.dynamicChildren,Z,b,T,P,V,D),(v.key!=null||T&&v===T.subTree)&&Fh(m,v,!0)):jt(m,v,b,Q,T,P,V,D,L)},xe=(m,v,b,S,T,P,V,D,L)=>{v.slotScopeIds=D,m==null?v.shapeFlag&512?T.ctx.activate(v,b,S,V,L):En(v,b,S,T,P,V,L):Ge(m,v,L)},En=(m,v,b,S,T,P,V)=>{const D=m.component=ST(m,S,T);if(Cl(m)&&(D.ctx.renderer=je),IT(D),D.asyncDep){if(T&&T.registerDep(D,Re),!m.el){const L=D.subTree=yt(vn);_(null,L,v,b)}return}Re(D,m,v,b,T,P,V)},Ge=(m,v,b)=>{const S=v.component=m.component;if(PE(m,v,b))if(S.asyncDep&&!S.asyncResolved){Le(S,v,b);return}else S.next=v,kE(S.update),S.update();else v.component=m.component,v.el=m.el,S.vnode=v},Re=(m,v,b,S,T,P,V)=>{const D=()=>{if(m.isMounted){let{next:Q,bu:q,u:Z,parent:oe,vnode:Ee}=m,Xe=Q,Ue;Ur(m,!1),Q?(Q.el=Ee.el,Le(m,Q,V)):Q=Ee,q&&wa(q),(Ue=Q.props&&Q.props.onVnodeBeforeUpdate)&&In(Ue,oe,Q,Ee),Ur(m,!0);const He=ku(m),hn=m.subTree;m.subTree=He,y(hn,He,h(hn.el),X(hn),m,T,P),Q.el=He.el,Xe===null&&ME(m,He.el),Z&&Lt(Z,T),(Ue=Q.props&&Q.props.onVnodeUpdated)&&Lt(()=>In(Ue,oe,Q,Ee),T)}else{let Q;const{el:q,props:Z}=v,{bm:oe,m:Ee,parent:Xe}=m,Ue=vc(v);if(Ur(m,!1),oe&&wa(oe),!Ue&&(Q=Z&&Z.onVnodeBeforeMount)&&In(Q,Xe,v),Ur(m,!0),q&&pe){const He=()=>{m.subTree=ku(m),pe(q,m.subTree,m,T,null)};Ue?v.type.__asyncLoader().then(()=>!m.isUnmounted&&He()):He()}else{const He=m.subTree=ku(m);y(null,He,b,S,m,T,P),v.el=He.el}if(Ee&&Lt(Ee,T),!Ue&&(Q=Z&&Z.onVnodeMounted)){const He=v;Lt(()=>In(Q,Xe,He),T)}v.shapeFlag&256&&m.a&&Lt(m.a,T),m.isMounted=!0,v=b=S=null}},L=m.effect=new Ih(D,()=>Qg(m.update),m.scope),C=m.update=L.run.bind(L);C.id=m.uid,Ur(m,!0),C()},Le=(m,v,b)=>{v.component=m;const S=m.vnode.props;m.vnode=v,m.next=null,tT(m,v.props,S,b),sT(m,v.children,b),di(),xh(void 0,m.update),fi()},jt=(m,v,b,S,T,P,V,D,L=!1)=>{const C=m&&m.children,Q=m?m.shapeFlag:0,q=v.children,{patchFlag:Z,shapeFlag:oe}=v;if(Z>0){if(Z&128){$n(C,q,b,S,T,P,V,D,L);return}else if(Z&256){Ss(C,q,b,S,T,P,V,D,L);return}}oe&8?(Q&16&&U(C,T,P),q!==C&&c(b,q)):Q&16?oe&16?$n(C,q,b,S,T,P,V,D,L):U(C,T,P,!0):(Q&8&&c(b,""),oe&16&&te(q,b,S,T,P,V,D,L))},Ss=(m,v,b,S,T,P,V,D,L)=>{m=m||$s,v=v||$s;const C=m.length,Q=v.length,q=Math.min(C,Q);let Z;for(Z=0;Z<q;Z++){const oe=v[Z]=L?gr(v[Z]):kn(v[Z]);y(m[Z],oe,b,null,T,P,V,D,L)}C>Q?U(m,T,P,!0,!1,q):te(v,b,S,T,P,V,D,L,q)},$n=(m,v,b,S,T,P,V,D,L)=>{let C=0;const Q=v.length;let q=m.length-1,Z=Q-1;for(;C<=q&&C<=Z;){const oe=m[C],Ee=v[C]=L?gr(v[C]):kn(v[C]);if(Yr(oe,Ee))y(oe,Ee,b,null,T,P,V,D,L);else break;C++}for(;C<=q&&C<=Z;){const oe=m[q],Ee=v[Z]=L?gr(v[Z]):kn(v[Z]);if(Yr(oe,Ee))y(oe,Ee,b,null,T,P,V,D,L);else break;q--,Z--}if(C>q){if(C<=Z){const oe=Z+1,Ee=oe<Q?v[oe].el:S;for(;C<=Z;)y(null,v[C]=L?gr(v[C]):kn(v[C]),b,Ee,T,P,V,D,L),C++}}else if(C>Z)for(;C<=q;)Qt(m[C],T,P,!0),C++;else{const oe=C,Ee=C,Xe=new Map;for(C=Ee;C<=Z;C++){const Bt=v[C]=L?gr(v[C]):kn(v[C]);Bt.key!=null&&Xe.set(Bt.key,C)}let Ue,He=0;const hn=Z-Ee+1;let Is=!1,Of=0;const Ci=new Array(hn);for(C=0;C<hn;C++)Ci[C]=0;for(C=oe;C<=q;C++){const Bt=m[C];if(He>=hn){Qt(Bt,T,P,!0);continue}let Sn;if(Bt.key!=null)Sn=Xe.get(Bt.key);else for(Ue=Ee;Ue<=Z;Ue++)if(Ci[Ue-Ee]===0&&Yr(Bt,v[Ue])){Sn=Ue;break}Sn===void 0?Qt(Bt,T,P,!0):(Ci[Sn-Ee]=C+1,Sn>=Of?Of=Sn:Is=!0,y(Bt,v[Sn],b,null,T,P,V,D,L),He++)}const Rf=Is?uT(Ci):$s;for(Ue=Rf.length-1,C=hn-1;C>=0;C--){const Bt=Ee+C,Sn=v[Bt],Df=Bt+1<Q?v[Bt+1].el:S;Ci[C]===0?y(null,Sn,b,Df,T,P,V,D,L):Is&&(Ue<0||C!==Rf[Ue]?Tn(Sn,b,Df,2):Ue--)}}},Tn=(m,v,b,S,T=null)=>{const{el:P,type:V,transition:D,children:L,shapeFlag:C}=m;if(C&6){Tn(m.component.subTree,v,b,S);return}if(C&128){m.suspense.move(v,b,S);return}if(C&64){V.move(m,v,b,je);return}if(V===tn){r(P,v,b);for(let q=0;q<L.length;q++)Tn(L[q],v,b,S);r(m.anchor,v,b);return}if(V===Au){x(m,v,b);return}if(S!==2&&C&1&&D)if(S===0)D.beforeEnter(P),r(P,v,b),Lt(()=>D.enter(P),T);else{const{leave:q,delayLeave:Z,afterLeave:oe}=D,Ee=()=>r(P,v,b),Xe=()=>{q(P,()=>{Ee(),oe&&oe()})};Z?Z(P,Ee,Xe):Xe()}else r(P,v,b)},Qt=(m,v,b,S=!1,T=!1)=>{const{type:P,props:V,ref:D,children:L,dynamicChildren:C,shapeFlag:Q,patchFlag:q,dirs:Z}=m;if(D!=null&&_c(D,null,b,m,!0),Q&256){v.ctx.deactivate(m);return}const oe=Q&1&&Z,Ee=!vc(m);let Xe;if(Ee&&(Xe=V&&V.onVnodeBeforeUnmount)&&In(Xe,v,m),Q&6)z(m.component,b,S);else{if(Q&128){m.suspense.unmount(b,S);return}oe&&Fr(m,null,v,"beforeUnmount"),Q&64?m.type.remove(m,v,b,T,je,S):C&&(P!==tn||q>0&&q&64)?U(C,v,b,!1,!0):(P===tn&&q&384||!T&&Q&16)&&U(L,v,b),S&&Su(m)}(Ee&&(Xe=V&&V.onVnodeUnmounted)||oe)&&Lt(()=>{Xe&&In(Xe,v,m),oe&&Fr(m,null,v,"unmounted")},b)},Su=m=>{const{type:v,el:b,anchor:S,transition:T}=m;if(v===tn){E(b,S);return}if(v===Au){W(m);return}const P=()=>{s(b),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(m.shapeFlag&1&&T&&!T.persisted){const{leave:V,delayLeave:D}=T,L=()=>V(b,P);D?D(m.el,P,L):L()}else P()},E=(m,v)=>{let b;for(;m!==v;)b=d(m),s(m),m=b;s(v)},z=(m,v,b)=>{const{bum:S,scope:T,update:P,subTree:V,um:D}=m;S&&wa(S),T.stop(),P&&(P.active=!1,Qt(V,m,v,b)),D&&Lt(D,v),Lt(()=>{m.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},U=(m,v,b,S=!1,T=!1,P=0)=>{for(let V=P;V<m.length;V++)Qt(m[V],v,b,S,T)},X=m=>m.shapeFlag&6?X(m.component.subTree):m.shapeFlag&128?m.suspense.next():d(m.anchor||m.el),Fe=(m,v,b)=>{m==null?v._vnode&&Qt(v._vnode,null,null,!0):y(v._vnode||null,m,v,null,null,null,b),tv(),v._vnode=m},je={p:y,um:Qt,m:Tn,r:Su,mt:En,mc:te,pc:jt,pbc:Ne,n:X,o:e};let ve,pe;return t&&([ve,pe]=t(je)),{render:Fe,hydrate:ve,createApp:oT(Fe,ve)}}function Ur({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Fh(e,t,n=!1){const r=e.children,s=t.children;if(ee(r)&&ee(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=gr(s[i]),a.el=o.el),n||Fh(o,a))}}function uT(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const cT=e=>e.__isTeleport,ji=e=>e&&(e.disabled||e.disabled===""),Qf=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Ec=(e,t)=>{const n=e&&e.to;return at(n)?t?t(n):null:n},hT={__isTeleport:!0,process(e,t,n,r,s,i,o,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:y}}=u,w=ji(t.props);let{shapeFlag:_,children:I,dynamicChildren:x}=t;if(e==null){const W=t.el=g(""),Y=t.anchor=g("");f(W,n,r),f(Y,n,r);const R=t.target=Ec(t.props,p),ce=t.targetAnchor=g("");R&&(f(ce,R),o=o||Qf(R));const te=(we,Ne)=>{_&16&&c(I,we,Ne,s,i,o,a,l)};w?te(n,Y):R&&te(R,ce)}else{t.el=e.el;const W=t.anchor=e.anchor,Y=t.target=e.target,R=t.targetAnchor=e.targetAnchor,ce=ji(e.props),te=ce?n:Y,we=ce?W:R;if(o=o||Qf(Y),x?(d(e.dynamicChildren,x,te,s,i,o,a),Fh(e,t,!0)):l||h(e,t,te,we,s,i,o,a,!1),w)ce||aa(t,n,W,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ne=t.target=Ec(t.props,p);Ne&&aa(t,Ne,null,u,0)}else ce&&aa(t,Y,R,u,1)}},remove(e,t,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&i(c),(o||!ji(d))&&(i(u),a&16))for(let f=0;f<l.length;f++){const p=l[f];s(p,t,n,!0,!!p.dynamicChildren)}},move:aa,hydrate:dT};function aa(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=i===2;if(h&&r(o,t,n),(!h||ji(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],t,n,2);h&&r(a,t,n)}function dT(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=Ec(t.props,l);if(c){const h=c._lpa||c.firstChild;t.shapeFlag&16&&(ji(t.props)?(t.anchor=u(o(e),t,a(e),n,r,s,i),t.targetAnchor=h):(t.anchor=o(e),t.targetAnchor=u(h,t,c,n,r,s,i)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const fT=hT,wv="components",pT="directives";function $F(e,t){return bv(wv,e,!0,t)||e}const mT=Symbol();function VF(e){return bv(pT,e)}function bv(e,t,n=!0,r=!1){const s=Wt||ht;if(s){const i=s.type;if(e===wv){const a=OT(i);if(a&&(a===t||a===xn(t)||a===Sl(xn(t))))return i}const o=Zf(s[e]||i[e],t)||Zf(s.appContext[e],t);return!o&&r?i:o}}function Zf(e,t){return e&&(e[t]||e[xn(t)]||e[Sl(xn(t))])}const tn=Symbol(void 0),Uh=Symbol(void 0),vn=Symbol(void 0),Au=Symbol(void 0),Bi=[];let Zr=null;function ko(e=!1){Bi.push(Zr=e?null:[])}function gT(){Bi.pop(),Zr=Bi[Bi.length-1]||null}let Na=1;function ep(e){Na+=e}function _v(e){return e.dynamicChildren=Na>0?Zr||$s:null,gT(),Na>0&&Zr&&Zr.push(e),e}function jF(e,t,n,r,s,i){return _v(Tv(e,t,n,r,s,i,!0))}function Co(e,t,n,r,s){return _v(yt(e,t,n,r,s,!0))}function La(e){return e?e.__v_isVNode===!0:!1}function Yr(e,t){return e.type===t.type&&e.key===t.key}const Ol="__vInternal",Ev=({key:e})=>e!=null?e:null,ba=({ref:e,ref_key:t,ref_for:n})=>e!=null?at(e)||Ye(e)||me(e)?{i:Wt,r:e,k:t,f:!!n}:e:null;function Tv(e,t=null,n=null,r=0,s=null,i=e===tn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ev(t),ref:t&&ba(t),scopeId:sv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?($h(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=at(n)?8:16),Na>0&&!o&&Zr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Zr.push(l),l}const yt=vT;function vT(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===mT)&&(e=vn),La(e)){const a=is(e,t,!0);return n&&$h(a,n),a}if(RT(e)&&(e=e.__vccOpts),t){t=yT(t);let{class:a,style:l}=t;a&&!at(a)&&(t.class=bl(a)),nt(l)&&(Yg(l)&&!ee(l)&&(l=Et({},l)),t.style=wl(l))}const o=at(e)?1:NE(e)?128:cT(e)?64:nt(e)?4:me(e)?2:0;return Tv(e,t,n,r,s,o,i,!0)}function yT(e){return e?Yg(e)||Ol in e?Et({},e):e:null}function is(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?bT(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ev(a),ref:t&&t.ref?n&&s?ee(s)?s.concat(ba(t)):[s,ba(t)]:ba(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tn?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),el:e.el,anchor:e.anchor}}function wT(e=" ",t=0){return yt(Uh,null,e,t)}function BF(e="",t=!1){return t?(ko(),Co(vn,null,e)):yt(vn,null,e)}function kn(e){return e==null||typeof e=="boolean"?yt(vn):ee(e)?yt(tn,null,e.slice()):typeof e=="object"?gr(e):yt(Uh,null,String(e))}function gr(e){return e.el===null||e.memo?e:is(e)}function $h(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),$h(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ol in t)?t._ctx=Wt:s===3&&Wt&&(Wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:Wt},n=32):(t=String(t),r&64?(n=16,t=[wT(t)]):n=8);e.children=t,e.shapeFlag|=n}function bT(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=bl([t.class,r.class]));else if(s==="style")t.style=wl([t.style,r.style]);else if(_l(s)){const i=t[s],o=r[s];o&&i!==o&&!(ee(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function In(e,t,n,r=null){rn(e,t,7,[n,r])}function HF(e,t,n,r){let s;const i=n&&n[r];if(ee(e)||at(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(nt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=t(e[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function YF(e,t,n={},r,s){if(Wt.isCE)return yt("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),ko();const o=i&&Sv(i(n)),a=Co(tn,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Sv(e){return e.some(t=>La(t)?!(t.type===vn||t.type===tn&&!Sv(t.children)):!0)?e:null}const Tc=e=>e?Iv(e)?Vh(e)||e.proxy:Tc(e.parent):null,Fa=Et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tc(e.parent),$root:e=>Tc(e.root),$emit:e=>e.emit,$options:e=>dv(e),$forceUpdate:e=>()=>Qg(e.update),$nextTick:e=>Ae.bind(e.proxy),$watch:e=>FE.bind(e)}),_T={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==Ve&&Te(r,t))return o[t]=1,r[t];if(s!==Ve&&Te(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Te(u,t))return o[t]=3,i[t];if(n!==Ve&&Te(n,t))return o[t]=4,n[t];yc&&(o[t]=0)}}const c=Fa[t];let h,d;if(c)return t==="$attrs"&&Gt(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Ve&&Te(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Te(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==Ve&&Te(s,t)?(s[t]=n,!0):r!==Ve&&Te(r,t)?(r[t]=n,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Ve&&Te(e,o)||t!==Ve&&Te(t,o)||(a=i[0])&&Te(a,o)||Te(r,o)||Te(Fa,o)||Te(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?this.set(e,t,n.get(),null):n.value!=null&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},ET=yv();let TT=0;function ST(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||ET,i={uid:TT++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pv(r,s),emitsOptions:rv(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=OE.bind(null,i),e.ce&&e.ce(i),i}let ht=null;const Ao=()=>ht||Wt,Xs=e=>{ht=e,e.scope.on()},es=()=>{ht&&ht.scope.off(),ht=null};function Iv(e){return e.vnode.shapeFlag&4}let io=!1;function IT(e,t=!1){io=t;const{props:n,children:r}=e.vnode,s=Iv(e);eT(e,n,s,t),rT(e,r);const i=s?kT(e,t):void 0;return io=!1,i}function kT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Gs(new Proxy(e.ctx,_T));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?AT(e):null;Xs(e),di();const i=Ir(r,e,0,[e.props,s]);if(fi(),es(),Cg(i)){if(i.then(es,es),t)return i.then(o=>{tp(e,o,t)}).catch(o=>{kl(o,e,0)});e.asyncDep=i}else tp(e,i,t)}else kv(e,t)}function tp(e,t,n){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nt(t)&&(e.setupState=Gg(t)),kv(e,n)}let np;function kv(e,t,n){const r=e.type;if(!e.render){if(!t&&np&&!r.render){const s=r.template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Et(Et({isCustomElement:i,delimiters:a},o),l);r.render=np(s,u)}}e.render=r.render||gn}Xs(e),di(),GE(e),fi(),es()}function CT(e){return new Proxy(e.attrs,{get(t,n){return Gt(e,"get","$attrs"),t[n]}})}function AT(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=CT(e))},slots:e.slots,emit:e.emit,expose:t}}function Vh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gg(Gs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fa)return Fa[n](e)}}))}function OT(e){return me(e)&&e.displayName||e.name}function RT(e){return me(e)&&"__vccOpts"in e}const F=(e,t)=>TE(e,t,io);function pn(e,t,n){const r=arguments.length;return r===2?nt(t)&&!ee(t)?La(t)?yt(e,null,[t]):yt(e,t):yt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&La(n)&&(n=[n]),yt(e,t,n))}const DT="3.2.31",xT="http://www.w3.org/2000/svg",Wr=typeof document!="undefined"?document:null,rp=Wr&&Wr.createElement("template"),PT={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Wr.createElementNS(xT,e):Wr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Wr.createTextNode(e),createComment:e=>Wr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{rp.innerHTML=r?`<svg>${e}</svg>`:e;const a=rp.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function MT(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function NT(e,t,n){const r=e.style,s=at(n);if(n&&!s){for(const i in n)Sc(r,i,n[i]);if(t&&!at(t))for(const i in t)n[i]==null&&Sc(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const sp=/\s*!important$/;function Sc(e,t,n){if(ee(n))n.forEach(r=>Sc(e,t,r));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=LT(e,t);sp.test(n)?e.setProperty(gs(r),n.replace(sp,""),"important"):e[r]=n}}const ip=["Webkit","Moz","ms"],Ou={};function LT(e,t){const n=Ou[t];if(n)return n;let r=xn(t);if(r!=="filter"&&r in e)return Ou[t]=r;r=Sl(r);for(let s=0;s<ip.length;s++){const i=ip[s]+r;if(i in e)return Ou[t]=i}return t}const op="http://www.w3.org/1999/xlink";function FT(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(op,t.slice(6,t.length)):e.setAttributeNS(op,t,n);else{const i=D_(t);n==null||i&&!Ig(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function UT(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n==null?"":n;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const a=typeof e[t];if(a==="boolean"){e[t]=Ig(n);return}else if(n==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let Ua=Date.now,Cv=!1;if(typeof window!="undefined"){Ua()>document.createEvent("Event").timeStamp&&(Ua=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Cv=!!(e&&Number(e[1])<=53)}let Ic=0;const $T=Promise.resolve(),VT=()=>{Ic=0},jT=()=>Ic||($T.then(VT),Ic=Ua());function Yn(e,t,n,r){e.addEventListener(t,n,r)}function BT(e,t,n,r){e.removeEventListener(t,n,r)}function HT(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=YT(t);if(r){const u=i[t]=WT(r,s);Yn(e,a,u,l)}else o&&(BT(e,a,o,l),i[t]=void 0)}}const ap=/(?:Once|Passive|Capture)$/;function YT(e){let t;if(ap.test(e)){t={};let n;for(;n=e.match(ap);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[gs(e.slice(2)),t]}function WT(e,t){const n=r=>{const s=r.timeStamp||Ua();(Cv||s>=n.attached-1)&&rn(qT(r,n.value),t,5,[r])};return n.value=e,n.attached=jT(),n}function qT(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const lp=/^on[a-z]/,zT=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?MT(e,r,s):t==="style"?NT(e,n,r):_l(t)?bh(t)||HT(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):KT(e,t,r,s))?UT(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),FT(e,t,r,s))};function KT(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&lp.test(t)&&me(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||lp.test(t)&&at(n)?!1:t in e}const ur="transition",Ai="animation",Av=(e,{slots:t})=>pn(ov,GT(e),t);Av.displayName="Transition";const Ov={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Av.props=Et({},ov.props,Ov);const $r=(e,t=[])=>{ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},up=e=>e?ee(e)?e.some(t=>t.length>1):e.length>1:!1;function GT(e){const t={};for(const K in e)K in Ov||(t[K]=e[K]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,p=XT(s),g=p&&p[0],y=p&&p[1],{onBeforeEnter:w,onEnter:_,onEnterCancelled:I,onLeave:x,onLeaveCancelled:W,onBeforeAppear:Y=w,onAppear:R=_,onAppearCancelled:ce=I}=t,te=(K,Oe,xe)=>{ks(K,Oe?c:a),ks(K,Oe?u:o),xe&&xe()},we=(K,Oe)=>{ks(K,f),ks(K,d),Oe&&Oe()},Ne=K=>(Oe,xe)=>{const En=K?R:_,Ge=()=>te(Oe,K,xe);$r(En,[Oe,Ge]),cp(()=>{ks(Oe,K?l:i),cr(Oe,K?c:a),up(En)||hp(Oe,r,g,Ge)})};return Et(t,{onBeforeEnter(K){$r(w,[K]),cr(K,i),cr(K,o)},onBeforeAppear(K){$r(Y,[K]),cr(K,l),cr(K,u)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(K,Oe){const xe=()=>we(K,Oe);cr(K,h),ZT(),cr(K,d),cp(()=>{ks(K,h),cr(K,f),up(x)||hp(K,r,y,xe)}),$r(x,[K,xe])},onEnterCancelled(K){te(K,!1),$r(I,[K])},onAppearCancelled(K){te(K,!0),$r(ce,[K])},onLeaveCancelled(K){we(K),$r(W,[K])}})}function XT(e){if(e==null)return null;if(nt(e))return[Ru(e.enter),Ru(e.leave)];{const t=Ru(e);return[t,t]}}function Ru(e){return to(e)}function cr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ks(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function cp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let JT=0;function hp(e,t,n,r){const s=e._endId=++JT,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=QT(e,t);if(!o)return r();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,d),i()},d=f=>{f.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,d)}function QT(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(ur+"Delay"),i=r(ur+"Duration"),o=dp(s,i),a=r(Ai+"Delay"),l=r(Ai+"Duration"),u=dp(a,l);let c=null,h=0,d=0;t===ur?o>0&&(c=ur,h=o,d=i.length):t===Ai?u>0&&(c=Ai,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?ur:Ai:null,d=c?c===ur?i.length:l.length:0);const f=c===ur&&/\b(transform|all)(,|$)/.test(n[ur+"Property"]);return{type:c,timeout:h,propCount:d,hasTransform:f}}function dp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>fp(n)+fp(e[r])))}function fp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function ZT(){return document.body.offsetHeight}const Rr=e=>{const t=e.props["onUpdate:modelValue"];return ee(t)?n=>wa(t,n):t};function eS(e){e.target.composing=!0}function pp(e){const t=e.target;t.composing&&(t.composing=!1,tS(t,"input"))}function tS(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const mp={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=Rr(s);const i=r||s.props&&s.props.type==="number";Yn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n?a=a.trim():i&&(a=to(a)),e._assign(a)}),n&&Yn(e,"change",()=>{e.value=e.value.trim()}),t||(Yn(e,"compositionstart",eS),Yn(e,"compositionend",pp),Yn(e,"change",pp))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=Rr(i),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&to(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},nS={deep:!0,created(e,t,n){e._assign=Rr(n),Yn(e,"change",()=>{const r=e._modelValue,s=Js(e),i=e.checked,o=e._assign;if(ee(r)){const a=wh(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(hi(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Rv(e,i))})},mounted:gp,beforeUpdate(e,t,n){e._assign=Rr(n),gp(e,t,n)}};function gp(e,{value:t,oldValue:n},r){e._modelValue=t,ee(t)?e.checked=wh(t,r.props.value)>-1:hi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ss(t,Rv(e,!0)))}const rS={created(e,{value:t},n){e.checked=ss(t,n.props.value),e._assign=Rr(n),Yn(e,"change",()=>{e._assign(Js(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Rr(r),t!==n&&(e.checked=ss(t,r.props.value))}},sS={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=hi(t);Yn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?to(Js(o)):Js(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Rr(r)},mounted(e,{value:t}){vp(e,t)},beforeUpdate(e,t,n){e._assign=Rr(n)},updated(e,{value:t}){vp(e,t)}};function vp(e,t){const n=e.multiple;if(!(n&&!ee(t)&&!hi(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=Js(i);if(n)ee(t)?i.selected=wh(t,o)>-1:i.selected=t.has(o);else if(ss(Js(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Js(e){return"_value"in e?e._value:e.value}function Rv(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const WF={created(e,t,n){la(e,t,n,null,"created")},mounted(e,t,n){la(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){la(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){la(e,t,n,r,"updated")}};function la(e,t,n,r,s){let i;switch(e.tagName){case"SELECT":i=sS;break;case"TEXTAREA":i=mp;break;default:switch(n.props&&n.props.type){case"checkbox":i=nS;break;case"radio":i=rS;break;default:i=mp}}const o=i[s];o&&o(e,t,n,r)}const iS=["ctrl","shift","alt","meta"],oS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>iS.some(n=>e[`${n}Key`]&&!t.includes(n))},qF=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=oS[t[s]];if(i&&i(n,t))return}return e(n,...r)},aS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zF=(e,t)=>n=>{if(!("key"in n))return;const r=gs(n.key);if(t.some(s=>s===r||aS[s]===r))return e(n)},KF={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Oi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Oi(e,!0),r.enter(e)):r.leave(e,()=>{Oi(e,!1)}):Oi(e,t))},beforeUnmount(e,{value:t}){Oi(e,t)}};function Oi(e,t){e.style.display=t?e._vod:"none"}const lS=Et({patchProp:zT},PT);let yp;function uS(){return yp||(yp=aT(lS))}const GF=(...e)=>{const t=uS().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=cS(r);if(!s)return;const i=t._component;!me(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function cS(e){return at(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Dv=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",pi=e=>Dv?Symbol(e):"_vr_"+e,hS=pi("rvlm"),wp=pi("rvd"),Rl=pi("r"),jh=pi("rl"),kc=pi("rvl"),Ms=typeof window!="undefined";function dS(e){return e.__esModule||Dv&&e[Symbol.toStringTag]==="Module"}const $e=Object.assign;function Du(e,t){const n={};for(const r in t){const s=t[r];n[r]=Array.isArray(s)?s.map(e):e(s)}return n}const Hi=()=>{},fS=/\/$/,pS=e=>e.replace(fS,"");function xu(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=yS(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function mS(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function bp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gS(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Qs(t.matched[r],n.matched[s])&&xv(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!vS(e[n],t[n]))return!1;return!0}function vS(e,t){return Array.isArray(e)?_p(e,t):Array.isArray(t)?_p(t,e):e===t}function _p(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function yS(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(s===1||o==="."))if(o==="..")s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var oo;(function(e){e.pop="pop",e.push="push"})(oo||(oo={}));var Yi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yi||(Yi={}));function wS(e){if(!e)if(Ms){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pS(e)}const bS=/^[^#]+#/;function _S(e,t){return e.replace(bS,"#")+t}function ES(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Dl=()=>({left:window.pageXOffset,top:window.pageYOffset});function TS(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ES(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ep(e,t){return(history.state?history.state.position-t:-1)+e}const Cc=new Map;function SS(e,t){Cc.set(e,t)}function IS(e){const t=Cc.get(e);return Cc.delete(e),t}let kS=()=>location.protocol+"//"+location.host;function Pv(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),bp(l,"")}return bp(n,e)+r+s}function CS(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=Pv(e,location),p=n.value,g=t.value;let y=0;if(d){if(n.value=f,t.value=d,o&&o===p){o=null;return}y=g?d.position-g.position:0}else r(f);s.forEach(w=>{w(n.value,p,{delta:y,type:oo.pop,direction:y?y>0?Yi.forward:Yi.back:Yi.unknown})})};function l(){o=n.value}function u(d){s.push(d);const f=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return i.push(f),f}function c(){const{history:d}=window;!d.state||d.replaceState($e({},d.state,{scroll:Dl()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:h}}function Tp(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Dl():null}}function AS(e){const{history:t,location:n}=window,r={value:Pv(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:kS()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(f){console.error(f),n[c?"replace":"assign"](d)}}function o(l,u){const c=$e({},t.state,Tp(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=$e({},s.value,t.state,{forward:l,scroll:Dl()});i(c.current,c,!0);const h=$e({},Tp(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function XF(e){e=wS(e);const t=AS(e),n=CS(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=$e({location:"",base:e,go:r,createHref:_S.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function OS(e){return typeof e=="string"||e&&typeof e=="object"}function Mv(e){return typeof e=="string"||typeof e=="symbol"}const hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nv=pi("nf");var Sp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Sp||(Sp={}));function Zs(e,t){return $e(new Error,{type:e,[Nv]:!0},t)}function dr(e,t){return e instanceof Error&&Nv in e&&(t==null||!!(e.type&t))}const Ip="[^/]+?",RS={sensitive:!1,strict:!1,start:!0,end:!0},DS=/[.+*?^${}()[\]/\\]/g;function xS(e,t){const n=$e({},RS,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const d=u[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(DS,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:g,optional:y,regexp:w}=d;i.push({name:p,repeatable:g,optional:y});const _=w||Ip;if(_!==Ip){f+=10;try{new RegExp(`(${_})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+x.message)}}let I=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(I=y&&u.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),s+=I,f+=20,y&&(f+=-8),g&&(f+=-20),_===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",p=i[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(u){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:y}=f,w=p in u?u[p]:"";if(Array.isArray(w)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Array.isArray(w)?w.join("/"):w;if(!_)if(y)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=_}}return c}return{re:o,score:r,keys:i,parse:a,stringify:l}}function PS(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function MS(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=PS(r[n],s[n]);if(i)return i;n++}return s.length-r.length}const NS={type:0,value:""},LS=/[a-zA-Z0-9_]/;function FS(e){if(!e)return[[]];if(e==="/")return[[NS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function h(){!u||(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:LS.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function US(e,t,n){const r=xS(FS(e.path),n),s=$e(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function $S(e,t){const n=[],r=new Map;t=Cp({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,h,d){const f=!d,p=jS(c);p.aliasOf=d&&d.record;const g=Cp(t,c),y=[p];if("alias"in c){const I=typeof c.alias=="string"?[c.alias]:c.alias;for(const x of I)y.push($e({},p,{components:d?d.record.components:p.components,path:x,aliasOf:d?d.record:p}))}let w,_;for(const I of y){const{path:x}=I;if(h&&x[0]!=="/"){const W=h.record.path,Y=W[W.length-1]==="/"?"":"/";I.path=h.record.path+(x&&Y+x)}if(w=US(I,h,g),d?d.alias.push(w):(_=_||w,_!==w&&_.alias.push(w),f&&c.name&&!kp(w)&&o(c.name)),"children"in p){const W=p.children;for(let Y=0;Y<W.length;Y++)i(W[Y],w,d&&d.children[Y])}d=d||w,l(w)}return _?()=>{o(_)}:Hi}function o(c){if(Mv(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let h=0;for(;h<n.length&&MS(c,n[h])>=0&&(c.record.path!==n[h].record.path||!Lv(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!kp(c)&&r.set(c.record.name,c)}function u(c,h){let d,f={},p,g;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw Zs(1,{location:c});g=d.record.name,f=$e(VS(h.params,d.keys.filter(_=>!_.optional).map(_=>_.name)),c.params),p=d.stringify(f)}else if("path"in c)p=c.path,d=n.find(_=>_.re.test(p)),d&&(f=d.parse(p),g=d.record.name);else{if(d=h.name?r.get(h.name):n.find(_=>_.re.test(h.path)),!d)throw Zs(1,{location:c,currentLocation:h});g=d.record.name,f=$e({},h.params,c.params),p=d.stringify(f)}const y=[];let w=d;for(;w;)y.unshift(w.record),w=w.parent;return{name:g,path:p,params:f,matched:y,meta:HS(y)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function VS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function jS(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:BS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function BS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function kp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function HS(e){return e.reduce((t,n)=>$e(t,n.meta),{})}function Cp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Lv(e,t){return t.children.some(n=>n===e||Lv(e,n))}const Fv=/#/g,YS=/&/g,WS=/\//g,qS=/=/g,zS=/\?/g,Uv=/\+/g,KS=/%5B/g,GS=/%5D/g,$v=/%5E/g,XS=/%60/g,Vv=/%7B/g,JS=/%7C/g,jv=/%7D/g,QS=/%20/g;function Bh(e){return encodeURI(""+e).replace(JS,"|").replace(KS,"[").replace(GS,"]")}function ZS(e){return Bh(e).replace(Vv,"{").replace(jv,"}").replace($v,"^")}function Ac(e){return Bh(e).replace(Uv,"%2B").replace(QS,"+").replace(Fv,"%23").replace(YS,"%26").replace(XS,"`").replace(Vv,"{").replace(jv,"}").replace($v,"^")}function eI(e){return Ac(e).replace(qS,"%3D")}function tI(e){return Bh(e).replace(Fv,"%23").replace(zS,"%3F")}function nI(e){return e==null?"":tI(e).replace(WS,"%2F")}function $a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function rI(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Uv," "),o=i.indexOf("="),a=$a(o<0?i:i.slice(0,o)),l=o<0?null:$a(i.slice(o+1));if(a in t){let u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Ap(e){let t="";for(let n in e){const r=e[n];if(n=eI(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&Ac(i)):[r&&Ac(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function sI(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}function Ri(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function vr(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Zs(4,{from:n,to:t})):h instanceof Error?a(h):OS(h)?a(Zs(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},u=e.call(r&&r.instances[s],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(h=>a(h))})}function Pu(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(iI(a)){const u=(a.__vccOpts||a)[t];u&&s.push(vr(u,n,r,i,o))}else{let l=a();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=dS(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&vr(d,n,r,i,o)()}))}}return s}function iI(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Op(e){const t=Se(Rl),n=Se(jh),r=F(()=>t.resolve(On(e.to))),s=F(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const d=h.findIndex(Qs.bind(null,c));if(d>-1)return d;const f=Rp(l[u-2]);return u>1&&Rp(c)===f&&h[h.length-1].path!==f?h.findIndex(Qs.bind(null,l[u-2])):d}),i=F(()=>s.value>-1&&uI(n.params,r.value.params)),o=F(()=>s.value>-1&&s.value===n.matched.length-1&&xv(n.params,r.value.params));function a(l={}){return lI(l)?t[On(e.replace)?"replace":"push"](On(e.to)).catch(Hi):Promise.resolve()}return{route:r,href:F(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const oI=ie({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Op,setup(e,{slots:t}){const n=vs(Op(e)),{options:r}=Se(Rl),s=F(()=>({[Dp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Dp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:pn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),aI=oI;function lI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function uI(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Array.isArray(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Rp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Dp=(e,t,n)=>e!=null?e:t!=null?t:n,cI=ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Se(kc),s=F(()=>e.route||r.value),i=Se(wp,0),o=F(()=>s.value.matched[i]);qe(wp,i+1),qe(hS,o),qe(kc,s);const a=M();return kt(()=>[a.value,o.value,e.name],([l,u,c],[h,d,f])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!Qs(u,d)||!h)&&(u.enterCallbacks[c]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=s.value,u=o.value,c=u&&u.components[e.name],h=e.name;if(!c)return xp(n.default,{Component:c,route:l});const d=u.props[e.name],f=d?d===!0?l.params:typeof d=="function"?d(l):d:null,g=pn(c,$e({},f,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[h]=null)},ref:a}));return xp(n.default,{Component:g,route:l})||g}}});function xp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hI=cI;function JF(e){const t=$S(e.routes,e),n=e.parseQuery||rI,r=e.stringifyQuery||Ap,s=e.history,i=Ri(),o=Ri(),a=Ri(),l=zg(hr);let u=hr;Ms&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Du.bind(null,E=>""+E),h=Du.bind(null,nI),d=Du.bind(null,$a);function f(E,z){let U,X;return Mv(E)?(U=t.getRecordMatcher(E),X=z):X=E,t.addRoute(X,U)}function p(E){const z=t.getRecordMatcher(E);z&&t.removeRoute(z)}function g(){return t.getRoutes().map(E=>E.record)}function y(E){return!!t.getRecordMatcher(E)}function w(E,z){if(z=$e({},z||l.value),typeof E=="string"){const pe=xu(n,E,z.path),m=t.resolve({path:pe.path},z),v=s.createHref(pe.fullPath);return $e(pe,m,{params:d(m.params),hash:$a(pe.hash),redirectedFrom:void 0,href:v})}let U;if("path"in E)U=$e({},E,{path:xu(n,E.path,z.path).path});else{const pe=$e({},E.params);for(const m in pe)pe[m]==null&&delete pe[m];U=$e({},E,{params:h(E.params)}),z.params=h(z.params)}const X=t.resolve(U,z),Fe=E.hash||"";X.params=c(d(X.params));const je=mS(r,$e({},E,{hash:ZS(Fe),path:X.path})),ve=s.createHref(je);return $e({fullPath:je,hash:Fe,query:r===Ap?sI(E.query):E.query||{}},X,{redirectedFrom:void 0,href:ve})}function _(E){return typeof E=="string"?xu(n,E,l.value.path):$e({},E)}function I(E,z){if(u!==E)return Zs(8,{from:z,to:E})}function x(E){return R(E)}function W(E){return x($e(_(E),{replace:!0}))}function Y(E){const z=E.matched[E.matched.length-1];if(z&&z.redirect){const{redirect:U}=z;let X=typeof U=="function"?U(E):U;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=_(X):{path:X},X.params={}),$e({query:E.query,hash:E.hash,params:E.params},X)}}function R(E,z){const U=u=w(E),X=l.value,Fe=E.state,je=E.force,ve=E.replace===!0,pe=Y(U);if(pe)return R($e(_(pe),{state:Fe,force:je,replace:ve}),z||U);const m=U;m.redirectedFrom=z;let v;return!je&&gS(r,X,U)&&(v=Zs(16,{to:m,from:X}),Ss(X,X,!0,!1)),(v?Promise.resolve(v):te(m,X)).catch(b=>dr(b)?dr(b,2)?b:jt(b):Re(b,m,X)).then(b=>{if(b){if(dr(b,2))return R($e(_(b.to),{state:Fe,force:je,replace:ve}),z||m)}else b=Ne(m,X,!0,ve,Fe);return we(m,X,b),b})}function ce(E,z){const U=I(E,z);return U?Promise.reject(U):Promise.resolve()}function te(E,z){let U;const[X,Fe,je]=dI(E,z);U=Pu(X.reverse(),"beforeRouteLeave",E,z);for(const pe of X)pe.leaveGuards.forEach(m=>{U.push(vr(m,E,z))});const ve=ce.bind(null,E,z);return U.push(ve),Cs(U).then(()=>{U=[];for(const pe of i.list())U.push(vr(pe,E,z));return U.push(ve),Cs(U)}).then(()=>{U=Pu(Fe,"beforeRouteUpdate",E,z);for(const pe of Fe)pe.updateGuards.forEach(m=>{U.push(vr(m,E,z))});return U.push(ve),Cs(U)}).then(()=>{U=[];for(const pe of E.matched)if(pe.beforeEnter&&!z.matched.includes(pe))if(Array.isArray(pe.beforeEnter))for(const m of pe.beforeEnter)U.push(vr(m,E,z));else U.push(vr(pe.beforeEnter,E,z));return U.push(ve),Cs(U)}).then(()=>(E.matched.forEach(pe=>pe.enterCallbacks={}),U=Pu(je,"beforeRouteEnter",E,z),U.push(ve),Cs(U))).then(()=>{U=[];for(const pe of o.list())U.push(vr(pe,E,z));return U.push(ve),Cs(U)}).catch(pe=>dr(pe,8)?pe:Promise.reject(pe))}function we(E,z,U){for(const X of a.list())X(E,z,U)}function Ne(E,z,U,X,Fe){const je=I(E,z);if(je)return je;const ve=z===hr,pe=Ms?history.state:{};U&&(X||ve?s.replace(E.fullPath,$e({scroll:ve&&pe&&pe.scroll},Fe)):s.push(E.fullPath,Fe)),l.value=E,Ss(E,z,U,ve),jt()}let K;function Oe(){K=s.listen((E,z,U)=>{const X=w(E),Fe=Y(X);if(Fe){R($e(Fe,{replace:!0}),X).catch(Hi);return}u=X;const je=l.value;Ms&&SS(Ep(je.fullPath,U.delta),Dl()),te(X,je).catch(ve=>dr(ve,12)?ve:dr(ve,2)?(R(ve.to,X).then(pe=>{dr(pe,20)&&!U.delta&&U.type===oo.pop&&s.go(-1,!1)}).catch(Hi),Promise.reject()):(U.delta&&s.go(-U.delta,!1),Re(ve,X,je))).then(ve=>{ve=ve||Ne(X,je,!1),ve&&(U.delta?s.go(-U.delta,!1):U.type===oo.pop&&dr(ve,20)&&s.go(-1,!1)),we(X,je,ve)}).catch(Hi)})}let xe=Ri(),En=Ri(),Ge;function Re(E,z,U){jt(E);const X=En.list();return X.length?X.forEach(Fe=>Fe(E,z,U)):console.error(E),Promise.reject(E)}function Le(){return Ge&&l.value!==hr?Promise.resolve():new Promise((E,z)=>{xe.add([E,z])})}function jt(E){return Ge||(Ge=!E,Oe(),xe.list().forEach(([z,U])=>E?U(E):z()),xe.reset()),E}function Ss(E,z,U,X){const{scrollBehavior:Fe}=e;if(!Ms||!Fe)return Promise.resolve();const je=!U&&IS(Ep(E.fullPath,0))||(X||!U)&&history.state&&history.state.scroll||null;return Ae().then(()=>Fe(E,z,je)).then(ve=>ve&&TS(ve)).catch(ve=>Re(ve,E,z))}const $n=E=>s.go(E);let Tn;const Qt=new Set;return{currentRoute:l,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:g,resolve:w,options:e,push:x,replace:W,go:$n,back:()=>$n(-1),forward:()=>$n(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:En.add,isReady:Le,install(E){const z=this;E.component("RouterLink",aI),E.component("RouterView",hI),E.config.globalProperties.$router=z,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>On(l)}),Ms&&!Tn&&l.value===hr&&(Tn=!0,x(s.location).catch(Fe=>{}));const U={};for(const Fe in hr)U[Fe]=F(()=>l.value[Fe]);E.provide(Rl,z),E.provide(jh,vs(U)),E.provide(kc,l);const X=E.unmount;Qt.add(E),E.unmount=function(){Qt.delete(E),Qt.size<1&&(u=hr,K&&K(),l.value=hr,Tn=!1,Ge=!1),X()}}}}function Cs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function dI(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Qs(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Qs(u,l))||s.push(l))}return[n,r,s]}function QF(){return Se(Rl)}function ZF(){return Se(jh)}function Va(e){return Y_()?(W_(e),!0):!1}const ja=typeof window!="undefined",fI=e=>typeof e=="string",Mu=()=>{};function pI(e,t){function n(...r){e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})}return n}const mI=e=>e();function Bv(e,t=!0){Ao()?et(e):t?e():Ae(e)}function eU(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let i=null;const o=M(!1);function a(){i&&(clearInterval(i),i=null)}function l(){o.value=!1,a()}function u(){t<=0||(o.value=!0,s&&e(),a(),i=setInterval(e,On(t)))}if(r&&ja&&u(),Ye(t)){const c=kt(t,()=>{r&&ja&&u()});Va(c)}return Va(l),{isActive:o,pause:l,resume:u}}function tU(e=!1){if(Ye(e))return t=>(e.value=typeof t=="boolean"?t:!e.value,e.value);{const t=M(e);return[t,r=>(t.value=typeof r=="boolean"?r:!t.value,t.value)]}}var Pp=Object.getOwnPropertySymbols,gI=Object.prototype.hasOwnProperty,vI=Object.prototype.propertyIsEnumerable,yI=(e,t)=>{var n={};for(var r in e)gI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pp)for(var r of Pp(e))t.indexOf(r)<0&&vI.call(e,r)&&(n[r]=e[r]);return n};function wI(e,t,n={}){const r=n,{eventFilter:s=mI}=r,i=yI(r,["eventFilter"]);return kt(e,pI(s,t),i)}function nU(e,t,n){const r=kt(e,(...s)=>(Ae(()=>r()),t(...s)),n)}function bI(e){var t;const n=On(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ei=ja?window:void 0;function _I(...e){let t,n,r,s;if(fI(e[0])?([n,r,s]=e,t=ei):[t,n,r,s]=e,!t)return Mu;let i=Mu;const o=kt(()=>bI(t),l=>{i(),l&&(l.addEventListener(n,r,s),i=()=>{l.removeEventListener(n,r,s),i=Mu})},{immediate:!0,flush:"post"}),a=()=>{o(),i()};return Va(a),a}function EI(e,t={}){const{window:n=ei}=t;let r;const s=M(!1),i=()=>{!n||(r||(r=n.matchMedia(e)),s.value=r.matches)};return Bv(()=>{i(),r&&("addEventListener"in r?r.addEventListener("change",i):r.addListener(i),Va(()=>{"removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i)}))}),s}const Oc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Rc="__vueuse_ssr_handlers__";Oc[Rc]=Oc[Rc]||{};const TI=Oc[Rc];function Hv(e,t){return TI[e]||t}function SI(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const II={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))}};function kI(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,shallow:u,window:c=ei,eventFilter:h,onError:d=I=>{console.error(I)}}=r,f=On(t),p=SI(f),g=(u?zg:M)(t),y=(s=r.serializer)!=null?s:II[p];if(!n)try{n=Hv("getDefaultStorage",()=>{var I;return(I=ei)==null?void 0:I.localStorage})()}catch(I){d(I)}let w=!1;function _(I){if(!(!n||I&&I.key!==e))try{const x=I?I.newValue:n.getItem(e);x==null?(g.value=f,l&&f!==null&&n.setItem(e,y.write(f))):typeof x!="string"?g.value=x:g.value=y.read(x)}catch(x){d(x)}}return _(),c&&a&&_I(c,"storage",I=>{setTimeout(()=>{if(w){w=!1;return}_(I)},0)}),n&&wI(g,()=>{try{g.value==null?n.removeItem(e):n.setItem(e,y.write(g.value)),w=!0}catch(I){d(I)}},{flush:i,deep:o,eventFilter:h}),g}function Yv(e){return EI("(prefers-color-scheme: dark)",e)}var CI=Object.defineProperty,Mp=Object.getOwnPropertySymbols,AI=Object.prototype.hasOwnProperty,OI=Object.prototype.propertyIsEnumerable,Np=(e,t,n)=>t in e?CI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RI=(e,t)=>{for(var n in t||(t={}))AI.call(t,n)&&Np(e,n,t[n]);if(Mp)for(var n of Mp(t))OI.call(t,n)&&Np(e,n,t[n]);return e};function DI(e={}){const{selector:t="html",attribute:n="class",window:r=ei,storage:s,storageKey:i="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:a}=e,l=RI({auto:"",light:"light",dark:"dark"},e.modes||{}),u=Yv({window:r}),c=F(()=>u.value?"dark":"light"),h=a||(i==null?M("auto"):kI(i,"auto",s,{window:r,listenToStorageChanges:o})),d=F({get(){return h.value==="auto"?c.value:h.value},set(y){h.value=y}}),f=Hv("updateHTMLAttrs",(y,w,_)=>{const I=r==null?void 0:r.document.querySelector(y);if(!!I)if(w==="class"){const x=_.split(/\s/g);Object.values(l).flatMap(W=>(W||"").split(/\s/g)).filter(Boolean).forEach(W=>{x.includes(W)?I.classList.add(W):I.classList.remove(W)})}else I.setAttribute(w,_)});function p(y){var w;f(t,n,(w=l[y])!=null?w:y)}function g(y){e.onChanged?e.onChanged(y,p):p(y)}return kt(d,g,{flush:"post",immediate:!0}),Bv(()=>g(d.value)),d}var xI=Object.defineProperty,PI=Object.defineProperties,MI=Object.getOwnPropertyDescriptors,Lp=Object.getOwnPropertySymbols,NI=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,Fp=(e,t,n)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FI=(e,t)=>{for(var n in t||(t={}))NI.call(t,n)&&Fp(e,n,t[n]);if(Lp)for(var n of Lp(t))LI.call(t,n)&&Fp(e,n,t[n]);return e},UI=(e,t)=>PI(e,MI(t));function rU(e={}){const{valueDark:t="dark",valueLight:n="",window:r=ei}=e,s=DI(UI(FI({},e),{onChanged:(a,l)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,a==="dark"):l(a)},modes:{dark:t,light:n}})),i=Yv({window:r});return F({get(){return s.value==="dark"},set(a){a===i.value?s.value="auto":s.value=a?"dark":"light"}})}var Up,$p;ja&&(window==null?void 0:window.navigator)&&((Up=window==null?void 0:window.navigator)==null?void 0:Up.platform)&&/iP(ad|hone|od)/.test(($p=window==null?void 0:window.navigator)==null?void 0:$p.platform);function sU(e,t,n,r={}){var s;const{passive:i=!1,eventName:o,deep:a=!1}=r,l=Ao(),u=n||(l==null?void 0:l.emit)||((s=l==null?void 0:l.$emit)==null?void 0:s.bind(l));let c=o;if(t||(t="modelValue"),c=o||c||`update:${t}`,i){const h=M(e[t]);return kt(()=>e[t],d=>h.value=d),kt(h,d=>{(d!==e[t]||a)&&u(c,d)},{deep:a}),h}else return F({get(){return e[t]},set(h){u(c,h)}})}var $I=!1;/*!
  * pinia v2.0.12
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Wv;const xl=e=>Wv=e,qv=Symbol();function Dc(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Wi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Wi||(Wi={}));function iU(){const e=Dg(!0),t=e.run(()=>M({}));let n=[],r=[];const s=Gs({install(i){xl(s),s._a=i,i.provide(qv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!$I?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const zv=()=>{};function Vp(e,t,n,r=zv){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Ao()&&mt(s),s}function As(e,...t){e.slice().forEach(n=>{n(...t)})}function xc(e,t){for(const n in t){const r=t[n],s=e[n];Dc(s)&&Dc(r)&&!Ye(r)&&!Xn(r)?e[n]=xc(s,r):e[n]=r}return e}const VI=Symbol();function jI(e){return!Dc(e)||!e.hasOwnProperty(VI)}const{assign:jn}=Object;function BI(e){return!!(Ye(e)&&e.effect)}function HI(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=s?s():{});const c=bE(n.state.value[e]);return jn(c,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Gs(F(()=>{xl(n);const f=n._s.get(e);return o[d].call(f,f)})),h),{}))}return l=Kv(e,u,t,n),l.$reset=function(){const h=s?s():{};this.$patch(d=>{jn(d,h)})},l}function Kv(e,t,n={},r,s){let i;const o=n.state,a=jn({actions:{}},n),l={deep:!0};let u,c,h=Gs([]),d=Gs([]),f;const p=r.state.value[e];!o&&!p&&(r.state.value[e]={}),M({});function g(Y){let R;u=c=!1,typeof Y=="function"?(Y(r.state.value[e]),R={type:Wi.patchFunction,storeId:e,events:f}):(xc(r.state.value[e],Y),R={type:Wi.patchObject,payload:Y,storeId:e,events:f}),Ae().then(()=>{u=!0}),c=!0,As(h,R,r.state.value[e])}const y=zv;function w(){i.stop(),h=[],d=[],r._s.delete(e)}function _(Y,R){return function(){xl(r);const ce=Array.from(arguments),te=[],we=[];function Ne(xe){te.push(xe)}function K(xe){we.push(xe)}As(d,{args:ce,name:Y,store:x,after:Ne,onError:K});let Oe;try{Oe=R.apply(this&&this.$id===e?this:x,ce)}catch(xe){throw As(we,xe),xe}return Oe instanceof Promise?Oe.then(xe=>(As(te,xe),xe)).catch(xe=>(As(we,xe),Promise.reject(xe))):(As(te,Oe),Oe)}}const I={_p:r,$id:e,$onAction:Vp.bind(null,d),$patch:g,$reset:y,$subscribe(Y,R={}){const ce=Vp(h,Y,R.detached,()=>te()),te=i.run(()=>kt(()=>r.state.value[e],we=>{(R.flush==="sync"?c:u)&&Y({storeId:e,type:Wi.direct,events:f},we)},jn({},l,R)));return ce},$dispose:w},x=vs(jn({},I));r._s.set(e,x);const W=r._e.run(()=>(i=Dg(),i.run(()=>t())));for(const Y in W){const R=W[Y];if(Ye(R)&&!BI(R)||Xn(R))o||(p&&jI(R)&&(Ye(R)?R.value=p[Y]:xc(R,p[Y])),r.state.value[e][Y]=R);else if(typeof R=="function"){const ce=_(Y,R);W[Y]=ce,a.actions[Y]=R}}return jn(x,W),jn(le(x),W),Object.defineProperty(x,"$state",{get:()=>r.state.value[e],set:Y=>{g(R=>{jn(R,Y)})}}),r._p.forEach(Y=>{jn(x,i.run(()=>Y({store:x,app:r._a,pinia:r,options:a})))}),p&&o&&n.hydrate&&n.hydrate(x.$state,p),u=!0,c=!0,x}function oU(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,l){const u=Ao();return a=a||u&&Se(qv),a&&xl(a),a=Wv,a._s.has(r)||(i?Kv(r,t,s,a):HI(r,s,a)),a._s.get(r)}return o.$id=r,o}function aU(e){e=le(e);const t={};for(const n in e){const r=e[n];(Ye(r)||Xn(r))&&(t[n]=Xg(e,n))}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},YI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,u=l?e[s+2]:0,c=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw Error();const d=i<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},WI=function(e){const t=Gv(e);return Xv.encodeByteArray(t,!0)},Jv=function(e){return WI(e).replace(/\./g,"")},qI=function(e){try{return Xv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qv(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Hh(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Zv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){return dt().indexOf("Electron/")>=0}function ey(){const e=dt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function GI(){return dt().indexOf("MSAppHost/")>=0}function ty(){return typeof indexedDB=="object"}function ny(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function XI(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class sr extends Error{constructor(t,n,r){super(n);this.code=t,this.customData=r,this.name=JI,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ys.prototype.create)}}class ys{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?QI(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new sr(s,a,r)}}function QI(e,t){return e.replace(ZI,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function ek(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ao(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(jp(i)&&jp(o)){if(!ao(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tk(e,t){const n=new nk(e,t);return n.subscribe.bind(n)}class nk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rk(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Nu),s.error===void 0&&(s.error=Nu),s.complete===void 0&&(s.complete=Nu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rk(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Nu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=1e3,ik=2,ok=4*60*60*1e3,ak=.5;function Bp(e,t=sk,n=ik){const r=t*Math.pow(n,e),s=Math.round(ak*r*(Math.random()-.5)*2);return Math.min(ok,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e,t){return new Promise((n,r)=>{e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var i;r(`${t}: ${(i=s.target.error)===null||i===void 0?void 0:i.message}`)}})}class Hp{constructor(t){this._db=t,this.objectStoreNames=this._db.objectStoreNames}transaction(t,n){return new ry(this._db.transaction.call(this._db,t,n))}createObjectStore(t,n){return new sy(this._db.createObjectStore(t,n))}close(){this._db.close()}}class ry{constructor(t){this._transaction=t,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(t){return new sy(this._transaction.objectStore(t))}}class sy{constructor(t){this._store=t}index(t){return new Yp(this._store.index(t))}createIndex(t,n,r){return new Yp(this._store.createIndex(t,n,r))}get(t){const n=this._store.get(t);return Fi(n,"Error reading from IndexedDB")}put(t,n){const r=this._store.put(t,n);return Fi(r,"Error writing to IndexedDB")}delete(t){const n=this._store.delete(t);return Fi(n,"Error deleting from IndexedDB")}clear(){const t=this._store.clear();return Fi(t,"Error clearing IndexedDB object store")}}class Yp{constructor(t){this._index=t}get(t){const n=this._index.get(t);return Fi(n,"Error reading from IndexedDB")}}function iy(e,t,n){return new Promise((r,s)=>{try{const i=indexedDB.open(e,t);i.onsuccess=o=>{r(new Hp(o.target.result))},i.onerror=o=>{var a;s(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},i.onupgradeneeded=o=>{n(new Hp(i.result),o.oldVersion,o.newVersion,new ry(i.transaction))}}catch(i){s(`Error opening indexedDB: ${i.message}`)}})}class yn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new zI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ck(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uk(e){return e===Hr?void 0:e}function ck(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const dk={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},fk=Ce.INFO,pk={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},mk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=pk[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pl{constructor(t){this.name=t,this._logLevel=fk,this._logHandler=mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pc="@firebase/app",Wp="0.7.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Pl("@firebase/app"),yk="@firebase/app-compat",wk="@firebase/analytics-compat",bk="@firebase/analytics",_k="@firebase/app-check-compat",Ek="@firebase/app-check",Tk="@firebase/auth",Sk="@firebase/auth-compat",Ik="@firebase/database",kk="@firebase/database-compat",Ck="@firebase/functions",Ak="@firebase/functions-compat",Ok="@firebase/installations",Rk="@firebase/installations-compat",Dk="@firebase/messaging",xk="@firebase/messaging-compat",Pk="@firebase/performance",Mk="@firebase/performance-compat",Nk="@firebase/remote-config",Lk="@firebase/remote-config-compat",Fk="@firebase/storage",Uk="@firebase/storage-compat",$k="@firebase/firestore",Vk="@firebase/firestore-compat",jk="firebase",Bk="9.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",Hk={[Pc]:"fire-core",[yk]:"fire-core-compat",[bk]:"fire-analytics",[wk]:"fire-analytics-compat",[Ek]:"fire-app-check",[_k]:"fire-app-check-compat",[Tk]:"fire-auth",[Sk]:"fire-auth-compat",[Ik]:"fire-rtdb",[kk]:"fire-rtdb-compat",[Ck]:"fire-fn",[Ak]:"fire-fn-compat",[Ok]:"fire-iid",[Rk]:"fire-iid-compat",[Dk]:"fire-fcm",[xk]:"fire-fcm-compat",[Pk]:"fire-perf",[Mk]:"fire-perf-compat",[Nk]:"fire-rc",[Lk]:"fire-rc-compat",[Fk]:"fire-gcs",[Uk]:"fire-gcs-compat",[$k]:"fire-fst",[Vk]:"fire-fst-compat","fire-js":"fire-js",[jk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Map,Mc=new Map;function Yk(e,t){try{e.container.addComponent(t)}catch(n){Yh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pn(e){const t=e.name;if(Mc.has(t))return Yh.debug(`There were multiple attempts to register component ${t}.`),!1;Mc.set(t,e);for(const n of Ba.values())Yk(n,e);return!0}function ws(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},os=new ys("app","Firebase",Wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=Bk;function lU(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:oy,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw os.create("bad-app-name",{appName:String(r)});const s=Ba.get(r);if(s){if(ao(e,s.options)&&ao(n,s.config))return s;throw os.create("duplicate-app",{appName:r})}const i=new hk(r);for(const a of Mc.values())i.addComponent(a);const o=new qk(e,n,i);return Ba.set(r,o),o}function Wh(e=oy){const t=Ba.get(e);if(!t)throw os.create("no-app",{appName:e});return t}function sn(e,t,n){var r;let s=(r=Hk[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yh.warn(a.join(" "));return}Pn(new yn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebase-heartbeat-database",Kk=1,lo="firebase-heartbeat-store";let Lu=null;function ay(){return Lu||(Lu=iy(zk,Kk,(e,t)=>{switch(t){case 0:e.createObjectStore(lo)}}).catch(e=>{throw os.create("storage-open",{originalErrorMessage:e.message})})),Lu}async function Gk(e){try{return(await ay()).transaction(lo).objectStore(lo).get(ly(e))}catch(t){throw os.create("storage-get",{originalErrorMessage:t.message})}}async function qp(e,t){try{const r=(await ay()).transaction(lo,"readwrite");return await r.objectStore(lo).put(t,ly(e)),r.complete}catch(n){throw os.create("storage-set",{originalErrorMessage:n.message})}}function ly(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Jk=30*24*60*60*1e3;class Qk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Jk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zp(),{heartbeatsToSend:n,unsentEntries:r}=Zk(this._heartbeatsCache.heartbeats),s=Jv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zp(){return new Date().toISOString().substring(0,10)}function Zk(e,t=Xk){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Kp(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Kp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ty()?ny().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Gk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Kp(e){return Jv(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(e){Pn(new yn("platform-logger",t=>new gk(t),"PRIVATE")),Pn(new yn("heartbeat",t=>new Qk(t),"PRIVATE")),sn(Pc,Wp,e),sn(Pc,Wp,"esm2017"),sn("fire-js","")}t1("");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function uy(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n1=uy,cy=new ys("auth","Firebase",uy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Pl("@firebase/auth");function _a(e,...t){Gp.logLevel<=Ce.ERROR&&Gp.error(`Auth (${Ro}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(e,...t){throw zh(e,...t)}function Rn(e,...t){return zh(e,...t)}function hy(e,t,n){const r=Object.assign(Object.assign({},n1()),{[t]:n});return new ys("auth","Firebase",r).create(t,{appName:e.name})}function r1(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Mn(e,"argument-error"),hy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zh(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return cy.create(e,...t)}function ae(e,t,...n){if(!e)throw zh(t,...n)}function Wn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _a(t),new Error(t)}function er(e,t){e||Wn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Map;function qn(e){er(e instanceof Function,"Expected a class definition");let t=Xp.get(e);return t?(er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xp.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(e,t){const n=ws(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ao(i,t!=null?t:{}))return s;Mn(s,"already-initialized")}return n.initialize({options:t})}function i1(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function o1(){return Jp()==="http:"||Jp()==="https:"}function Jp(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o1()||Hh()||"connection"in navigator)?navigator.onLine:!0}function l1(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=Qv()||Zv()}get(){return a1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e,t){er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Do(3e4,6e4);function h1(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ml(e,t,n,r,s={}){return fy(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Oo(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),dy.fetch()(py(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})}async function fy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},u1),t);try{const s=new f1(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fu(e,"email-already-in-use",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hy(e,c,u);Mn(e,c)}}catch(s){if(s instanceof sr)throw s;Mn(e,"network-request-failed")}}async function d1(e,t,n,r,s={}){const i=await Ml(e,t,n,r,s);return"mfaPendingCredential"in i&&Mn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function py(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Kh(e.config,s):`${e.config.apiScheme}://${s}`}class f1{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),c1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rn(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(e,t){return Ml(e,"POST","/v1/accounts:delete",t)}async function m1(e,t){return Ml(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function g1(e,t=!1){const n=an(e),r=await n.getIdToken(t),s=Gh(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qi(Uu(s.auth_time)),issuedAtTime:qi(Uu(s.iat)),expirationTime:qi(Uu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Uu(e){return Number(e)*1e3}function Gh(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return _a("JWT malformed, contained fewer than 3 sections"),null;try{const s=qI(n);return s?JSON.parse(s):(_a("Failed to decode base64 JWT payload"),null)}catch(s){return _a("Caught error parsing JWT payload as JSON",s),null}}function v1(e){const t=Gh(e);return ae(t,"internal-error"),ae(typeof t.exp!="undefined","internal-error"),ae(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof sr&&y1(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function y1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(e){var t;const n=e.auth,r=await e.getIdToken(),s=await uo(e,m1(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?E1(i.providerUserInfo):[],a=_1(e.providerData,o),l=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function b1(e){const t=an(e);await Ha(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _1(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function E1(e){return e.map(t=>{var{providerId:n}=t,r=qh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(e,t){const n=await fy(e,{},async()=>{const r=Oo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=py(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dy.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken!="undefined","internal-error"),ae(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):v1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ae(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await T1(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new co;return r&&(ae(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(e,t){ae(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class ts{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=qh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new my(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await uo(this,this.stsTokenManager.getToken(this.auth,t));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return g1(this,t)}reload(){return b1(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ts(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ha(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await uo(this,p1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:I,emailVerified:x,isAnonymous:W,providerData:Y,stsTokenManager:R}=n;ae(I&&R,t,"internal-error");const ce=co.fromJSON(this.name,R);ae(typeof I=="string",t,"internal-error"),fr(h,t.name),fr(d,t.name),ae(typeof x=="boolean",t,"internal-error"),ae(typeof W=="boolean",t,"internal-error"),fr(f,t.name),fr(p,t.name),fr(g,t.name),fr(y,t.name),fr(w,t.name),fr(_,t.name);const te=new ts({uid:I,auth:t,email:d,emailVerified:x,displayName:h,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ce,createdAt:w,lastLoginAt:_});return Y&&Array.isArray(Y)&&(te.providerData=Y.map(we=>Object.assign({},we))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(t,n,r=!1){const s=new co;s.updateFromServerResponse(n);const i=new ts({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ha(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gy.type="NONE";const Qp=gy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e,t,n){return`firebase:${e}:${t}:${n}`}class js{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ea(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ea("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ts._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new js(qn(Qp),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||qn(Qp);const o=Ea(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ts._fromJSON(t,c);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new js(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new js(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_y(t))return"Blackberry";if(Ey(t))return"Webos";if(Xh(t))return"Safari";if((t.includes("chrome/")||yy(t))&&!t.includes("edge/"))return"Chrome";if(by(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vy(e=dt()){return/firefox\//i.test(e)}function Xh(e=dt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yy(e=dt()){return/crios\//i.test(e)}function wy(e=dt()){return/iemobile/i.test(e)}function by(e=dt()){return/android/i.test(e)}function _y(e=dt()){return/blackberry/i.test(e)}function Ey(e=dt()){return/webos/i.test(e)}function Nl(e=dt()){return/iphone|ipad|ipod/i.test(e)}function S1(e=dt()){var t;return Nl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I1(){return ey()&&document.documentMode===10}function Ty(e=dt()){return Nl(e)||by(e)||Ey(e)||_y(e)||/windows phone/i.test(e)||wy(e)}function k1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e,t=[]){let n;switch(e){case"Browser":n=Zp(dt());break;case"Worker":n=`${Zp(dt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new em(this),this.idTokenSubscription=new em(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await js.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t)}}async initializeCurrentUser(t){var n;let r=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,i=r==null?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);(!s||s===i)&&(o==null?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)):this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ha(t)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=l1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?an(t):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ys("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qn(t)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Sy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Jh(e){return an(e)}class em{constructor(t){this.auth=t,this.observer=null,this.addObserver=tk(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(t){return Wn("not implemented")}_linkToIdToken(t,n){return Wn("not implemented")}_getReauthenticationResolver(t){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(e,t){return d1(e,"POST","/v1/accounts:signInWithIdp",h1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="http://localhost";class as extends Iy{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(t){const n=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=qh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new as(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Bs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Bs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Bs(t,n)}buildRequest(){const t={requestUri:A1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Qh{constructor(){super(...arguments);this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends xo{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xo{constructor(){super("google.com");this.addScope("profile")}static credential(t,n){return as._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends xo{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends xo{constructor(){super("twitter.com")}static credential(t,n){return as._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await ts._fromIdTokenResponse(t,r,s),o=tm(r);return new ti({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=tm(r);return new ti({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function tm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends sr{constructor(t,n,r,s){var i;super(n.code,n.message);this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ya.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Ya(t,n,r,s)}}function ky(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ya._fromErrorAndOperation(e,i,t,r):i})}async function O1(e,t,n=!1){const r=await uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ti._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await uo(e,ky(r,s,t,e),n);ae(i.idToken,r,"internal-error");const o=Gh(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(e.uid===a,r,"user-mismatch"),ti._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(e,t,n=!1){const r="signIn",s=await ky(e,r,t),i=await ti._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function uU(e,t,n,r){return an(e).onAuthStateChanged(t,n,r)}const Wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wa,"1"),this.storage.removeItem(Wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){const e=dt();return Xh(e)||Nl(e)}const P1=1e3,M1=10;class Ay extends Cy{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=x1()&&k1(),this.fallbackToPolling=Ty(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);I1()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,M1):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},P1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ay.type="LOCAL";const N1=Ay;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Cy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Oy.type="SESSION";const Ry=Oy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Ll(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await L1(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Zh("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function U1(e){Dn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return typeof Dn().WorkerGlobalScope!="undefined"&&typeof Dn().importScripts=="function"}async function $1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V1(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function j1(){return Dy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="firebaseLocalStorageDb",B1=1,qa="firebaseLocalStorage",Py="fbase_key";class Po{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fl(e,t){return e.transaction([qa],t?"readwrite":"readonly").objectStore(qa)}function H1(){const e=indexedDB.deleteDatabase(xy);return new Po(e).toPromise()}function Lc(){const e=indexedDB.open(xy,B1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(qa,{keyPath:Py})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(qa)?t(r):(r.close(),await H1(),t(await Lc()))})})}async function nm(e,t,n){const r=Fl(e,!0).put({[Py]:t,value:n});return new Po(r).toPromise()}async function Y1(e,t){const n=Fl(e,!1).get(t),r=await new Po(n).toPromise();return r===void 0?null:r.value}function rm(e,t){const n=Fl(e,!0).delete(t);return new Po(n).toPromise()}const W1=800,q1=3;class My{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lc(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>q1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ll._getInstance(j1()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await $1(),!this.activeServiceWorker)return;this.sender=new F1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||V1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lc();return await nm(t,Wa,"1"),await rm(t,Wa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nm(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Y1(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rm(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Fl(s,!1).getAll();return new Po(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}My.type="LOCAL";const z1=My;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function G1(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=Rn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",K1().appendChild(r)})}function X1(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Do(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e,t){return t?qn(t):(ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Iy{constructor(t){super("custom","custom");this.params=t}_getIdTokenResponse(t){return Bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function J1(e){return D1(e.auth,new ed(e),e.bypassAuthState)}function Q1(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),R1(n,new ed(e),e.bypassAuthState)}async function Z1(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),O1(n,new ed(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J1;case"linkViaPopup":case"linkViaRedirect":return Z1;case"reauthViaPopup":case"reauthViaRedirect":return Q1;default:Mn(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Do(2e3,1e4);async function cU(e,t,n){const r=Jh(e);r1(e,t,Qh);const s=Ny(r,n);return new zr(r,"signInViaPopup",t,s).executeNotNull()}class zr extends Ly{constructor(t,n,r,s,i){super(t,n,s,i);this.provider=r,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,eC.get())};t()}}zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="pendingRedirect",$u=new Map;class nC extends Ly{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r);this.eventId=null}async execute(){let t=$u.get(this.auth._key());if(!t){try{const r=await rC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}$u.set(this.auth._key(),t)}return this.bypassAuthState||$u.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(e,t){const n=iC(t),r=sC(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sC(e){return qn(e._redirectPersistence)}function iC(e){return Ea(tC,e.config.apiKey,e.name)}async function oC(e,t,n=!1){const r=Jh(e),s=Ny(r,t),o=await new nC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=10*60*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Fy(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(sm(t))}saveEventToCache(t){this.cachedEventUids.add(sm(t)),this.lastProcessedEventTime=Date.now()}}function sm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Fy({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function uC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fy(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(e,t={}){return Ml(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function fC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await cC(e);for(const n of t)try{if(pC(n))return}catch{}Mn(e,"unauthorized-domain")}function pC(e){const t=Nc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dC.test(n))return!1;if(hC.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Do(3e4,6e4);function im(){const e=Dn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function gC(e){return new Promise((t,n)=>{var r,s,i;function o(){im(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{im(),n(Rn(e,"network-request-failed"))},timeout:mC.get()})}if(!((s=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=Dn().gapi)===null||i===void 0)&&i.load)o();else{const a=X1("iframefcb");return Dn()[a]=()=>{gapi.load?o():n(Rn(e,"network-request-failed"))},G1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ta=null,t})}let Ta=null;function vC(e){return Ta=Ta||gC(e),Ta}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Do(5e3,15e3),wC="__/auth/iframe",bC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(e){const t=e.config;ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kh(t,bC):`https://${e.config.authDomain}/${wC}`,r={apiKey:t.apiKey,appName:e.name,v:Ro},s=EC.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oo(r).slice(1)}`}async function SC(e){const t=await vC(e),n=Dn().gapi;return ae(n,e,"internal-error"),t.open({where:document.body,url:TC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rn(e,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},yC.get());function l(){Dn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kC=500,CC=600,AC="_blank",OC="http://localhost";class om{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(e,t,n,r=kC,s=CC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IC),{width:r.toString(),height:s.toString(),top:i,left:o}),u=dt().toLowerCase();n&&(a=yy(u)?AC:n),vy(u)&&(t=t||OC,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(S1(u)&&a!=="_self")return DC(t||"",a),new om(null);const h=window.open(t||"",a,c);ae(h,e,"popup-blocked");try{h.focus()}catch{}return new om(h)}function DC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="__/auth/handler",PC="emulator/auth/handler";function am(e,t,n,r,s,i){ae(e.config.authDomain,e,"auth-domain-config-required"),ae(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ro,eventId:s};if(t instanceof Qh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ek(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(i||{}))o[l]=u}if(t instanceof xo){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${MC(e)}?${Oo(a).slice(1)}`}function MC({config:e}){return e.emulator?Kh(e,PC):`https://${e.authDomain}/${xC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ry,this._completeRedirectFn=oC}async _openPopup(t,n,r,s){var i;er((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=am(t,n,r,Nc(),s);return RC(t,o,Zh())}async _openRedirect(t,n,r,s){return await this._originValidation(t),U1(am(t,n,r,Nc(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(er(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await SC(t),r=new lC(t);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vu,{type:Vu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vu];o!==void 0&&n(!!o),Mn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ty()||Xh()||Nl()}}const LC=NC;var lm="@firebase/auth",um="0.19.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var s;t(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $C(e){Pn(new yn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((a,l)=>{ae(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ae(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sy(e)},c=new C1(a,l,u);return i1(c,n),c})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Pn(new yn("auth-internal",t=>{const n=Jh(t.getProvider("auth").getImmediate());return(r=>new FC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(lm,um,UC(e)),sn(lm,um,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(e=Wh()){const t=ws(e,"auth");return t.isInitialized()?t.getImmediate():s1(e,{popupRedirectResolver:LC,persistence:[z1,N1,Ry]})}$C("Browser");function st(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,st),r}function ue(r){var s=r,{visible:e=!0,features:t=0}=s,n=dn(s,["visible","features"]);var i;if(e||t&2&&n.props.static)return ju(n);if(t&1){let o=(i=n.props.unmount)==null||i?0:1;return st(o,{[0](){return null},[1](){return ju(Dt(j({},n),{props:Dt(j({},n.props),{hidden:!0,style:{display:"none"}})}))}})}return ju(n)}function ju({props:e,attrs:t,slots:n,slot:r,name:s}){var i;let u=Mr(e,["unmount","static"]),{as:o}=u,a=dn(u,["as"]),l=(i=n.default)==null?void 0:i.call(n,r);if(o==="template"){if(Object.keys(a).length>0||Object.keys(t).length>0){let[c,...h]=l!=null?l:[];if(!VC(c)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(a).concat(Object.keys(t)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));return is(c,a)}return Array.isArray(l)&&l.length===1?l[0]:l}return pn(o,a,l)}function Mr(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function VC(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var jC=0;function BC(){return++jC}function Pe(){return BC()}function HC(e){throw new Error("Unexpected object: "+e)}function td(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r!=null?r:-1,i=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>s!==-1&&u.length-l-1>=s?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=s?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:HC(e)}})();return i===-1?r:i}function k(e){return e==null||e.value==null?null:"$el"in e.value?e.value.$el:e.value}function ln(e,t,n){typeof window!="undefined"&&tt(r=>{window.addEventListener(e,t,n),r(()=>{window.removeEventListener(e,t,n)})})}var Uy=Symbol("Context");function YC(){return ir()!==null}function ir(){return Se(Uy,null)}function mi(e){qe(Uy,e)}function cm(e,t){if(e)return e;let n=t!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function bs(e,t){let n=M(cm(e.value.type,e.value.as));return et(()=>{n.value=cm(e.value.type,e.value.as)}),tt(()=>{var r;n.value||!k(t)||k(t)instanceof HTMLButtonElement&&!((r=k(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}function nd({container:e,accept:t,walk:n,enabled:r}){tt(()=>{let s=e.value;if(!s||r!==void 0&&!r.value)return;let i=Object.assign(a=>t(a),{acceptNode:t}),o=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,i,!1);for(;o.nextNode();)n(o.currentNode)})}var $y=Symbol("ComboboxContext");function gi(e){let t=Se($y,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gi),n}return t}ie({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(1),i=M(null),o=M(null),a=M(null),l=M(null),u=M({static:!1,hold:!1}),c=M([]),h=M(null),d=F(()=>e.modelValue),f={comboboxState:s,value:d,inputRef:o,labelRef:i,buttonRef:a,optionsRef:l,disabled:F(()=>e.disabled),options:c,activeOptionIndex:h,inputPropsRef:M({displayValue:void 0}),optionsPropsRef:u,closeCombobox(){e.disabled||s.value!==1&&(s.value=1,h.value=null)},openCombobox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(g,y){if(e.disabled||l.value&&!u.value.static&&s.value===1)return;let w=td(g===4?{focus:4,id:y}:{focus:g},{resolveItems:()=>c.value,resolveActiveIndex:()=>h.value,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.disabled});h.value!==w&&(h.value=w)},syncInputValue(){let g=f.value.value;if(!k(f.inputRef)||g===void 0)return;let y=f.inputPropsRef.value.displayValue;typeof y=="function"?f.inputRef.value.value=y(g):typeof g=="string"&&(f.inputRef.value.value=g)},selectOption(g){let y=c.value.find(_=>_.id===g);if(!y)return;let{dataRef:w}=y;r("update:modelValue",w.value),f.syncInputValue()},selectActiveOption(){if(h.value===null)return;let{dataRef:g}=c.value[h.value];r("update:modelValue",g.value),f.syncInputValue()},registerOption(g,y){var w,_;let I=h.value!==null?c.value[h.value]:null,x=Array.from((_=(w=l.value)==null?void 0:w.querySelectorAll('[id^="headlessui-combobox-option-"]'))!=null?_:[]).reduce((W,Y,R)=>Object.assign(W,{[Y.id]:R}),{});c.value=[...c.value,{id:g,dataRef:y}].sort((W,Y)=>x[W.id]-x[Y.id]),h.value=(()=>I===null?null:c.value.indexOf(I))()},unregisterOption(g){let y=c.value.slice(),w=h.value!==null?y[h.value]:null,_=y.findIndex(I=>I.id===g);_!==-1&&y.splice(_,1),c.value=y,h.value=(()=>_===h.value||w===null?null:y.indexOf(w))()}};ln("mousedown",g=>{var y,w,_;let I=g.target;s.value===0&&(((y=k(o))==null?void 0:y.contains(I))||((w=k(a))==null?void 0:w.contains(I))||((_=k(l))==null?void 0:_.contains(I))||f.closeCombobox())}),kt([f.value,f.inputRef],()=>f.syncInputValue(),{immediate:!0}),qe($y,f),mi(F(()=>st(s.value,{[0]:0,[1]:1})));let p=F(()=>h.value===null?null:c.value[h.value].dataRef.value);return()=>{let g={open:s.value===0,disabled:e.disabled,activeIndex:h.value,activeOption:p.value};return ue({props:Mr(e,["modelValue","onUpdate:modelValue","disabled"]),slot:g,slots:t,attrs:n,name:"Combobox"})}}});ie({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:n}){let r=gi("ComboboxLabel"),s=`headlessui-combobox-label-${Pe()}`;function i(){var o;(o=k(r.inputRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:r.comboboxState.value===0,disabled:r.disabled.value},a={id:s,ref:r.labelRef,onClick:i};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,name:"ComboboxLabel"})}}});ie({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=gi("ComboboxButton"),s=`headlessui-combobox-button-${Pe()}`;function i(l){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(l.preventDefault(),r.openCombobox()),Ae(()=>{var u;return(u=k(r.inputRef))==null?void 0:u.focus({preventScroll:!0})}))}function o(l){switch(l.key){case"ArrowDown":l.preventDefault(),l.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),Ae(()=>{r.value.value||r.goToOption(0)})),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case"ArrowUp":l.preventDefault(),l.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),Ae(()=>{r.value.value||r.goToOption(3)})),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case"Escape":l.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&l.stopPropagation(),r.closeCombobox(),Ae(()=>{var u;return(u=r.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return}}let a=bs(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var l,u;let c={open:r.comboboxState.value===0,disabled:r.disabled.value},h={ref:r.buttonRef,id:s,type:a.value,tabindex:"-1","aria-haspopup":!0,"aria-controls":(l=k(r.optionsRef))==null?void 0:l.id,"aria-expanded":r.disabled.value?void 0:r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(u=k(r.labelRef))==null?void 0:u.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:o,onClick:i};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,name:"ComboboxButton"})}}});ie({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=gi("ComboboxInput"),i=`headlessui-combobox-input-${Pe()}`;s.inputPropsRef=F(()=>e);function o(l){switch(l.key){case"Enter":l.preventDefault(),l.stopPropagation(),s.selectActiveOption(),s.closeCombobox();break;case"ArrowDown":return l.preventDefault(),l.stopPropagation(),st(s.comboboxState.value,{[0]:()=>s.goToOption(2),[1]:()=>{s.openCombobox(),Ae(()=>{s.value.value||s.goToOption(0)})}});case"ArrowUp":return l.preventDefault(),l.stopPropagation(),st(s.comboboxState.value,{[0]:()=>s.goToOption(1),[1]:()=>{s.openCombobox(),Ae(()=>{s.value.value||s.goToOption(3)})}});case"Home":case"PageUp":return l.preventDefault(),l.stopPropagation(),s.goToOption(0);case"End":case"PageDown":return l.preventDefault(),l.stopPropagation(),s.goToOption(3);case"Escape":l.preventDefault(),s.optionsRef.value&&!s.optionsPropsRef.value.static&&l.stopPropagation(),s.closeCombobox();break;case"Tab":s.selectActiveOption(),s.closeCombobox();break}}function a(l){s.openCombobox(),t("change",l)}return()=>{var l,u,c,h,d;let f={open:s.comboboxState.value===0},p={"aria-controls":(l=s.optionsRef.value)==null?void 0:l.id,"aria-expanded":s.disabled?void 0:s.comboboxState.value===0,"aria-activedescendant":s.activeOptionIndex.value===null||(u=s.options.value[s.activeOptionIndex.value])==null?void 0:u.id,"aria-labelledby":(d=(c=k(s.labelRef))==null?void 0:c.id)!=null?d:(h=k(s.buttonRef))==null?void 0:h.id,id:i,onKeydown:o,onChange:a,onInput:a,role:"combobox",type:"text",tabIndex:0,ref:s.inputRef},g=Mr(e,["displayValue"]);return ue({props:j(j({},g),p),slot:f,attrs:n,slots:r,features:3,name:"ComboboxInput"})}}});ie({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=gi("ComboboxOptions"),s=`headlessui-combobox-options-${Pe()}`;tt(()=>{r.optionsPropsRef.value.static=e.static}),tt(()=>{r.optionsPropsRef.value.hold=e.hold});let i=ir(),o=F(()=>i!==null?i.value===0:r.comboboxState.value===0);return nd({container:F(()=>k(r.optionsRef)),enabled:F(()=>r.comboboxState.value===0),accept(a){return a.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}}),()=>{var a,l,u,c;let h={open:r.comboboxState.value===0},d={"aria-activedescendant":r.activeOptionIndex.value===null||(a=r.options.value[r.activeOptionIndex.value])==null?void 0:a.id,"aria-labelledby":(c=(l=k(r.labelRef))==null?void 0:l.id)!=null?c:(u=k(r.buttonRef))==null?void 0:u.id,id:s,ref:r.optionsRef,role:"listbox"},f=Mr(e,["hold"]);return ue({props:j(j({},f),d),slot:h,attrs:t,slots:n,features:3,visible:o.value,name:"ComboboxOptions"})}}});ie({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=gi("ComboboxOption"),s=`headlessui-combobox-option-${Pe()}`,i=F(()=>r.activeOptionIndex.value!==null?r.options.value[r.activeOptionIndex.value].id===s:!1),o=F(()=>le(r.value.value)===le(e.value)),a=F(()=>({disabled:e.disabled,value:e.value}));et(()=>r.registerOption(s,a)),mt(()=>r.unregisterOption(s)),et(()=>{kt([r.comboboxState,o],()=>{r.comboboxState.value===0&&(!o.value||r.goToOption(4,s))},{immediate:!0})}),tt(()=>{r.comboboxState.value===0&&(!i.value||Ae(()=>{var d,f;return(f=(d=document.getElementById(s))==null?void 0:d.scrollIntoView)==null?void 0:f.call(d,{block:"nearest"})}))});function l(d){if(e.disabled)return d.preventDefault();r.selectOption(s),r.closeCombobox(),Ae(()=>{var f;return(f=k(r.inputRef))==null?void 0:f.focus({preventScroll:!0})})}function u(){if(e.disabled)return r.goToOption(5);r.goToOption(4,s)}function c(){e.disabled||i.value||r.goToOption(4,s)}function h(){e.disabled||!i.value||r.optionsPropsRef.value.hold||r.goToOption(5)}return()=>{let{disabled:d}=e,f={active:i.value,selected:o.value,disabled:d},p={id:s,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":o.value===!0?o.value:void 0,disabled:void 0,onClick:l,onFocus:u,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:t,name:"ComboboxOption"})}}});var Fc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function za(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Fc))}function WC(e,t=0){return e===document.body?!1:st(t,{[0](){return e.matches(Fc)},[1](){let n=e;for(;n!==null;){if(n.matches(Fc))return!0;n=n.parentElement}return!1}})}function Di(e){e==null||e.focus({preventScroll:!0})}function vt(e,t){let n=Array.isArray(e)?e.slice().sort((c,h)=>{let d=c.compareDocumentPosition(h);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0}):za(e),r=document.activeElement,s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,n.indexOf(r))-1;if(t&4)return Math.max(0,n.indexOf(r))+1;if(t&8)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=t&32?{preventScroll:!0}:{},a=0,l=n.length,u;do{if(a>=l||a+l<=0)return 0;let c=i+a;if(t&16)c=(c+l)%l;else{if(c<0)return 3;if(c>=l)return 1}u=n[c],u==null||u.focus(o),a+=s}while(u!==document.activeElement);return u.hasAttribute("tabindex")||u.setAttribute("tabindex","0"),2}function Uc(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Vy(e,t=M(!0),n=M({})){let r=M(typeof window!="undefined"?document.activeElement:null),s=M(null);function i(){if(!t.value||e.value.size!==1)return;let{initialFocus:a}=n.value,l=document.activeElement;if(a){if(a===l)return}else if(Uc(e.value,l))return;if(r.value=l,a)Di(a);else{let u=!1;for(let c of e.value)if(vt(c,1)===2){u=!0;break}u||console.warn("There are no focusable elements inside the <FocusTrap />")}s.value=document.activeElement}function o(){Di(r.value),r.value=null,s.value=null}tt(i),Nh(()=>{t.value?i():o()}),mt(o),ln("keydown",a=>{if(!!t.value&&a.key==="Tab"&&!!document.activeElement&&e.value.size===1){a.preventDefault();for(let l of e.value)if(vt(l,(a.shiftKey?2:4)|16)===2){s.value=document.activeElement;break}}}),ln("focus",a=>{if(!t.value||e.value.size!==1)return;let l=s.value;if(!l)return;let u=a.target;u&&u instanceof HTMLElement?Uc(e.value,u)?(s.value=u,Di(u)):(a.preventDefault(),a.stopPropagation(),Di(l)):Di(s.value)},!0)}var hm="body > *",Os=new Set,mr=new Map;function dm(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function fm(e){let t=mr.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function qC(e,t=M(!0)){tt(n=>{if(!t.value||!e.value)return;let r=e.value;Os.add(r);for(let s of mr.keys())s.contains(r)&&(fm(s),mr.delete(s));document.querySelectorAll(hm).forEach(s=>{if(s instanceof HTMLElement){for(let i of Os)if(s.contains(i))return;Os.size===1&&(mr.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),dm(s))}}),n(()=>{if(Os.delete(r),Os.size>0)document.querySelectorAll(hm).forEach(s=>{if(s instanceof HTMLElement&&!mr.has(s)){for(let i of Os)if(s.contains(i))return;mr.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),dm(s)}});else for(let s of mr.keys())fm(s),mr.delete(s)})})}var jy=Symbol("StackContext");function By(){return Se(jy,()=>{})}function zC(e){let t=By();tt(n=>{let r=e==null?void 0:e.value;!r||(t(0,r),n(()=>t(1,r)))})}function Hy(e){let t=By();function n(...r){e==null||e(...r),t(...r)}qe(jy,n)}var Yy=Symbol("ForcePortalRootContext");function KC(){return Se(Yy,!1)}var pm=ie({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return qe(Yy,e.force),()=>{let i=e,{force:r}=i,s=dn(i,["force"]);return ue({props:s,slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function GC(){let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}var XC=ie({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=KC(),s=Se(Wy,null),i=M(r===!0||s===null?GC():s.resolveTarget());tt(()=>{r||s!==null&&(i.value=s.resolveTarget())});let o=M(null);return zC(o),mt(()=>{var a;let l=document.getElementById("headlessui-portal-root");!l||i.value===l&&i.value.children.length<=0&&((a=i.value.parentElement)==null||a.removeChild(i.value))}),Hy(),()=>{if(i.value===null)return null;let a={ref:o};return pn(fT,{to:i.value},ue({props:j(j({},e),a),slot:{},attrs:n,slots:t,name:"Portal"}))}}}),Wy=Symbol("PortalGroupContext"),JC=ie({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=vs({resolveTarget(){return e.target}});return qe(Wy,r),()=>{let o=e,{target:s}=o,i=dn(o,["target"]);return ue({props:i,slot:{},attrs:t,slots:n,name:"PortalGroup"})}}}),qy=Symbol("DescriptionContext");function QC(){let e=Se(qy,null);if(e===null)throw new Error("Missing parent");return e}function Ul({slot:e=M({}),name:t="Description",props:n={}}={}){let r=M([]);function s(i){return r.value.push(i),()=>{let o=r.value.indexOf(i);o!==-1&&r.value.splice(o,1)}}return qe(qy,{register:s,slot:e,name:t,props:n}),F(()=>r.value.length>0?r.value.join(" "):void 0)}ie({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:n}){let r=QC(),s=`headlessui-description-${Pe()}`;return et(()=>mt(r.register(s))),()=>{let{name:i="Description",slot:o=M({}),props:a={}}=r,l=e,u=Dt(j({},Object.entries(a).reduce((c,[h,d])=>Object.assign(c,{[h]:On(d)}),{})),{id:s});return ue({props:j(j({},l),u),slot:o.value,attrs:t,slots:n,name:i})}}});var zy=Symbol("DialogContext");function rd(e){let t=Se(zy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rd),n}return t}var ua="DC8F892D-2EBD-447C-A4C8-A03058436FF4",dU=ie({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:ua},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=M(new Set),i=ir(),o=F(()=>e.open===ua&&i!==null?st(i.value,{[0]:!0,[1]:!1}):e.open);if(!(e.open!==ua||i!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof o.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o.value===ua?void 0:e.open}`);let a=F(()=>e.open?0:1),l=F(()=>i!==null?i.value===0:a.value===0),u=M(null),c=M(a.value===0);Nh(()=>{c.value=a.value===0});let h=`headlessui-dialog-${Pe()}`,d=F(()=>({initialFocus:e.initialFocus}));Vy(s,c,d),qC(u,c),Hy((w,_)=>st(w,{[0](){s.value.add(_)},[1](){s.value.delete(_)}}));let f=Ul({name:"DialogDescription",slot:F(()=>({open:o.value}))}),p=M(null),g={titleId:p,dialogState:a,setTitleId(w){p.value!==w&&(p.value=w)},close(){t("close",!1)}};qe(zy,g),ln("mousedown",w=>{let _=w.target;a.value===0&&s.value.size===1&&(Uc(s.value,_)||(g.close(),Ae(()=>_==null?void 0:_.focus())))}),ln("keydown",w=>{w.key==="Escape"&&a.value===0&&(s.value.size>1||(w.preventDefault(),w.stopPropagation(),g.close()))}),tt(w=>{if(a.value!==0)return;let _=document.documentElement.style.overflow,I=document.documentElement.style.paddingRight,x=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${x}px`,w(()=>{document.documentElement.style.overflow=_,document.documentElement.style.paddingRight=I})}),tt(w=>{if(a.value!==0)return;let _=k(u);if(!_)return;let I=new IntersectionObserver(x=>{for(let W of x)W.boundingClientRect.x===0&&W.boundingClientRect.y===0&&W.boundingClientRect.width===0&&W.boundingClientRect.height===0&&g.close()});I.observe(_),w(()=>I.disconnect())});function y(w){w.stopPropagation()}return()=>{let w=Dt(j({},n),{ref:u,id:h,role:"dialog","aria-modal":a.value===0?!0:void 0,"aria-labelledby":p.value,"aria-describedby":f.value,onClick:y}),Y=e,{open:_,initialFocus:I}=Y,x=dn(Y,["open","initialFocus"]),W={open:a.value===0};return pn(pm,{force:!0},()=>pn(XC,()=>pn(JC,{target:u.value},()=>pn(pm,{force:!1},()=>ue({props:j(j({},x),w),slot:W,attrs:n,slots:r,visible:l.value,features:3,name:"Dialog"})))))}}}),fU=ie({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=rd("DialogOverlay"),s=`headlessui-dialog-overlay-${Pe()}`;function i(o){o.target===o.currentTarget&&(o.preventDefault(),o.stopPropagation(),r.close())}return()=>ue({props:Dt(j({},e),{id:s,"aria-hidden":!0,onClick:i}),slot:{open:r.dialogState.value===0},attrs:t,slots:n,name:"DialogOverlay"})}}),pU=ie({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:t,slots:n}){let r=rd("DialogTitle"),s=`headlessui-dialog-title-${Pe()}`;return et(()=>{r.setTitleId(s),mt(()=>r.setTitleId(null))}),()=>ue({props:Dt(j({},e),{id:s}),slot:{open:r.dialogState.value===0},attrs:t,slots:n,name:"DialogTitle"})}}),Ky=Symbol("DisclosureContext");function sd(e){let t=Se(Ky,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,sd),n}return t}var Gy=Symbol("DisclosurePanelContext");function ZC(){return Se(Gy,null)}ie({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let r=`headlessui-disclosure-button-${Pe()}`,s=`headlessui-disclosure-panel-${Pe()}`,i=M(e.defaultOpen?0:1),o=M(null),a=M(null),l={buttonId:r,panelId:s,disclosureState:i,panel:o,button:a,toggleDisclosure(){i.value=st(i.value,{[0]:1,[1]:0})},closeDisclosure(){i.value!==1&&(i.value=1)},close(u){l.closeDisclosure();let c=(()=>u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?k(u):k(l.button):k(l.button))();c==null||c.focus()}};return qe(Ky,l),mi(F(()=>st(i.value,{[0]:0,[1]:1}))),()=>{let d=e,{defaultOpen:u}=d,c=dn(d,["defaultOpen"]),h={open:i.value===0,close:l.close};return ue({props:c,slot:h,slots:t,attrs:n,name:"Disclosure"})}}});ie({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=sd("DisclosureButton"),s=ZC(),i=s===null?!1:s===r.panelId,o=M(null);i||tt(()=>{r.button.value=o.value});let a=bs(F(()=>({as:e.as,type:t.type})),o);function l(){var h;e.disabled||(i?(r.toggleDisclosure(),(h=k(r.button))==null||h.focus()):r.toggleDisclosure())}function u(h){var d;if(!e.disabled)if(i)switch(h.key){case" ":case"Enter":h.preventDefault(),h.stopPropagation(),r.toggleDisclosure(),(d=k(r.button))==null||d.focus();break}else switch(h.key){case" ":case"Enter":h.preventDefault(),h.stopPropagation(),r.toggleDisclosure();break}}function c(h){switch(h.key){case" ":h.preventDefault();break}}return()=>{let h={open:r.disclosureState.value===0},d=i?{ref:o,type:a.value,onClick:l,onKeydown:u}:{id:r.buttonId,ref:o,type:a.value,"aria-expanded":e.disabled?void 0:r.disclosureState.value===0,"aria-controls":k(r.panel)?r.panelId:void 0,disabled:e.disabled?!0:void 0,onClick:l,onKeydown:u,onKeyup:c};return ue({props:j(j({},e),d),slot:h,attrs:t,slots:n,name:"DisclosureButton"})}}});ie({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=sd("DisclosurePanel");qe(Gy,r.panelId);let s=ir(),i=F(()=>s!==null?s.value===0:r.disclosureState.value===0);return()=>{let o={open:r.disclosureState.value===0,close:r.close},a={id:r.panelId,ref:r.panel};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,features:3,visible:i.value,name:"DisclosurePanel"})}}});ie({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=M(new Set),s=M(null),i=M(!0),o=F(()=>({initialFocus:e.initialFocus}));return et(()=>{!s.value||(r.value.add(s.value),Vy(r,i,o))}),mt(()=>{i.value=!1}),()=>{let a={},l={ref:s},h=e,{initialFocus:u}=h,c=dn(h,["initialFocus"]);return ue({props:j(j({},c),l),slot:a,attrs:t,slots:n,name:"FocusTrap"})}}});function eA(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var Xy=Symbol("ListboxContext");function Mo(e){let t=Se(Xy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mo),n}return t}ie({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(1),i=M(null),o=M(null),a=M(null),l=M([]),u=M(""),c=M(null),h=F(()=>e.modelValue),d={listboxState:s,value:h,orientation:F(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:o,optionsRef:a,disabled:F(()=>e.disabled),options:l,searchQuery:u,activeOptionIndex:c,closeListbox(){e.disabled||s.value!==1&&(s.value=1,c.value=null)},openListbox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(f,p){if(e.disabled||s.value===1)return;let g=td(f===4?{focus:4,id:p}:{focus:f},{resolveItems:()=>l.value,resolveActiveIndex:()=>c.value,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});u.value===""&&c.value===g||(u.value="",c.value=g)},search(f){if(e.disabled||s.value===1)return;let p=u.value!==""?0:1;u.value+=f.toLowerCase();let g=(c.value!==null?l.value.slice(c.value+p).concat(l.value.slice(0,c.value+p)):l.value).find(w=>w.dataRef.textValue.startsWith(u.value)&&!w.dataRef.disabled),y=g?l.value.indexOf(g):-1;y===-1||y===c.value||(c.value=y)},clearSearch(){e.disabled||s.value!==1&&u.value!==""&&(u.value="")},registerOption(f,p){var g,y;let w=Array.from((y=(g=a.value)==null?void 0:g.querySelectorAll('[id^="headlessui-listbox-option-"]'))!=null?y:[]).reduce((_,I,x)=>Object.assign(_,{[I.id]:x}),{});l.value=[...l.value,{id:f,dataRef:p}].sort((_,I)=>w[_.id]-w[I.id])},unregisterOption(f){let p=l.value.slice(),g=c.value!==null?p[c.value]:null,y=p.findIndex(w=>w.id===f);y!==-1&&p.splice(y,1),l.value=p,c.value=(()=>y===c.value||g===null?null:p.indexOf(g))()},select(f){e.disabled||r("update:modelValue",f)}};return ln("mousedown",f=>{var p,g,y;let w=f.target,_=document.activeElement;s.value===0&&((p=k(o))!=null&&p.contains(w)||((g=k(a))!=null&&g.contains(w)||d.closeListbox(),!(_!==document.body&&(_==null?void 0:_.contains(w)))&&(f.defaultPrevented||(y=k(o))==null||y.focus({preventScroll:!0}))))}),qe(Xy,d),mi(F(()=>st(s.value,{[0]:0,[1]:1}))),()=>{let f={open:s.value===0,disabled:e.disabled};return ue({props:Mr(e,["modelValue","onUpdate:modelValue","disabled","horizontal"]),slot:f,slots:t,attrs:n,name:"Listbox"})}}});ie({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:n}){let r=Mo("ListboxLabel"),s=`headlessui-listbox-label-${Pe()}`;function i(){var o;(o=k(r.buttonRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:r.listboxState.value===0,disabled:r.disabled.value},a={id:s,ref:r.labelRef,onClick:i};return ue({props:j(j({},e),a),slot:o,attrs:t,slots:n,name:"ListboxLabel"})}}});ie({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=Mo("ListboxButton"),s=`headlessui-listbox-button-${Pe()}`;function i(u){switch(u.key){case" ":case"Enter":case"ArrowDown":u.preventDefault(),r.openListbox(),Ae(()=>{var c;(c=k(r.optionsRef))==null||c.focus({preventScroll:!0}),r.value.value||r.goToOption(0)});break;case"ArrowUp":u.preventDefault(),r.openListbox(),Ae(()=>{var c;(c=k(r.optionsRef))==null||c.focus({preventScroll:!0}),r.value.value||r.goToOption(3)});break}}function o(u){switch(u.key){case" ":u.preventDefault();break}}function a(u){r.disabled.value||(r.listboxState.value===0?(r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),r.openListbox(),eA(()=>{var c;return(c=k(r.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=bs(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var u,c;let h={open:r.listboxState.value===0,disabled:r.disabled.value},d={ref:r.buttonRef,id:s,type:l.value,"aria-haspopup":!0,"aria-controls":(u=k(r.optionsRef))==null?void 0:u.id,"aria-expanded":r.disabled.value?void 0:r.listboxState.value===0,"aria-labelledby":r.labelRef.value?[(c=k(r.labelRef))==null?void 0:c.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:o,onClick:a};return ue({props:j(j({},e),d),slot:h,attrs:t,slots:n,name:"ListboxButton"})}}});ie({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=Mo("ListboxOptions"),s=`headlessui-listbox-options-${Pe()}`,i=M(null);function o(u){switch(i.value&&clearTimeout(i.value),u.key){case" ":if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case"Enter":if(u.preventDefault(),u.stopPropagation(),r.activeOptionIndex.value!==null){let{dataRef:c}=r.options.value[r.activeOptionIndex.value];r.select(c.value)}r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case st(r.orientation.value,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return u.preventDefault(),u.stopPropagation(),r.goToOption(2);case st(r.orientation.value,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return u.preventDefault(),u.stopPropagation(),r.goToOption(1);case"Home":case"PageUp":return u.preventDefault(),u.stopPropagation(),r.goToOption(0);case"End":case"PageDown":return u.preventDefault(),u.stopPropagation(),r.goToOption(3);case"Escape":u.preventDefault(),u.stopPropagation(),r.closeListbox(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case"Tab":u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(r.search(u.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}let a=ir(),l=F(()=>a!==null?a.value===0:r.listboxState.value===0);return()=>{var u,c,h,d;let f={open:r.listboxState.value===0},p={"aria-activedescendant":r.activeOptionIndex.value===null||(u=r.options.value[r.activeOptionIndex.value])==null?void 0:u.id,"aria-labelledby":(d=(c=k(r.labelRef))==null?void 0:c.id)!=null?d:(h=k(r.buttonRef))==null?void 0:h.id,"aria-orientation":r.orientation.value,id:s,onKeydown:o,role:"listbox",tabIndex:0,ref:r.optionsRef};return ue({props:j(j({},e),p),slot:f,attrs:t,slots:n,features:3,visible:l.value,name:"ListboxOptions"})}}});ie({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=Mo("ListboxOption"),s=`headlessui-listbox-option-${Pe()}`,i=F(()=>r.activeOptionIndex.value!==null?r.options.value[r.activeOptionIndex.value].id===s:!1),o=F(()=>le(r.value.value)===le(e.value)),a=M({disabled:e.disabled,value:e.value,textValue:""});et(()=>{var d,f;let p=(f=(d=document.getElementById(s))==null?void 0:d.textContent)==null?void 0:f.toLowerCase().trim();p!==void 0&&(a.value.textValue=p)}),et(()=>r.registerOption(s,a)),mt(()=>r.unregisterOption(s)),et(()=>{kt([r.listboxState,o],()=>{var d,f;r.listboxState.value===0&&(!o.value||(r.goToOption(4,s),(f=(d=document.getElementById(s))==null?void 0:d.focus)==null||f.call(d)))},{immediate:!0})}),tt(()=>{r.listboxState.value===0&&(!i.value||Ae(()=>{var d,f;return(f=(d=document.getElementById(s))==null?void 0:d.scrollIntoView)==null?void 0:f.call(d,{block:"nearest"})}))});function l(d){if(e.disabled)return d.preventDefault();r.select(e.value),r.closeListbox(),Ae(()=>{var f;return(f=k(r.buttonRef))==null?void 0:f.focus({preventScroll:!0})})}function u(){if(e.disabled)return r.goToOption(5);r.goToOption(4,s)}function c(){e.disabled||i.value||r.goToOption(4,s)}function h(){e.disabled||!i.value||r.goToOption(5)}return()=>{let{disabled:d}=e,f={active:i.value,selected:o.value,disabled:d},p={id:s,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":o.value===!0?o.value:void 0,disabled:void 0,onClick:l,onFocus:u,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:t,name:"ListboxOption"})}}});function tA(e){requestAnimationFrame(()=>requestAnimationFrame(e))}var Jy=Symbol("MenuContext");function $l(e){let t=Se(Jy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$l),n}return t}var mU=ie({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=M(1),s=M(null),i=M(null),o=M([]),a=M(""),l=M(null),u={menuState:r,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,closeMenu:()=>{r.value=1,l.value=null},openMenu:()=>r.value=0,goToItem(c,h){let d=td(c===4?{focus:4,id:h}:{focus:c},{resolveItems:()=>o.value,resolveActiveIndex:()=>l.value,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});a.value===""&&l.value===d||(a.value="",l.value=d)},search(c){let h=a.value!==""?0:1;a.value+=c.toLowerCase();let d=(l.value!==null?o.value.slice(l.value+h).concat(o.value.slice(0,l.value+h)):o.value).find(p=>p.dataRef.textValue.startsWith(a.value)&&!p.dataRef.disabled),f=d?o.value.indexOf(d):-1;f===-1||f===l.value||(l.value=f)},clearSearch(){a.value=""},registerItem(c,h){var d,f;let p=Array.from((f=(d=i.value)==null?void 0:d.querySelectorAll('[id^="headlessui-menu-item-"]'))!=null?f:[]).reduce((g,y,w)=>Object.assign(g,{[y.id]:w}),{});o.value=[...o.value,{id:c,dataRef:h}].sort((g,y)=>p[g.id]-p[y.id])},unregisterItem(c){let h=o.value.slice(),d=l.value!==null?h[l.value]:null,f=h.findIndex(p=>p.id===c);f!==-1&&h.splice(f,1),o.value=h,l.value=(()=>f===l.value||d===null?null:h.indexOf(d))()}};return ln("mousedown",c=>{var h,d,f;let p=c.target,g=document.activeElement;r.value===0&&((h=k(s))!=null&&h.contains(p)||((d=k(i))!=null&&d.contains(p)||u.closeMenu(),!(g!==document.body&&(g==null?void 0:g.contains(p)))&&(c.defaultPrevented||(f=k(s))==null||f.focus({preventScroll:!0}))))}),qe(Jy,u),mi(F(()=>st(r.value,{[0]:0,[1]:1}))),()=>{let c={open:r.value===0};return ue({props:e,slot:c,slots:t,attrs:n,name:"Menu"})}}}),gU=ie({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:n}){let r=$l("MenuButton"),s=`headlessui-menu-button-${Pe()}`;function i(u){switch(u.key){case" ":case"Enter":case"ArrowDown":u.preventDefault(),u.stopPropagation(),r.openMenu(),Ae(()=>{var c;(c=k(r.itemsRef))==null||c.focus({preventScroll:!0}),r.goToItem(0)});break;case"ArrowUp":u.preventDefault(),u.stopPropagation(),r.openMenu(),Ae(()=>{var c;(c=k(r.itemsRef))==null||c.focus({preventScroll:!0}),r.goToItem(3)});break}}function o(u){switch(u.key){case" ":u.preventDefault();break}}function a(u){e.disabled||(r.menuState.value===0?(r.closeMenu(),Ae(()=>{var c;return(c=k(r.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),u.stopPropagation(),r.openMenu(),tA(()=>{var c;return(c=k(r.itemsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=bs(F(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var u;let c={open:r.menuState.value===0},h={ref:r.buttonRef,id:s,type:l.value,"aria-haspopup":!0,"aria-controls":(u=k(r.itemsRef))==null?void 0:u.id,"aria-expanded":e.disabled?void 0:r.menuState.value===0,onKeydown:i,onKeyup:o,onClick:a};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,name:"MenuButton"})}}}),vU=ie({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=$l("MenuItems"),s=`headlessui-menu-items-${Pe()}`,i=M(null);nd({container:F(()=>k(r.itemsRef)),enabled:F(()=>r.menuState.value===0),accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function o(c){var h;switch(i.value&&clearTimeout(i.value),c.key){case" ":if(r.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),r.search(c.key);case"Enter":if(c.preventDefault(),c.stopPropagation(),r.activeItemIndex.value!==null){let{id:d}=r.items.value[r.activeItemIndex.value];(h=document.getElementById(d))==null||h.click()}r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case"ArrowDown":return c.preventDefault(),c.stopPropagation(),r.goToItem(2);case"ArrowUp":return c.preventDefault(),c.stopPropagation(),r.goToItem(1);case"Home":case"PageUp":return c.preventDefault(),c.stopPropagation(),r.goToItem(0);case"End":case"PageDown":return c.preventDefault(),c.stopPropagation(),r.goToItem(3);case"Escape":c.preventDefault(),c.stopPropagation(),r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case"Tab":c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(r.search(c.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}function a(c){switch(c.key){case" ":c.preventDefault();break}}let l=ir(),u=F(()=>l!==null?l.value===0:r.menuState.value===0);return()=>{var c,h;let d={open:r.menuState.value===0},f={"aria-activedescendant":r.activeItemIndex.value===null||(c=r.items.value[r.activeItemIndex.value])==null?void 0:c.id,"aria-labelledby":(h=k(r.buttonRef))==null?void 0:h.id,id:s,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:r.itemsRef};return ue({props:j(j({},e),f),slot:d,attrs:t,slots:n,features:3,visible:u.value,name:"MenuItems"})}}}),yU=ie({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){let r=$l("MenuItem"),s=`headlessui-menu-item-${Pe()}`,i=F(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===s:!1),o=M({disabled:e.disabled,textValue:""});et(()=>{var h,d;let f=(d=(h=document.getElementById(s))==null?void 0:h.textContent)==null?void 0:d.toLowerCase().trim();f!==void 0&&(o.value.textValue=f)}),et(()=>r.registerItem(s,o)),mt(()=>r.unregisterItem(s)),tt(()=>{r.menuState.value===0&&(!i.value||Ae(()=>{var h,d;return(d=(h=document.getElementById(s))==null?void 0:h.scrollIntoView)==null?void 0:d.call(h,{block:"nearest"})}))});function a(h){if(e.disabled)return h.preventDefault();r.closeMenu(),Ae(()=>{var d;return(d=k(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})})}function l(){if(e.disabled)return r.goToItem(5);r.goToItem(4,s)}function u(){e.disabled||i.value||r.goToItem(4,s)}function c(){e.disabled||!i.value||r.goToItem(5)}return()=>{let{disabled:h}=e,d={active:i.value,disabled:h};return ue({props:Dt(j({},e),{id:s,role:"menuitem",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,onClick:a,onFocus:l,onPointermove:u,onMousemove:u,onPointerleave:c,onMouseleave:c}),slot:d,attrs:n,slots:t,name:"MenuItem"})}}}),Qy=Symbol("PopoverContext");function Vl(e){let t=Se(Qy,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <${rA.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vl),n}return t}var Zy=Symbol("PopoverGroupContext");function e0(){return Se(Zy,null)}var t0=Symbol("PopoverPanelContext");function nA(){return Se(t0,null)}var rA=ie({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=`headlessui-popover-button-${Pe()}`,s=`headlessui-popover-panel-${Pe()}`,i=M(1),o=M(null),a=M(null),l={popoverState:i,buttonId:r,panelId:s,panel:a,button:o,togglePopover(){i.value=st(i.value,{[0]:1,[1]:0})},closePopover(){i.value!==1&&(i.value=1)},close(f){l.closePopover();let p=(()=>f?f instanceof HTMLElement?f:f.value instanceof HTMLElement?k(f):k(l.button):k(l.button))();p==null||p.focus()}};qe(Qy,l),mi(F(()=>st(i.value,{[0]:0,[1]:1})));let u={buttonId:r,panelId:s,close(){l.closePopover()}},c=e0(),h=c==null?void 0:c.registerPopover;function d(){var f,p,g;return(g=c==null?void 0:c.isFocusWithinPopoverGroup())!=null?g:((f=k(o))==null?void 0:f.contains(document.activeElement))||((p=k(a))==null?void 0:p.contains(document.activeElement))}return tt(()=>h==null?void 0:h(u)),ln("focus",()=>{i.value===0&&(d()||!o||!a||l.closePopover())},!0),ln("mousedown",f=>{var p,g,y;let w=f.target;i.value===0&&(((p=k(o))==null?void 0:p.contains(w))||((g=k(a))==null?void 0:g.contains(w))||(l.closePopover(),WC(w,1)||(f.preventDefault(),(y=k(o))==null||y.focus())))}),()=>{let f={open:i.value===0,close:l.close};return ue({props:e,slot:f,slots:t,attrs:n,name:"Popover"})}}});ie({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=Vl("PopoverButton"),s=e0(),i=s==null?void 0:s.closeOthers,o=nA(),a=o===null?!1:o===r.panelId,l=M(null),u=M(typeof window=="undefined"?null:document.activeElement);ln("focus",()=>{u.value=l.value,l.value=document.activeElement},!0);let c=M(null);a||tt(()=>{r.button.value=c.value});let h=bs(F(()=>({as:e.as,type:t.type})),c);function d(g){var y,w,_,I;if(a){if(r.popoverState.value===1)return;switch(g.key){case" ":case"Enter":g.preventDefault(),g.stopPropagation(),r.closePopover(),(y=k(r.button))==null||y.focus();break}}else switch(g.key){case" ":case"Enter":g.preventDefault(),g.stopPropagation(),r.popoverState.value===1&&(i==null||i(r.buttonId)),r.togglePopover();break;case"Escape":if(r.popoverState.value!==0)return i==null?void 0:i(r.buttonId);if(!k(r.button)||!((w=k(r.button))!=null&&w.contains(document.activeElement)))return;g.preventDefault(),g.stopPropagation(),r.closePopover();break;case"Tab":if(r.popoverState.value!==0||!r.panel||!r.button)return;if(g.shiftKey){if(!u.value||((_=k(r.button))==null?void 0:_.contains(u.value))||((I=k(r.panel))==null?void 0:I.contains(u.value)))return;let x=za(),W=x.indexOf(u.value);if(x.indexOf(k(r.button))>W)return;g.preventDefault(),g.stopPropagation(),vt(k(r.panel),8)}else g.preventDefault(),g.stopPropagation(),vt(k(r.panel),1);break}}function f(g){var y,w;if(!a&&(g.key===" "&&g.preventDefault(),r.popoverState.value===0&&!!r.panel&&!!r.button))switch(g.key){case"Tab":if(!u.value||((y=k(r.button))==null?void 0:y.contains(u.value))||((w=k(r.panel))==null?void 0:w.contains(u.value)))return;let _=za(),I=_.indexOf(u.value);if(_.indexOf(k(r.button))>I)return;g.preventDefault(),g.stopPropagation(),vt(k(r.panel),8);break}}function p(){var g,y;e.disabled||(a?(r.closePopover(),(g=k(r.button))==null||g.focus()):(r.popoverState.value===1&&(i==null||i(r.buttonId)),(y=k(r.button))==null||y.focus(),r.togglePopover()))}return()=>{let g={open:r.popoverState.value===0},y=a?{ref:c,type:h.value,onKeydown:d,onClick:p}:{ref:c,id:r.buttonId,type:h.value,"aria-expanded":e.disabled?void 0:r.popoverState.value===0,"aria-controls":k(r.panel)?r.panelId:void 0,disabled:e.disabled?!0:void 0,onKeydown:d,onKeyup:f,onClick:p};return ue({props:j(j({},e),y),slot:g,attrs:t,slots:n,name:"PopoverButton"})}}});ie({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=Vl("PopoverOverlay"),s=`headlessui-popover-overlay-${Pe()}`,i=ir(),o=F(()=>i!==null?i.value===0:r.popoverState.value===0);function a(){r.closePopover()}return()=>{let l={open:r.popoverState.value===0};return ue({props:Dt(j({},e),{id:s,"aria-hidden":!0,onClick:a}),slot:l,attrs:t,slots:n,features:3,visible:o.value,name:"PopoverOverlay"})}}});ie({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n}){let{focus:r}=e,s=Vl("PopoverPanel");qe(t0,s.panelId),mt(()=>{s.panel.value=null}),tt(()=>{var l;if(!r||s.popoverState.value!==0||!s.panel)return;let u=document.activeElement;(l=k(s.panel))!=null&&l.contains(u)||vt(k(s.panel),1)}),ln("keydown",l=>{var u,c;if(s.popoverState.value!==0||!k(s.panel)||l.key!=="Tab"||!document.activeElement||!((u=k(s.panel))!=null&&u.contains(document.activeElement)))return;l.preventDefault();let h=vt(k(s.panel),l.shiftKey?2:4);if(h===3)return(c=k(s.button))==null?void 0:c.focus();if(h===1){if(!k(s.button))return;let d=za(),f=d.indexOf(k(s.button)),p=d.splice(f+1).filter(g=>{var y;return!((y=k(s.panel))!=null&&y.contains(g))});vt(p,1)===0&&vt(document.body,1)}}),ln("focus",()=>{var l;!r||s.popoverState.value===0&&(!k(s.panel)||((l=k(s.panel))==null?void 0:l.contains(document.activeElement))||s.closePopover())},!0);let i=ir(),o=F(()=>i!==null?i.value===0:s.popoverState.value===0);function a(l){var u,c;switch(l.key){case"Escape":if(s.popoverState.value!==0||!k(s.panel)||!((u=k(s.panel))!=null&&u.contains(document.activeElement)))return;l.preventDefault(),l.stopPropagation(),s.closePopover(),(c=k(s.button))==null||c.focus();break}}return()=>{let l={open:s.popoverState.value===0,close:s.close},u={ref:s.panel,id:s.panelId,onKeydown:a};return ue({props:j(j({},e),u),slot:l,attrs:t,slots:n,features:3,visible:o.value,name:"PopoverPanel"})}}});ie({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=M(null),s=M([]);function i(u){let c=s.value.indexOf(u);c!==-1&&s.value.splice(c,1)}function o(u){return s.value.push(u),()=>{i(u)}}function a(){var u;let c=document.activeElement;return(u=k(r))!=null&&u.contains(c)?!0:s.value.some(h=>{var d,f;return((d=document.getElementById(h.buttonId))==null?void 0:d.contains(c))||((f=document.getElementById(h.panelId))==null?void 0:f.contains(c))})}function l(u){for(let c of s.value)c.buttonId!==u&&c.close()}return qe(Zy,{registerPopover:o,unregisterPopover:i,isFocusWithinPopoverGroup:a,closeOthers:l}),()=>ue({props:Dt(j({},e),{ref:r}),slot:{},attrs:t,slots:n,name:"PopoverGroup"})}});var n0=Symbol("LabelContext");function r0(){let e=Se(n0,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,r0),t}return e}function id({slot:e={},name:t="Label",props:n={}}={}){let r=M([]);function s(i){return r.value.push(i),()=>{let o=r.value.indexOf(i);o!==-1&&r.value.splice(o,1)}}return qe(n0,{register:s,slot:e,name:t,props:n}),F(()=>r.value.length>0?r.value.join(" "):void 0)}ie({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let r=r0(),s=`headlessui-label-${Pe()}`;return et(()=>mt(r.register(s))),()=>{let{name:i="Label",slot:o={},props:a={}}=r,d=e,{passive:l}=d,u=dn(d,["passive"]),c=Dt(j({},Object.entries(a).reduce((f,[p,g])=>Object.assign(f,{[p]:On(g)}),{})),{id:s}),h=j(j({},u),c);return l&&delete h.onClick,ue({props:h,slot:o,attrs:n,slots:t,name:i})}}});var s0=Symbol("RadioGroupContext");function i0(e){let t=Se(s0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,i0),n}return t}ie({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{emit:t,attrs:n,slots:r}){let s=M(null),i=M([]),o=id({name:"RadioGroupLabel"}),a=Ul({name:"RadioGroupDescription"}),l=F(()=>e.modelValue),u={options:i,value:l,disabled:F(()=>e.disabled),firstOption:F(()=>i.value.find(d=>!d.propsRef.disabled)),containsCheckedOption:F(()=>i.value.some(d=>le(d.propsRef.value)===le(e.modelValue))),change(d){var f;if(e.disabled||l.value===d)return!1;let p=(f=i.value.find(g=>le(g.propsRef.value)===le(d)))==null?void 0:f.propsRef;return p!=null&&p.disabled?!1:(t("update:modelValue",d),!0)},registerOption(d){var f;let p=Array.from((f=s.value)==null?void 0:f.querySelectorAll('[id^="headlessui-radiogroup-option-"]')).reduce((g,y,w)=>Object.assign(g,{[y.id]:w}),{});i.value.push(d),i.value.sort((g,y)=>p[g.id]-p[y.id])},unregisterOption(d){let f=i.value.findIndex(p=>p.id===d);f!==-1&&i.value.splice(f,1)}};qe(s0,u),nd({container:F(()=>k(s)),accept(d){return d.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function c(d){if(!s.value||!s.value.contains(d.target))return;let f=i.value.filter(p=>p.propsRef.disabled===!1).map(p=>p.element);switch(d.key){case"ArrowLeft":case"ArrowUp":if(d.preventDefault(),d.stopPropagation(),vt(f,18)===2){let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break;case"ArrowRight":case"ArrowDown":if(d.preventDefault(),d.stopPropagation(),vt(f,20)===2){let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break;case" ":{d.preventDefault(),d.stopPropagation();let p=i.value.find(g=>g.element===document.activeElement);p&&u.change(p.propsRef.value)}break}}let h=`headlessui-radiogroup-${Pe()}`;return()=>{let y=e,{modelValue:d,disabled:f}=y,p=dn(y,["modelValue","disabled"]),g={ref:s,id:h,role:"radiogroup","aria-labelledby":o.value,"aria-describedby":a.value,onKeydown:c};return ue({props:j(j({},p),g),slot:{},attrs:n,slots:r,name:"RadioGroup"})}}});ie({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n}){let r=i0("RadioGroupOption"),s=`headlessui-radiogroup-option-${Pe()}`,i=id({name:"RadioGroupLabel"}),o=Ul({name:"RadioGroupDescription"}),a=M(null),l=F(()=>({value:e.value,disabled:e.disabled})),u=M(1);et(()=>r.registerOption({id:s,element:a,propsRef:l})),mt(()=>r.unregisterOption(s));let c=F(()=>{var w;return((w=r.firstOption.value)==null?void 0:w.id)===s}),h=F(()=>r.disabled.value||e.disabled),d=F(()=>le(r.value.value)===le(e.value)),f=F(()=>h.value?-1:d.value||!r.containsCheckedOption.value&&c.value?0:-1);function p(){var w;!r.change(e.value)||(u.value|=2,(w=a.value)==null||w.focus())}function g(){u.value|=2}function y(){u.value&=-3}return()=>{let w=Mr(e,["value","disabled"]),_={checked:d.value,disabled:h.value,active:Boolean(u.value&2)},I={id:s,ref:a,role:"radio","aria-checked":d.value?"true":"false","aria-labelledby":i.value,"aria-describedby":o.value,"aria-disabled":h.value?!0:void 0,tabIndex:f.value,onClick:h.value?void 0:p,onFocus:h.value?void 0:g,onBlur:h.value?void 0:y};return ue({props:j(j({},w),I),slot:_,attrs:t,slots:n,name:"RadioGroupOption"})}}});var o0=Symbol("GroupContext");ie({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=M(null),s=id({name:"SwitchLabel",props:{onClick(){!r.value||(r.value.click(),r.value.focus({preventScroll:!0}))}}}),i=Ul({name:"SwitchDescription"});return qe(o0,{switchRef:r,labelledby:s,describedby:i}),()=>ue({props:e,slot:{},slots:t,attrs:n,name:"SwitchGroup"})}});ie({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1}},setup(e,{emit:t,attrs:n,slots:r}){let s=Se(o0,null),i=`headlessui-switch-${Pe()}`;function o(){t("update:modelValue",!e.modelValue)}let a=M(null),l=s===null?a:s.switchRef,u=bs(F(()=>({as:e.as,type:n.type})),l);function c(f){f.preventDefault(),o()}function h(f){f.key!=="Tab"&&f.preventDefault(),f.key===" "&&o()}function d(f){f.preventDefault()}return()=>{let f={checked:e.modelValue},p={id:i,ref:l,role:"switch",type:u.value,tabIndex:0,"aria-checked":e.modelValue,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:c,onKeyup:h,onKeypress:d};return ue({props:j(j({},e),p),slot:f,attrs:n,slots:r,name:"Switch"})}}});var a0=Symbol("TabsContext");function No(e){let t=Se(a0,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,No),n}return t}ie({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n,emit:r}){let s=M(null),i=M([]),o=M([]),a={selectedIndex:s,orientation:F(()=>e.vertical?"vertical":"horizontal"),activation:F(()=>e.manual?"manual":"auto"),tabs:i,panels:o,setSelectedIndex(l){s.value!==l&&(s.value=l,r("change",l))},registerTab(l){i.value.includes(l)||i.value.push(l)},unregisterTab(l){let u=i.value.indexOf(l);u!==-1&&i.value.splice(u,1)},registerPanel(l){o.value.includes(l)||o.value.push(l)},unregisterPanel(l){let u=o.value.indexOf(l);u!==-1&&o.value.splice(u,1)}};return qe(a0,a),tt(()=>{var l;if(a.tabs.value.length<=0||e.selectedIndex===null&&s.value!==null)return;let u=a.tabs.value.map(d=>k(d)).filter(Boolean),c=u.filter(d=>!d.hasAttribute("disabled")),h=(l=e.selectedIndex)!=null?l:e.defaultIndex;if(h<0)s.value=u.indexOf(c[0]);else if(h>a.tabs.value.length)s.value=u.indexOf(c[c.length-1]);else{let d=u.slice(0,h),f=[...u.slice(h),...d].find(p=>c.includes(p));if(!f)return;s.value=u.indexOf(f)}}),()=>{let l={selectedIndex:s.value};return ue({props:Mr(e,["selectedIndex","defaultIndex","manual","vertical","onChange"]),slot:l,slots:t,attrs:n,name:"TabGroup"})}}});ie({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:n}){let r=No("TabList");return()=>{let s={selectedIndex:r.selectedIndex.value},i={role:"tablist","aria-orientation":r.orientation.value};return ue({props:j(j({},e),i),slot:s,attrs:t,slots:n,name:"TabList"})}}});ie({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n}){let r=No("Tab"),s=`headlessui-tabs-tab-${Pe()}`,i=M();et(()=>r.registerTab(i)),mt(()=>r.unregisterTab(i));let o=F(()=>r.tabs.value.indexOf(i)),a=F(()=>o.value===r.selectedIndex.value);function l(d){let f=r.tabs.value.map(p=>k(p)).filter(Boolean);if(d.key===" "||d.key==="Enter"){d.preventDefault(),d.stopPropagation(),r.setSelectedIndex(o.value);return}switch(d.key){case"Home":case"PageUp":return d.preventDefault(),d.stopPropagation(),vt(f,1);case"End":case"PageDown":return d.preventDefault(),d.stopPropagation(),vt(f,8)}return st(r.orientation.value,{vertical(){if(d.key==="ArrowUp")return vt(f,18);if(d.key==="ArrowDown")return vt(f,20)},horizontal(){if(d.key==="ArrowLeft")return vt(f,18);if(d.key==="ArrowRight")return vt(f,20)}})}function u(){var d;(d=k(i))==null||d.focus()}function c(){var d;e.disabled||((d=k(i))==null||d.focus(),r.setSelectedIndex(o.value))}let h=bs(F(()=>({as:e.as,type:t.type})),i);return()=>{var d,f;let p={selected:a.value},g={ref:i,onKeydown:l,onFocus:r.activation.value==="manual"?u:c,onClick:c,id:s,role:"tab",type:h.value,"aria-controls":(f=(d=r.panels.value[o.value])==null?void 0:d.value)==null?void 0:f.id,"aria-selected":a.value,tabIndex:a.value?0:-1,disabled:e.disabled?!0:void 0};return ue({props:j(j({},e),g),slot:p,attrs:t,slots:n,name:"Tab"})}}});ie({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=No("TabPanels");return()=>{let s={selectedIndex:r.selectedIndex.value};return ue({props:e,slot:s,attrs:n,slots:t,name:"TabPanels"})}}});ie({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:n}){let r=No("TabPanel"),s=`headlessui-tabs-panel-${Pe()}`,i=M();et(()=>r.registerPanel(i)),mt(()=>r.unregisterPanel(i));let o=F(()=>r.panels.value.indexOf(i)),a=F(()=>o.value===r.selectedIndex.value);return()=>{var l,u;let c={selected:a.value},h={ref:i,id:s,role:"tabpanel","aria-labelledby":(u=(l=r.tabs.value[o.value])==null?void 0:l.value)==null?void 0:u.id,tabIndex:a.value?0:-1};return ue({props:j(j({},e),h),slot:c,attrs:t,slots:n,features:3,visible:a.value,name:"TabPanel"})}}});function sA(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function l0(){let e=[],t=[],n={enqueue(r){t.push(r)},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);n.add(()=>cancelAnimationFrame(s))},nextFrame(...r){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...r)})},setTimeout(...r){let s=setTimeout(...r);n.add(()=>clearTimeout(s))},add(r){e.push(r)},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()}};return n}function Bu(e,...t){e&&t.length>0&&e.classList.add(...t)}function ca(e,...t){e&&t.length>0&&e.classList.remove(...t)}function iA(e,t){let n=l0();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[i,o]=[r,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return l});return i!==0?n.setTimeout(()=>t("finished"),i+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function mm(e,t,n,r,s,i){let o=l0(),a=i!==void 0?sA(i):()=>{};return ca(e,...s),Bu(e,...t,...n),o.nextFrame(()=>{ca(e,...n),Bu(e,...r),o.add(iA(e,l=>(ca(e,...r,...t),Bu(e,...s),a(l))))}),o.add(()=>ca(e,...t,...n,...r,...s)),o.add(()=>a("cancelled")),o.dispose}function Vr(e=""){return e.split(" ").filter(t=>t.trim().length>1)}var od=Symbol("TransitionContext");function oA(){return Se(od,null)!==null}function aA(){let e=Se(od,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function lA(){let e=Se(ad,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}var ad=Symbol("NestingContext");function jl(e){return"children"in e?jl(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function u0(e){let t=M([]),n=M(!1);et(()=>n.value=!0),mt(()=>n.value=!1);function r(i,o=1){let a=t.value.findIndex(({id:l})=>l===i);a!==-1&&(st(o,{[0](){t.value.splice(a,1)},[1](){t.value[a].state="hidden"}}),!jl(t)&&n.value&&(e==null||e()))}function s(i){let o=t.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:i,state:"visible"}),()=>r(i,0)}return{children:t,register:s,unregister:r}}var c0=1,uA=ie({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){if(!oA()&&YC())return()=>pn(hA,Dt(j({},e),{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")}),r);let s=M(null),i=M("visible"),o=F(()=>e.unmount?0:1),{show:a,appear:l}=aA(),{register:u,unregister:c}=lA(),h={value:!0},d=Pe(),f={value:!1},p=u0(()=>{f.value||(i.value="hidden",c(d),t("afterLeave"))});et(()=>{let R=u(d);mt(R)}),tt(()=>{if(o.value===1&&!!d){if(a&&i.value!=="visible"){i.value="visible";return}st(i.value,{hidden:()=>c(d),visible:()=>u(d)})}});let g=Vr(e.enter),y=Vr(e.enterFrom),w=Vr(e.enterTo),_=Vr(e.entered),I=Vr(e.leave),x=Vr(e.leaveFrom),W=Vr(e.leaveTo);et(()=>{tt(()=>{if(i.value==="visible"){let R=k(s);if(R instanceof Comment&&R.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Y(R){let ce=h.value&&!l.value,te=k(s);!te||!(te instanceof HTMLElement)||ce||(f.value=!0,a.value&&t("beforeEnter"),a.value||t("beforeLeave"),R(a.value?mm(te,g,y,w,_,we=>{f.value=!1,we==="finished"&&t("afterEnter")}):mm(te,I,x,W,_,we=>{f.value=!1,we==="finished"&&(jl(p)||(i.value="hidden",c(d),t("afterLeave")))})))}return et(()=>{kt([a,l],(R,ce,te)=>{Y(te),h.value=!1},{immediate:!0})}),qe(ad,p),mi(F(()=>st(i.value,{visible:0,hidden:1}))),()=>{let Re=e,{appear:R,show:ce,enter:te,enterFrom:we,enterTo:Ne,entered:K,leave:Oe,leaveFrom:xe,leaveTo:En}=Re,Ge=dn(Re,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]);return ue({props:Dt(j({},Ge),{ref:s}),slot:{},slots:r,attrs:n,features:c0,visible:i.value==="visible",name:"TransitionChild"})}}}),cA=uA,hA=ie({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let s=ir(),i=F(()=>e.show===null&&s!==null?st(s.value,{[0]:!0,[1]:!1}):e.show);tt(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=M(i.value?"visible":"hidden"),a=u0(()=>{o.value="hidden"}),l={value:!0},u={show:i,appear:F(()=>e.appear||!l.value)};return et(()=>{tt(()=>{l.value=!1,i.value?o.value="visible":jl(a)||(o.value="hidden")})}),qe(ad,a),qe(od,u),()=>{let c=Mr(e,["show","appear","unmount"]),h={unmount:e.unmount};return ue({props:Dt(j({},h),{as:"template"}),slot:{},slots:Dt(j({},r),{default:()=>[pn(cA,j(j(j({onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n),h),c),r.default)]}),attrs:{},features:c0,visible:o.value==="visible",name:"Transition"})}}});function wU(e,t){return ko(),Co("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})])}function bU(e,t){return ko(),Co("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})])}function _U(e,t){return ko(),Co("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[yt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})])}//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var h0;function $(){return h0.apply(null,arguments)}function dA(e){h0=e}function wn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ns(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ld(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ie(e,t))return!1;return!0}function Ft(e){return e===void 0}function tr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Lo(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function d0(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function Er(e,t){for(var n in t)Ie(t,n)&&(e[n]=t[n]);return Ie(t,"toString")&&(e.toString=t.toString),Ie(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Fn(e,t,n,r){return L0(e,t,n,r,!0).utc()}function fA(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function de(e){return e._pf==null&&(e._pf=fA()),e._pf}var $c;Array.prototype.some?$c=Array.prototype.some:$c=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function ud(e){if(e._isValid==null){var t=de(e),n=$c.call(t.parsedDateParts,function(s){return s!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Bl(e){var t=Fn(NaN);return e!=null?Er(de(t),e):de(t).userInvalidated=!0,t}var Hu=$.momentProperties=[],Yu=!1;function cd(e,t){var n,r,s;if(Ft(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ft(t._i)||(e._i=t._i),Ft(t._f)||(e._f=t._f),Ft(t._l)||(e._l=t._l),Ft(t._strict)||(e._strict=t._strict),Ft(t._tzm)||(e._tzm=t._tzm),Ft(t._isUTC)||(e._isUTC=t._isUTC),Ft(t._offset)||(e._offset=t._offset),Ft(t._pf)||(e._pf=de(t)),Ft(t._locale)||(e._locale=t._locale),Hu.length>0)for(n=0;n<Hu.length;n++)r=Hu[n],s=t[r],Ft(s)||(e[r]=s);return e}function Fo(e){cd(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Yu===!1&&(Yu=!0,$.updateOffset(this),Yu=!1)}function bn(e){return e instanceof Fo||e!=null&&e._isAMomentObject!=null}function f0(e){$.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function un(e,t){var n=!0;return Er(function(){if($.deprecationHandler!=null&&$.deprecationHandler(null,e),n){var r=[],s,i,o;for(i=0;i<arguments.length;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])Ie(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}f0(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var gm={};function p0(e,t){$.deprecationHandler!=null&&$.deprecationHandler(e,t),gm[e]||(f0(t),gm[e]=!0)}$.suppressDeprecationWarnings=!1;$.deprecationHandler=null;function Un(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function pA(e){var t,n;for(n in e)Ie(e,n)&&(t=e[n],Un(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Vc(e,t){var n=Er({},e),r;for(r in t)Ie(t,r)&&(ns(e[r])&&ns(t[r])?(n[r]={},Er(n[r],e[r]),Er(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ie(e,r)&&!Ie(t,r)&&ns(e[r])&&(n[r]=Er({},n[r]));return n}function hd(e){e!=null&&this.set(e)}var jc;Object.keys?jc=Object.keys:jc=function(e){var t,n=[];for(t in e)Ie(e,t)&&n.push(t);return n};var mA={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function gA(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Un(r)?r.call(t,n):r}function Nn(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var dd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ha=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wu={},Hs={};function J(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Hs[e]=s),t&&(Hs[t[0]]=function(){return Nn(s.apply(this,arguments),t[1],t[2])}),n&&(Hs[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function vA(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function yA(e){var t=e.match(dd),n,r;for(n=0,r=t.length;n<r;n++)Hs[t[n]]?t[n]=Hs[t[n]]:t[n]=vA(t[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=Un(t[o])?t[o].call(s,e):t[o];return i}}function Sa(e,t){return e.isValid()?(t=m0(t,e.localeData()),Wu[t]=Wu[t]||yA(t),Wu[t](e)):e.localeData().invalidDate()}function m0(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(ha.lastIndex=0;n>=0&&ha.test(e);)e=e.replace(ha,r),ha.lastIndex=0,n-=1;return e}var wA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function bA(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(dd).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var _A="Invalid date";function EA(){return this._invalidDate}var TA="%d",SA=/\d{1,2}/;function IA(e){return this._ordinal.replace("%d",e)}var kA={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function CA(e,t,n,r){var s=this._relativeTime[n];return Un(s)?s(e,t,n,r):s.replace(/%d/i,e)}function AA(e,t){var n=this._relativeTime[e>0?"future":"past"];return Un(n)?n(t):n.replace(/%s/i,t)}var zi={};function Ot(e,t){var n=e.toLowerCase();zi[n]=zi[n+"s"]=zi[t]=e}function cn(e){return typeof e=="string"?zi[e]||zi[e.toLowerCase()]:void 0}function fd(e){var t={},n,r;for(r in e)Ie(e,r)&&(n=cn(r),n&&(t[n]=e[r]));return t}var g0={};function Rt(e,t){g0[e]=t}function OA(e){var t=[],n;for(n in e)Ie(e,n)&&t.push({unit:n,priority:g0[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}function Hl(e){return e%4===0&&e%100!==0||e%400===0}function nn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ge(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=nn(t)),n}function vi(e,t){return function(n){return n!=null?(v0(this,e,n),$.updateOffset(this,t),this):Ka(this,e)}}function Ka(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function v0(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Hl(e.year())&&e.month()===1&&e.date()===29?(n=ge(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Gl(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function RA(e){return e=cn(e),Un(this[e])?this[e]():this}function DA(e,t){if(typeof e=="object"){e=fd(e);var n=OA(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=cn(e),Un(this[e]))return this[e](t);return this}var y0=/\d/,Jt=/\d\d/,w0=/\d{3}/,pd=/\d{4}/,Yl=/[+-]?\d{6}/,Ke=/\d\d?/,b0=/\d\d\d\d?/,_0=/\d\d\d\d\d\d?/,Wl=/\d{1,3}/,md=/\d{1,4}/,ql=/[+-]?\d{1,6}/,yi=/\d+/,zl=/[+-]?\d+/,xA=/Z|[+-]\d\d:?\d\d/gi,Kl=/Z|[+-]\d\d(?::?\d\d)?/gi,PA=/[+-]?\d+(\.\d{1,3})?/,Uo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ga;Ga={};function B(e,t,n){Ga[e]=Un(t)?t:function(r,s){return r&&n?n:t}}function MA(e,t){return Ie(Ga,e)?Ga[e](t._strict,t._locale):new RegExp(NA(e))}function NA(e){return Ht(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function Ht(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Bc={};function Me(e,t){var n,r=t;for(typeof e=="string"&&(e=[e]),tr(t)&&(r=function(s,i){i[t]=ge(s)}),n=0;n<e.length;n++)Bc[e[n]]=r}function $o(e,t){Me(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function LA(e,t,n){t!=null&&Ie(Bc,e)&&Bc[e](t,n._a,n,e)}var Ct=0,zn=1,Cn=2,ut=3,mn=4,Kn=5,Kr=6,FA=7,UA=8;function $A(e,t){return(e%t+t)%t}var rt;Array.prototype.indexOf?rt=Array.prototype.indexOf:rt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Gl(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$A(t,12);return e+=(t-n)/12,n===1?Hl(e)?29:28:31-n%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1});J("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});J("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ot("month","M");Rt("month",8);B("M",Ke);B("MM",Ke,Jt);B("MMM",function(e,t){return t.monthsShortRegex(e)});B("MMMM",function(e,t){return t.monthsRegex(e)});Me(["M","MM"],function(e,t){t[zn]=ge(e)-1});Me(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[zn]=s:de(n).invalidMonth=e});var VA="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),E0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),T0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jA=Uo,BA=Uo;function HA(e,t){return e?wn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||T0).test(t)?"format":"standalone"][e.month()]:wn(this._months)?this._months:this._months.standalone}function YA(e,t){return e?wn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[T0.test(t)?"format":"standalone"][e.month()]:wn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function WA(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Fn([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=rt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=rt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=rt.call(this._shortMonthsParse,o),s!==-1?s:(s=rt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=rt.call(this._longMonthsParse,o),s!==-1?s:(s=rt.call(this._shortMonthsParse,o),s!==-1?s:null))}function qA(e,t,n){var r,s,i;if(this._monthsParseExact)return WA.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Fn([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function S0(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ge(t);else if(t=e.localeData().monthsParse(t),!tr(t))return e}return n=Math.min(e.date(),Gl(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function I0(e){return e!=null?(S0(this,e),$.updateOffset(this,!0),this):Ka(this,"Month")}function zA(){return Gl(this.year(),this.month())}function KA(e){return this._monthsParseExact?(Ie(this,"_monthsRegex")||k0.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ie(this,"_monthsShortRegex")||(this._monthsShortRegex=jA),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function GA(e){return this._monthsParseExact?(Ie(this,"_monthsRegex")||k0.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ie(this,"_monthsRegex")||(this._monthsRegex=BA),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function k0(){function e(o,a){return a.length-o.length}var t=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=Fn([2e3,s]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)t[s]=Ht(t[s]),n[s]=Ht(n[s]);for(s=0;s<24;s++)r[s]=Ht(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}J("Y",0,0,function(){var e=this.year();return e<=9999?Nn(e,4):"+"+e});J(0,["YY",2],0,function(){return this.year()%100});J(0,["YYYY",4],0,"year");J(0,["YYYYY",5],0,"year");J(0,["YYYYYY",6,!0],0,"year");Ot("year","y");Rt("year",1);B("Y",zl);B("YY",Ke,Jt);B("YYYY",md,pd);B("YYYYY",ql,Yl);B("YYYYYY",ql,Yl);Me(["YYYYY","YYYYYY"],Ct);Me("YYYY",function(e,t){t[Ct]=e.length===2?$.parseTwoDigitYear(e):ge(e)});Me("YY",function(e,t){t[Ct]=$.parseTwoDigitYear(e)});Me("Y",function(e,t){t[Ct]=parseInt(e,10)});function Ki(e){return Hl(e)?366:365}$.parseTwoDigitYear=function(e){return ge(e)+(ge(e)>68?1900:2e3)};var C0=vi("FullYear",!0);function XA(){return Hl(this.year())}function JA(e,t,n,r,s,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,s,i,o),a}function ho(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Xa(e,t,n){var r=7+t-n,s=(7+ho(e,0,r).getUTCDay()-t)%7;return-s+r-1}function A0(e,t,n,r,s){var i=(7+n-r)%7,o=Xa(e,r,s),a=1+7*(t-1)+i+o,l,u;return a<=0?(l=e-1,u=Ki(l)+a):a>Ki(e)?(l=e+1,u=a-Ki(e)):(l=e,u=a),{year:l,dayOfYear:u}}function fo(e,t,n){var r=Xa(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+Jn(o,t,n)):s>Jn(e.year(),t,n)?(i=s-Jn(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Jn(e,t,n){var r=Xa(e,t,n),s=Xa(e+1,t,n);return(Ki(e)-r+s)/7}J("w",["ww",2],"wo","week");J("W",["WW",2],"Wo","isoWeek");Ot("week","w");Ot("isoWeek","W");Rt("week",5);Rt("isoWeek",5);B("w",Ke);B("ww",Ke,Jt);B("W",Ke);B("WW",Ke,Jt);$o(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ge(e)});function QA(e){return fo(e,this._week.dow,this._week.doy).week}var ZA={dow:0,doy:6};function eO(){return this._week.dow}function tO(){return this._week.doy}function nO(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function rO(e){var t=fo(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}J("d",0,"do","day");J("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});J("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});J("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});J("e",0,0,"weekday");J("E",0,0,"isoWeekday");Ot("day","d");Ot("weekday","e");Ot("isoWeekday","E");Rt("day",11);Rt("weekday",11);Rt("isoWeekday",11);B("d",Ke);B("e",Ke);B("E",Ke);B("dd",function(e,t){return t.weekdaysMinRegex(e)});B("ddd",function(e,t){return t.weekdaysShortRegex(e)});B("dddd",function(e,t){return t.weekdaysRegex(e)});$o(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:de(n).invalidWeekday=e});$o(["d","e","E"],function(e,t,n,r){t[r]=ge(e)});function sO(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function iO(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function gd(e,t){return e.slice(t,7).concat(e.slice(0,t))}var oO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),O0="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),aO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),lO=Uo,uO=Uo,cO=Uo;function hO(e,t){var n=wn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?gd(n,this._week.dow):e?n[e.day()]:n}function dO(e){return e===!0?gd(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function fO(e){return e===!0?gd(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function pO(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Fn([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=rt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=rt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=rt.call(this._weekdaysParse,o),s!==-1||(s=rt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=rt.call(this._shortWeekdaysParse,o),s!==-1||(s=rt.call(this._weekdaysParse,o),s!==-1)?s:(s=rt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=rt.call(this._minWeekdaysParse,o),s!==-1||(s=rt.call(this._weekdaysParse,o),s!==-1)?s:(s=rt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function mO(e,t,n){var r,s,i;if(this._weekdaysParseExact)return pO.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Fn([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function gO(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=sO(e,this.localeData()),this.add(e-t,"d")):t}function vO(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function yO(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=iO(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function wO(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||vd.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ie(this,"_weekdaysRegex")||(this._weekdaysRegex=lO),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function bO(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||vd.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ie(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uO),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function _O(e){return this._weekdaysParseExact?(Ie(this,"_weekdaysRegex")||vd.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ie(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cO),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vd(){function e(c,h){return h.length-c.length}var t=[],n=[],r=[],s=[],i,o,a,l,u;for(i=0;i<7;i++)o=Fn([2e3,1]).day(i),a=Ht(this.weekdaysMin(o,"")),l=Ht(this.weekdaysShort(o,"")),u=Ht(this.weekdays(o,"")),t.push(a),n.push(l),r.push(u),s.push(a),s.push(l),s.push(u);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function yd(){return this.hours()%12||12}function EO(){return this.hours()||24}J("H",["HH",2],0,"hour");J("h",["hh",2],0,yd);J("k",["kk",2],0,EO);J("hmm",0,0,function(){return""+yd.apply(this)+Nn(this.minutes(),2)});J("hmmss",0,0,function(){return""+yd.apply(this)+Nn(this.minutes(),2)+Nn(this.seconds(),2)});J("Hmm",0,0,function(){return""+this.hours()+Nn(this.minutes(),2)});J("Hmmss",0,0,function(){return""+this.hours()+Nn(this.minutes(),2)+Nn(this.seconds(),2)});function R0(e,t){J(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}R0("a",!0);R0("A",!1);Ot("hour","h");Rt("hour",13);function D0(e,t){return t._meridiemParse}B("a",D0);B("A",D0);B("H",Ke);B("h",Ke);B("k",Ke);B("HH",Ke,Jt);B("hh",Ke,Jt);B("kk",Ke,Jt);B("hmm",b0);B("hmmss",_0);B("Hmm",b0);B("Hmmss",_0);Me(["H","HH"],ut);Me(["k","kk"],function(e,t,n){var r=ge(e);t[ut]=r===24?0:r});Me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Me(["h","hh"],function(e,t,n){t[ut]=ge(e),de(n).bigHour=!0});Me("hmm",function(e,t,n){var r=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r)),de(n).bigHour=!0});Me("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r,2)),t[Kn]=ge(e.substr(s)),de(n).bigHour=!0});Me("Hmm",function(e,t,n){var r=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r))});Me("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[ut]=ge(e.substr(0,r)),t[mn]=ge(e.substr(r,2)),t[Kn]=ge(e.substr(s))});function TO(e){return(e+"").toLowerCase().charAt(0)==="p"}var SO=/[ap]\.?m?\.?/i,IO=vi("Hours",!0);function kO(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var x0={calendar:mA,longDateFormat:wA,invalidDate:_A,ordinal:TA,dayOfMonthOrdinalParse:SA,relativeTime:kA,months:VA,monthsShort:E0,week:ZA,weekdays:oO,weekdaysMin:aO,weekdaysShort:O0,meridiemParse:SO},Je={},xi={},po;function CO(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function vm(e){return e&&e.toLowerCase().replace("_","-")}function AO(e){for(var t=0,n,r,s,i;t<e.length;){for(i=vm(e[t]).split("-"),n=i.length,r=vm(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Xl(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&CO(i,r)>=n-1)break;n--}t++}return po}function Xl(e){var t=null,n;if(Je[e]===void 0&&typeof module!="undefined"&&module&&module.exports)try{t=po._abbr,n=require,n("./locale/"+e),kr(t)}catch{Je[e]=null}return Je[e]}function kr(e,t){var n;return e&&(Ft(t)?n=or(e):n=wd(e,t),n?po=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),po._abbr}function wd(e,t){if(t!==null){var n,r=x0;if(t.abbr=e,Je[e]!=null)p0("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Je[e]._config;else if(t.parentLocale!=null)if(Je[t.parentLocale]!=null)r=Je[t.parentLocale]._config;else if(n=Xl(t.parentLocale),n!=null)r=n._config;else return xi[t.parentLocale]||(xi[t.parentLocale]=[]),xi[t.parentLocale].push({name:e,config:t}),null;return Je[e]=new hd(Vc(r,t)),xi[e]&&xi[e].forEach(function(s){wd(s.name,s.config)}),kr(e),Je[e]}else return delete Je[e],null}function OO(e,t){if(t!=null){var n,r,s=x0;Je[e]!=null&&Je[e].parentLocale!=null?Je[e].set(Vc(Je[e]._config,t)):(r=Xl(e),r!=null&&(s=r._config),t=Vc(s,t),r==null&&(t.abbr=e),n=new hd(t),n.parentLocale=Je[e],Je[e]=n),kr(e)}else Je[e]!=null&&(Je[e].parentLocale!=null?(Je[e]=Je[e].parentLocale,e===kr()&&kr(e)):Je[e]!=null&&delete Je[e]);return Je[e]}function or(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return po;if(!wn(e)){if(t=Xl(e),t)return t;e=[e]}return AO(e)}function RO(){return jc(Je)}function bd(e){var t,n=e._a;return n&&de(e).overflow===-2&&(t=n[zn]<0||n[zn]>11?zn:n[Cn]<1||n[Cn]>Gl(n[Ct],n[zn])?Cn:n[ut]<0||n[ut]>24||n[ut]===24&&(n[mn]!==0||n[Kn]!==0||n[Kr]!==0)?ut:n[mn]<0||n[mn]>59?mn:n[Kn]<0||n[Kn]>59?Kn:n[Kr]<0||n[Kr]>999?Kr:-1,de(e)._overflowDayOfYear&&(t<Ct||t>Cn)&&(t=Cn),de(e)._overflowWeeks&&t===-1&&(t=FA),de(e)._overflowWeekday&&t===-1&&(t=UA),de(e).overflow=t),e}var DO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,PO=/Z|[+-]\d\d(?::?\d\d)?/,da=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],MO=/^\/?Date\((-?\d+)/i,NO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,LO={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function P0(e){var t,n,r=e._i,s=DO.exec(r)||xO.exec(r),i,o,a,l;if(s){for(de(e).iso=!0,t=0,n=da.length;t<n;t++)if(da[t][1].exec(s[1])){o=da[t][0],i=da[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=qu.length;t<n;t++)if(qu[t][1].exec(s[3])){a=(s[2]||" ")+qu[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(s[4])if(PO.exec(s[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),Ed(e)}else e._isValid=!1}function FO(e,t,n,r,s,i){var o=[UO(e),E0.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function UO(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function $O(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VO(e,t,n){if(e){var r=O0.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return de(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function jO(e,t,n){if(e)return LO[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function M0(e){var t=NO.exec($O(e._i)),n;if(t){if(n=FO(t[4],t[3],t[2],t[5],t[6],t[7]),!VO(t[1],n,e))return;e._a=n,e._tzm=jO(t[8],t[9],t[10]),e._d=ho.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),de(e).rfc2822=!0}else e._isValid=!1}function BO(e){var t=MO.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(P0(e),e._isValid===!1)delete e._isValid;else return;if(M0(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:$.createFromInputFallback(e)}$.createFromInputFallback=un("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ns(e,t,n){return e!=null?e:t!=null?t:n}function HO(e){var t=new Date($.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _d(e){var t,n,r=[],s,i,o;if(!e._d){for(s=HO(e),e._w&&e._a[Cn]==null&&e._a[zn]==null&&YO(e),e._dayOfYear!=null&&(o=Ns(e._a[Ct],s[Ct]),(e._dayOfYear>Ki(o)||e._dayOfYear===0)&&(de(e)._overflowDayOfYear=!0),n=ho(o,0,e._dayOfYear),e._a[zn]=n.getUTCMonth(),e._a[Cn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ut]===24&&e._a[mn]===0&&e._a[Kn]===0&&e._a[Kr]===0&&(e._nextDay=!0,e._a[ut]=0),e._d=(e._useUTC?ho:JA).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ut]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(de(e).weekdayMismatch=!0)}}function YO(e){var t,n,r,s,i,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Ns(t.GG,e._a[Ct],fo(ze(),1,4).year),r=Ns(t.W,1),s=Ns(t.E,1),(s<1||s>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=fo(ze(),i,o),n=Ns(t.gg,e._a[Ct],u.year),r=Ns(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(l=!0)):s=i),r<1||r>Jn(n,i,o)?de(e)._overflowWeeks=!0:l!=null?de(e)._overflowWeekday=!0:(a=A0(n,r,s,i,o),e._a[Ct]=a.year,e._dayOfYear=a.dayOfYear)}$.ISO_8601=function(){};$.RFC_2822=function(){};function Ed(e){if(e._f===$.ISO_8601){P0(e);return}if(e._f===$.RFC_2822){M0(e);return}e._a=[],de(e).empty=!0;var t=""+e._i,n,r,s,i,o,a=t.length,l=0,u;for(s=m0(e._f,e._locale).match(dd)||[],n=0;n<s.length;n++)i=s[n],r=(t.match(MA(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&de(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Hs[i]?(r?de(e).empty=!1:de(e).unusedTokens.push(i),LA(i,r,e)):e._strict&&!r&&de(e).unusedTokens.push(i);de(e).charsLeftOver=a-l,t.length>0&&de(e).unusedInput.push(t),e._a[ut]<=12&&de(e).bigHour===!0&&e._a[ut]>0&&(de(e).bigHour=void 0),de(e).parsedDateParts=e._a.slice(0),de(e).meridiem=e._meridiem,e._a[ut]=WO(e._locale,e._a[ut],e._meridiem),u=de(e).era,u!==null&&(e._a[Ct]=e._locale.erasConvertYear(u,e._a[Ct])),_d(e),bd(e)}function WO(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function qO(e){var t,n,r,s,i,o,a=!1;if(e._f.length===0){de(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<e._f.length;s++)i=0,o=!1,t=cd({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Ed(t),ud(t)&&(o=!0),i+=de(t).charsLeftOver,i+=de(t).unusedTokens.length*10,de(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(a=!0));Er(e,n||t)}function zO(e){if(!e._d){var t=fd(e._i),n=t.day===void 0?t.date:t.day;e._a=d0([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),_d(e)}}function KO(e){var t=new Fo(bd(N0(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function N0(e){var t=e._i,n=e._f;return e._locale=e._locale||or(e._l),t===null||n===void 0&&t===""?Bl({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),bn(t)?new Fo(bd(t)):(Lo(t)?e._d=t:wn(n)?qO(e):n?Ed(e):GO(e),ud(e)||(e._d=null),e))}function GO(e){var t=e._i;Ft(t)?e._d=new Date($.now()):Lo(t)?e._d=new Date(t.valueOf()):typeof t=="string"?BO(e):wn(t)?(e._a=d0(t.slice(0),function(n){return parseInt(n,10)}),_d(e)):ns(t)?zO(e):tr(t)?e._d=new Date(t):$.createFromInputFallback(e)}function L0(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ns(e)&&ld(e)||wn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,KO(i)}function ze(e,t,n,r){return L0(e,t,n,r,!1)}var XO=un("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ze.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Bl()}),JO=un("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ze.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Bl()});function F0(e,t){var n,r;if(t.length===1&&wn(t[0])&&(t=t[0]),!t.length)return ze();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function QO(){var e=[].slice.call(arguments,0);return F0("isBefore",e)}function ZO(){var e=[].slice.call(arguments,0);return F0("isAfter",e)}var eR=function(){return Date.now?Date.now():+new Date},Pi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tR(e){var t,n=!1,r;for(t in e)if(Ie(e,t)&&!(rt.call(Pi,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<Pi.length;++r)if(e[Pi[r]]){if(n)return!1;parseFloat(e[Pi[r]])!==ge(e[Pi[r]])&&(n=!0)}return!0}function nR(){return this._isValid}function rR(){return _n(NaN)}function Jl(e){var t=fd(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=tR(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=or(),this._bubble()}function Ia(e){return e instanceof Jl}function Hc(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function sR(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ge(e[o])!==ge(t[o]))&&i++;return i+s}function U0(e,t){J(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Nn(~~(n/60),2)+t+Nn(~~n%60,2)})}U0("Z",":");U0("ZZ","");B("Z",Kl);B("ZZ",Kl);Me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Td(Kl,e)});var iR=/([\+\-]|\d\d)/gi;function Td(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(iR)||["-",0,0],i=+(s[1]*60)+ge(s[2]),i===0?0:s[0]==="+"?i:-i)}function Sd(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(bn(e)||Lo(e)?e.valueOf():ze(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),$.updateOffset(n,!1),n):ze(e).local()}function Yc(e){return-Math.round(e._d.getTimezoneOffset())}$.updateOffset=function(){};function oR(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Td(Kl,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=Yc(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?j0(this,_n(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Yc(this)}function aR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function lR(e){return this.utcOffset(0,e)}function uR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yc(this),"m")),this}function cR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Td(xA,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hR(e){return this.isValid()?(e=e?ze(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function dR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fR(){if(!Ft(this._isDSTShifted))return this._isDSTShifted;var e={},t;return cd(e,this),e=N0(e),e._a?(t=e._isUTC?Fn(e._a):ze(e._a),this._isDSTShifted=this.isValid()&&sR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function pR(){return this.isValid()?!this._isUTC:!1}function mR(){return this.isValid()?this._isUTC:!1}function $0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _n(e,t){var n=e,r=null,s,i,o;return Ia(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:tr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=gR.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:ge(r[Cn])*s,h:ge(r[ut])*s,m:ge(r[mn])*s,s:ge(r[Kn])*s,ms:ge(Hc(r[Kr]*1e3))*s}):(r=vR.exec(e))?(s=r[1]==="-"?-1:1,n={y:jr(r[2],s),M:jr(r[3],s),w:jr(r[4],s),d:jr(r[5],s),h:jr(r[6],s),m:jr(r[7],s),s:jr(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=yR(ze(n.from),ze(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Jl(n),Ia(e)&&Ie(e,"_locale")&&(i._locale=e._locale),Ia(e)&&Ie(e,"_isValid")&&(i._isValid=e._isValid),i}_n.fn=Jl.prototype;_n.invalid=rR;function jr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ym(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function yR(e,t){var n;return e.isValid()&&t.isValid()?(t=Sd(t,e),e.isBefore(t)?n=ym(e,t):(n=ym(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function V0(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(p0(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=_n(n,r),j0(this,s,e),this}}function j0(e,t,n,r){var s=t._milliseconds,i=Hc(t._days),o=Hc(t._months);!e.isValid()||(r=r==null?!0:r,o&&S0(e,Ka(e,"Month")+o*n),i&&v0(e,"Date",Ka(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&$.updateOffset(e,i||o))}var wR=V0(1,"add"),bR=V0(-1,"subtract");function B0(e){return typeof e=="string"||e instanceof String}function _R(e){return bn(e)||Lo(e)||B0(e)||tr(e)||TR(e)||ER(e)||e===null||e===void 0}function ER(e){var t=ns(e)&&!ld(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Ie(e,i);return t&&n}function TR(e){var t=wn(e),n=!1;return t&&(n=e.filter(function(r){return!tr(r)&&B0(e)}).length===0),t&&n}function SR(e){var t=ns(e)&&!ld(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Ie(e,i);return t&&n}function IR(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function kR(e,t){arguments.length===1&&(arguments[0]?_R(arguments[0])?(e=arguments[0],t=void 0):SR(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ze(),r=Sd(n,this).startOf("day"),s=$.calendarFormat(this,r)||"sameElse",i=t&&(Un(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,ze(n)))}function CR(){return new Fo(this)}function AR(e,t){var n=bn(e)?e:ze(e);return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function OR(e,t){var n=bn(e)?e:ze(e);return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function RR(e,t,n,r){var s=bn(e)?e:ze(e),i=bn(t)?t:ze(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function DR(e,t){var n=bn(e)?e:ze(e),r;return this.isValid()&&n.isValid()?(t=cn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function xR(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function PR(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function MR(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=Sd(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=cn(t),t){case"year":i=ka(this,r)/12;break;case"month":i=ka(this,r);break;case"quarter":i=ka(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:nn(i)}function ka(e,t){if(e.date()<t.date())return-ka(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}$.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function NR(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function LR(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Sa(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Un(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sa(n,"Z")):Sa(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function FR(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function UR(e){e||(e=this.isUtc()?$.defaultFormatUtc:$.defaultFormat);var t=Sa(this,e);return this.localeData().postformat(t)}function $R(e,t){return this.isValid()&&(bn(e)&&e.isValid()||ze(e).isValid())?_n({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function VR(e){return this.from(ze(),e)}function jR(e,t){return this.isValid()&&(bn(e)&&e.isValid()||ze(e).isValid())?_n({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function BR(e){return this.to(ze(),e)}function H0(e){var t;return e===void 0?this._locale._abbr:(t=or(e),t!=null&&(this._locale=t),this)}var Y0=un("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function W0(){return this._locale}var Ja=1e3,Ys=60*Ja,Qa=60*Ys,q0=(365*400+97)*24*Qa;function Ws(e,t){return(e%t+t)%t}function z0(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-q0:new Date(e,t,n).valueOf()}function K0(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-q0:Date.UTC(e,t,n)}function HR(e){var t,n;if(e=cn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K0:z0,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ws(t+(this._isUTC?0:this.utcOffset()*Ys),Qa);break;case"minute":t=this._d.valueOf(),t-=Ws(t,Ys);break;case"second":t=this._d.valueOf(),t-=Ws(t,Ja);break}return this._d.setTime(t),$.updateOffset(this,!0),this}function YR(e){var t,n;if(e=cn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K0:z0,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qa-Ws(t+(this._isUTC?0:this.utcOffset()*Ys),Qa)-1;break;case"minute":t=this._d.valueOf(),t+=Ys-Ws(t,Ys)-1;break;case"second":t=this._d.valueOf(),t+=Ja-Ws(t,Ja)-1;break}return this._d.setTime(t),$.updateOffset(this,!0),this}function WR(){return this._d.valueOf()-(this._offset||0)*6e4}function qR(){return Math.floor(this.valueOf()/1e3)}function zR(){return new Date(this.valueOf())}function KR(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function GR(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function XR(){return this.isValid()?this.toISOString():null}function JR(){return ud(this)}function QR(){return Er({},de(this))}function ZR(){return de(this).overflow}function eD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr");J("NN",0,0,"eraAbbr");J("NNN",0,0,"eraAbbr");J("NNNN",0,0,"eraName");J("NNNNN",0,0,"eraNarrow");J("y",["y",1],"yo","eraYear");J("y",["yy",2],0,"eraYear");J("y",["yyy",3],0,"eraYear");J("y",["yyyy",4],0,"eraYear");B("N",Id);B("NN",Id);B("NNN",Id);B("NNNN",hD);B("NNNNN",dD);Me(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?de(n).era=s:de(n).invalidEra=e});B("y",yi);B("yy",yi);B("yyy",yi);B("yyyy",yi);B("yo",fD);Me(["y","yy","yyy","yyyy"],Ct);Me(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ct]=n._locale.eraYearOrdinalParse(e,s):t[Ct]=parseInt(e,10)});function tD(e,t){var n,r,s,i=this._eras||or("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=$(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=$(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function nD(e,t,n){var r,s,i=this.eras(),o,a,l;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([o,a,l].indexOf(e)>=0)return i[r]}function rD(e,t){var n=e.since<=e.until?1:-1;return t===void 0?$(e.since).year():$(e.since).year()+(t-e.offset)*n}function sD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function iD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function oD(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function aD(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-$(s[e].since).year())*n+s[e].offset;return this.year()}function lD(e){return Ie(this,"_erasNameRegex")||kd.call(this),e?this._erasNameRegex:this._erasRegex}function uD(e){return Ie(this,"_erasAbbrRegex")||kd.call(this),e?this._erasAbbrRegex:this._erasRegex}function cD(e){return Ie(this,"_erasNarrowRegex")||kd.call(this),e?this._erasNarrowRegex:this._erasRegex}function Id(e,t){return t.erasAbbrRegex(e)}function hD(e,t){return t.erasNameRegex(e)}function dD(e,t){return t.erasNarrowRegex(e)}function fD(e,t){return t._eraYearOrdinalRegex||yi}function kd(){var e=[],t=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)t.push(Ht(o[s].name)),e.push(Ht(o[s].abbr)),n.push(Ht(o[s].narrow)),r.push(Ht(o[s].name)),r.push(Ht(o[s].abbr)),r.push(Ht(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100});J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ql(e,t){J(0,[e,e.length],0,t)}Ql("gggg","weekYear");Ql("ggggg","weekYear");Ql("GGGG","isoWeekYear");Ql("GGGGG","isoWeekYear");Ot("weekYear","gg");Ot("isoWeekYear","GG");Rt("weekYear",1);Rt("isoWeekYear",1);B("G",zl);B("g",zl);B("GG",Ke,Jt);B("gg",Ke,Jt);B("GGGG",md,pd);B("gggg",md,pd);B("GGGGG",ql,Yl);B("ggggg",ql,Yl);$o(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ge(e)});$o(["gg","GG"],function(e,t,n,r){t[r]=$.parseTwoDigitYear(e)});function pD(e){return G0.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mD(e){return G0.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function gD(){return Jn(this.year(),1,4)}function vD(){return Jn(this.isoWeekYear(),1,4)}function yD(){var e=this.localeData()._week;return Jn(this.year(),e.dow,e.doy)}function wD(){var e=this.localeData()._week;return Jn(this.weekYear(),e.dow,e.doy)}function G0(e,t,n,r,s){var i;return e==null?fo(this,r,s).year:(i=Jn(e,r,s),t>i&&(t=i),bD.call(this,e,t,n,r,s))}function bD(e,t,n,r,s){var i=A0(e,t,n,r,s),o=ho(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}J("Q",0,"Qo","quarter");Ot("quarter","Q");Rt("quarter",7);B("Q",y0);Me("Q",function(e,t){t[zn]=(ge(e)-1)*3});function _D(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}J("D",["DD",2],"Do","date");Ot("date","D");Rt("date",9);B("D",Ke);B("DD",Ke,Jt);B("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Me(["D","DD"],Cn);Me("Do",function(e,t){t[Cn]=ge(e.match(Ke)[0])});var X0=vi("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear");Ot("dayOfYear","DDD");Rt("dayOfYear",4);B("DDD",Wl);B("DDDD",w0);Me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ge(e)});function ED(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}J("m",["mm",2],0,"minute");Ot("minute","m");Rt("minute",14);B("m",Ke);B("mm",Ke,Jt);Me(["m","mm"],mn);var TD=vi("Minutes",!1);J("s",["ss",2],0,"second");Ot("second","s");Rt("second",15);B("s",Ke);B("ss",Ke,Jt);Me(["s","ss"],Kn);var SD=vi("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)});J(0,["SS",2],0,function(){return~~(this.millisecond()/10)});J(0,["SSS",3],0,"millisecond");J(0,["SSSS",4],0,function(){return this.millisecond()*10});J(0,["SSSSS",5],0,function(){return this.millisecond()*100});J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ot("millisecond","ms");Rt("millisecond",16);B("S",Wl,y0);B("SS",Wl,Jt);B("SSS",Wl,w0);var Tr,J0;for(Tr="SSSS";Tr.length<=9;Tr+="S")B(Tr,yi);function ID(e,t){t[Kr]=ge(("0."+e)*1e3)}for(Tr="S";Tr.length<=9;Tr+="S")Me(Tr,ID);J0=vi("Milliseconds",!1);J("z",0,0,"zoneAbbr");J("zz",0,0,"zoneName");function kD(){return this._isUTC?"UTC":""}function CD(){return this._isUTC?"Coordinated Universal Time":""}var A=Fo.prototype;A.add=wR;A.calendar=kR;A.clone=CR;A.diff=MR;A.endOf=YR;A.format=UR;A.from=$R;A.fromNow=VR;A.to=jR;A.toNow=BR;A.get=RA;A.invalidAt=ZR;A.isAfter=AR;A.isBefore=OR;A.isBetween=RR;A.isSame=DR;A.isSameOrAfter=xR;A.isSameOrBefore=PR;A.isValid=JR;A.lang=Y0;A.locale=H0;A.localeData=W0;A.max=JO;A.min=XO;A.parsingFlags=QR;A.set=DA;A.startOf=HR;A.subtract=bR;A.toArray=KR;A.toObject=GR;A.toDate=zR;A.toISOString=LR;A.inspect=FR;typeof Symbol!="undefined"&&Symbol.for!=null&&(A[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});A.toJSON=XR;A.toString=NR;A.unix=qR;A.valueOf=WR;A.creationData=eD;A.eraName=sD;A.eraNarrow=iD;A.eraAbbr=oD;A.eraYear=aD;A.year=C0;A.isLeapYear=XA;A.weekYear=pD;A.isoWeekYear=mD;A.quarter=A.quarters=_D;A.month=I0;A.daysInMonth=zA;A.week=A.weeks=nO;A.isoWeek=A.isoWeeks=rO;A.weeksInYear=yD;A.weeksInWeekYear=wD;A.isoWeeksInYear=gD;A.isoWeeksInISOWeekYear=vD;A.date=X0;A.day=A.days=gO;A.weekday=vO;A.isoWeekday=yO;A.dayOfYear=ED;A.hour=A.hours=IO;A.minute=A.minutes=TD;A.second=A.seconds=SD;A.millisecond=A.milliseconds=J0;A.utcOffset=oR;A.utc=lR;A.local=uR;A.parseZone=cR;A.hasAlignedHourOffset=hR;A.isDST=dR;A.isLocal=pR;A.isUtcOffset=mR;A.isUtc=$0;A.isUTC=$0;A.zoneAbbr=kD;A.zoneName=CD;A.dates=un("dates accessor is deprecated. Use date instead.",X0);A.months=un("months accessor is deprecated. Use month instead",I0);A.years=un("years accessor is deprecated. Use year instead",C0);A.zone=un("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aR);A.isDSTShifted=un("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fR);function AD(e){return ze(e*1e3)}function OD(){return ze.apply(null,arguments).parseZone()}function Q0(e){return e}var ke=hd.prototype;ke.calendar=gA;ke.longDateFormat=bA;ke.invalidDate=EA;ke.ordinal=IA;ke.preparse=Q0;ke.postformat=Q0;ke.relativeTime=CA;ke.pastFuture=AA;ke.set=pA;ke.eras=tD;ke.erasParse=nD;ke.erasConvertYear=rD;ke.erasAbbrRegex=uD;ke.erasNameRegex=lD;ke.erasNarrowRegex=cD;ke.months=HA;ke.monthsShort=YA;ke.monthsParse=qA;ke.monthsRegex=GA;ke.monthsShortRegex=KA;ke.week=QA;ke.firstDayOfYear=tO;ke.firstDayOfWeek=eO;ke.weekdays=hO;ke.weekdaysMin=fO;ke.weekdaysShort=dO;ke.weekdaysParse=mO;ke.weekdaysRegex=wO;ke.weekdaysShortRegex=bO;ke.weekdaysMinRegex=_O;ke.isPM=TO;ke.meridiem=kO;function Za(e,t,n,r){var s=or(),i=Fn().set(r,t);return s[n](i,e)}function Z0(e,t,n){if(tr(e)&&(t=e,e=void 0),e=e||"",t!=null)return Za(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Za(e,r,n,"month");return s}function Cd(e,t,n,r){typeof e=="boolean"?(tr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,tr(t)&&(n=t,t=void 0),t=t||"");var s=or(),i=e?s._week.dow:0,o,a=[];if(n!=null)return Za(t,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=Za(t,(o+i)%7,r,"day");return a}function RD(e,t){return Z0(e,t,"months")}function DD(e,t){return Z0(e,t,"monthsShort")}function xD(e,t,n){return Cd(e,t,n,"weekdays")}function PD(e,t,n){return Cd(e,t,n,"weekdaysShort")}function MD(e,t,n){return Cd(e,t,n,"weekdaysMin")}kr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ge(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});$.lang=un("moment.lang is deprecated. Use moment.locale instead.",kr);$.langData=un("moment.langData is deprecated. Use moment.localeData instead.",or);var Vn=Math.abs;function ND(){var e=this._data;return this._milliseconds=Vn(this._milliseconds),this._days=Vn(this._days),this._months=Vn(this._months),e.milliseconds=Vn(e.milliseconds),e.seconds=Vn(e.seconds),e.minutes=Vn(e.minutes),e.hours=Vn(e.hours),e.months=Vn(e.months),e.years=Vn(e.years),this}function ew(e,t,n,r){var s=_n(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function LD(e,t){return ew(this,e,t,1)}function FD(e,t){return ew(this,e,t,-1)}function wm(e){return e<0?Math.floor(e):Math.ceil(e)}function UD(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=wm(Wc(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=nn(e/1e3),r.seconds=s%60,i=nn(s/60),r.minutes=i%60,o=nn(i/60),r.hours=o%24,t+=nn(o/24),l=nn(tw(t)),n+=l,t-=wm(Wc(l)),a=nn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function tw(e){return e*4800/146097}function Wc(e){return e*146097/4800}function $D(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=cn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+tw(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Wc(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function VD(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ge(this._months/12)*31536e6:NaN}function ar(e){return function(){return this.as(e)}}var jD=ar("ms"),BD=ar("s"),HD=ar("m"),YD=ar("h"),WD=ar("d"),qD=ar("w"),zD=ar("M"),KD=ar("Q"),GD=ar("y");function XD(){return _n(this)}function JD(e){return e=cn(e),this.isValid()?this[e+"s"]():NaN}function _s(e){return function(){return this.isValid()?this._data[e]:NaN}}var QD=_s("milliseconds"),ZD=_s("seconds"),ex=_s("minutes"),tx=_s("hours"),nx=_s("days"),rx=_s("months"),sx=_s("years");function ix(){return nn(this.days()/7)}var Bn=Math.round,Ls={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ox(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function ax(e,t,n,r){var s=_n(e).abs(),i=Bn(s.as("s")),o=Bn(s.as("m")),a=Bn(s.as("h")),l=Bn(s.as("d")),u=Bn(s.as("M")),c=Bn(s.as("w")),h=Bn(s.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=t,d[3]=+e>0,d[4]=r,ox.apply(null,d)}function lx(e){return e===void 0?Bn:typeof e=="function"?(Bn=e,!0):!1}function ux(e,t){return Ls[e]===void 0?!1:t===void 0?Ls[e]:(Ls[e]=t,e==="s"&&(Ls.ss=t-1),!0)}function cx(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ls,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ls,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=ax(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var zu=Math.abs;function Rs(e){return(e>0)-(e<0)||+e}function Zl(){if(!this.isValid())return this.localeData().invalidDate();var e=zu(this._milliseconds)/1e3,t=zu(this._days),n=zu(this._months),r,s,i,o,a=this.asSeconds(),l,u,c,h;return a?(r=nn(e/60),s=nn(r/60),e%=60,r%=60,i=nn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Rs(this._months)!==Rs(a)?"-":"",c=Rs(this._days)!==Rs(a)?"-":"",h=Rs(this._milliseconds)!==Rs(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(s||r||e?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var _e=Jl.prototype;_e.isValid=nR;_e.abs=ND;_e.add=LD;_e.subtract=FD;_e.as=$D;_e.asMilliseconds=jD;_e.asSeconds=BD;_e.asMinutes=HD;_e.asHours=YD;_e.asDays=WD;_e.asWeeks=qD;_e.asMonths=zD;_e.asQuarters=KD;_e.asYears=GD;_e.valueOf=VD;_e._bubble=UD;_e.clone=XD;_e.get=JD;_e.milliseconds=QD;_e.seconds=ZD;_e.minutes=ex;_e.hours=tx;_e.days=nx;_e.weeks=ix;_e.months=rx;_e.years=sx;_e.humanize=cx;_e.toISOString=Zl;_e.toString=Zl;_e.toJSON=Zl;_e.locale=H0;_e.localeData=W0;_e.toIsoString=un("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zl);_e.lang=Y0;J("X",0,0,"unix");J("x",0,0,"valueOf");B("x",zl);B("X",PA);Me("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Me("x",function(e,t,n){n._d=new Date(ge(e))});//! moment.js
$.version="2.29.1";dA(ze);$.fn=A;$.min=QO;$.max=ZO;$.now=eR;$.utc=Fn;$.unix=AD;$.months=RD;$.isDate=Lo;$.locale=kr;$.invalid=Bl;$.duration=_n;$.isMoment=bn;$.weekdays=xD;$.parseZone=OD;$.localeData=or;$.isDuration=Ia;$.monthsShort=DD;$.weekdaysMin=MD;$.defineLocale=wd;$.updateLocale=OO;$.locales=RO;$.weekdaysShort=PD;$.normalizeUnits=cn;$.relativeTimeRounding=lx;$.relativeTimeThreshold=ux;$.calendarFormat=IR;$.prototype=A;$.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};let EU=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=n[e]&63;r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r<63?t+="_":t+="-"}return t};var hx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},H,Ad=Ad||{},se=hx||self;function el(){}function qc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Vo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function dx(e){return Object.prototype.hasOwnProperty.call(e,Ku)&&e[Ku]||(e[Ku]=++fx)}var Ku="closure_uid_"+(1e9*Math.random()>>>0),fx=0;function px(e,t,n){return e.call.apply(e.bind,arguments)}function mx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=px:wt=mx,wt.apply(null,arguments)}function fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function St(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function Nr(){this.s=this.s,this.o=this.o}var gx=0,vx={};Nr.prototype.s=!1;Nr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),gx!=0)){var e=dx(this);delete vx[e]}};Nr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},rw=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s=typeof e=="string"?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function yx(e){e:{var t=uP;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function bm(e){return Array.prototype.concat.apply([],arguments)}function Od(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function tl(e){return/^[\s\xa0]*$/.test(e)}var _m=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pt(e,t){return e.indexOf(t)!=-1}function Gu(e,t){return e<t?-1:e>t?1:0}var Mt;e:{var Em=se.navigator;if(Em){var Tm=Em.userAgent;if(Tm){Mt=Tm;break e}}Mt=""}function Rd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function sw(e){const t={};for(const n in e)t[n]=e[n];return t}var Sm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iw(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Sm.length;i++)n=Sm[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Dd(e){return Dd[" "](e),e}Dd[" "]=el;function wx(e){var t=Ex;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var bx=Pt(Mt,"Opera"),ni=Pt(Mt,"Trident")||Pt(Mt,"MSIE"),ow=Pt(Mt,"Edge"),zc=ow||ni,aw=Pt(Mt,"Gecko")&&!(Pt(Mt.toLowerCase(),"webkit")&&!Pt(Mt,"Edge"))&&!(Pt(Mt,"Trident")||Pt(Mt,"MSIE"))&&!Pt(Mt,"Edge"),_x=Pt(Mt.toLowerCase(),"webkit")&&!Pt(Mt,"Edge");function lw(){var e=se.document;return e?e.documentMode:void 0}var nl;e:{var Xu="",Ju=function(){var e=Mt;if(aw)return/rv:([^\);]+)(\)|;)/.exec(e);if(ow)return/Edge\/([\d\.]+)/.exec(e);if(ni)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(_x)return/WebKit\/(\S+)/.exec(e);if(bx)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ju&&(Xu=Ju?Ju[1]:""),ni){var Qu=lw();if(Qu!=null&&Qu>parseFloat(Xu)){nl=String(Qu);break e}}nl=Xu}var Ex={};function Tx(){return wx(function(){let e=0;const t=_m(String(nl)).split("."),n=_m("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;e=Gu(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||Gu(s[2].length==0,i[2].length==0)||Gu(s[2],i[2]),s=s[3],i=i[3]}while(e==0)}return 0<=e})}var Kc;if(se.document&&ni){var Im=lw();Kc=Im||parseInt(nl,10)||void 0}else Kc=void 0;var Sx=Kc,Ix=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",el,t),se.removeEventListener("test",el,t)}catch{}return e}();function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};function mo(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(aw){e:{try{Dd(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:kx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mo.Z.h.call(this)}}St(mo,At);var kx={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),Cx=0;function Ax(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++Cx,this.ca=this.fa=!1}function eu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function tu(e){this.src=e,this.g={},this.h=0}tu.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Xc(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Ax(t,this.src,i,!!r,s),t.fa=n,e.push(t)),t};function Gc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=nw(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(eu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Xc(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}var xd="closure_lm_"+(1e6*Math.random()|0),Zu={};function uw(e,t,n,r,s){if(r&&r.once)return hw(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)uw(e,t[i],n,r,s);return null}return n=Nd(n),e&&e[jo]?e.N(t,n,Vo(r)?!!r.capture:!!r,s):cw(e,t,n,!1,r,s)}function cw(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Vo(s)?!!s.capture:!!s,a=Md(e);if(a||(e[xd]=a=new tu(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=Ox(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ix||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(fw(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ox(){function e(n){return t.call(e.src,e.listener,n)}var t=Rx;return e}function hw(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)hw(e,t[i],n,r,s);return null}return n=Nd(n),e&&e[jo]?e.O(t,n,Vo(r)?!!r.capture:!!r,s):cw(e,t,n,!0,r,s)}function dw(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)dw(e,t[i],n,r,s);else r=Vo(r)?!!r.capture:!!r,n=Nd(n),e&&e[jo]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Xc(i,n,r,s),-1<n&&(eu(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Md(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xc(t,n,r,s)),(n=-1<e?t[e]:null)&&Pd(n))}function Pd(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[jo])Gc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Md(t))?(Gc(n,e),n.h==0&&(n.src=null,t[xd]=null)):eu(e)}}}function fw(e){return e in Zu?Zu[e]:Zu[e]="on"+e}function Rx(e,t){if(e.ca)e=!0;else{t=new mo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Pd(e),e=n.call(r,t)}return e}function Md(e){return e=e[xd],e instanceof tu?e:null}var ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nd(e){return typeof e=="function"?e:(e[ec]||(e[ec]=function(t){return e.handleEvent(t)}),e[ec])}function ft(){Nr.call(this),this.i=new tu(this),this.P=this,this.I=null}St(ft,Nr);ft.prototype[jo]=!0;ft.prototype.removeEventListener=function(e,t,n,r){dw(this,e,t,n,r)};function bt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var s=t;t=new At(r,e),iw(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=pa(o,r,!0,t)&&s}if(o=t.g=e,s=pa(o,r,!0,t)&&s,s=pa(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=pa(o,r,!1,t)&&s}ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)eu(n[r]);delete e.g[t],e.h--}}this.I=null};ft.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function pa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Gc(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ld=se.JSON.stringify;function Dx(){var e=mw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class xx{constructor(){this.h=this.g=null}add(t,n){const r=pw.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var pw=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Px,e=>e.reset());class Px{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mx(e){se.setTimeout(()=>{throw e},0)}function Fd(e,t){Jc||Nx(),Qc||(Jc(),Qc=!0),mw.add(e,t)}var Jc;function Nx(){var e=se.Promise.resolve(void 0);Jc=function(){e.then(Lx)}}var Qc=!1,mw=new xx;function Lx(){for(var e;e=Dx();){try{e.h.call(e.g)}catch(n){Mx(n)}var t=pw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qc=!1}function nu(e,t){ft.call(this),this.h=e||1,this.g=t||se,this.j=wt(this.kb,this),this.l=Date.now()}St(nu,ft);H=nu.prototype;H.da=!1;H.S=null;H.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bt(this,"tick"),this.da&&(Ud(this),this.start()))}};H.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ud(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}H.M=function(){nu.Z.M.call(this),Ud(this),delete this.g};function $d(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function gw(e){e.g=$d(()=>{e.g=null,e.i&&(e.i=!1,gw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Fx extends Nr{constructor(t,n){super();this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:gw(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(e){Nr.call(this),this.h=e,this.g={}}St(go,Nr);var km=[];function vw(e,t,n,r){Array.isArray(n)||(n&&(km[0]=n.toString()),n=km);for(var s=0;s<n.length;s++){var i=uw(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function yw(e){Rd(e.g,function(t,n){this.g.hasOwnProperty(n)&&Pd(t)},e),e.g={}}go.prototype.M=function(){go.Z.M.call(this),yw(this)};go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ru(){this.g=!0}ru.prototype.Aa=function(){this.g=!1};function Ux(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function $x(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Fs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+jx(e,n)+(r?" "+r:"")})}function Vx(e,t){e.info(function(){return"TIMEOUT: "+t})}ru.prototype.info=function(){};function jx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ld(n)}catch{return t}}var Es={},Cm=null;function su(){return Cm=Cm||new ft}Es.Ma="serverreachability";function ww(e){At.call(this,Es.Ma,e)}St(ww,At);function vo(e){const t=su();bt(t,new ww(t,e))}Es.STAT_EVENT="statevent";function bw(e,t){At.call(this,Es.STAT_EVENT,e),this.stat=t}St(bw,At);function Nt(e){const t=su();bt(t,new bw(t,e))}Es.Na="timingevent";function _w(e,t){At.call(this,Es.Na,e),this.size=t}St(_w,At);function Bo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var iu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ew={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vd(){}Vd.prototype.h=null;function Am(e){return e.h||(e.h=e.i())}function Tw(){}var Ho={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jd(){At.call(this,"d")}St(jd,At);function Bd(){At.call(this,"c")}St(Bd,At);var Zc;function ou(){}St(ou,Vd);ou.prototype.g=function(){return new XMLHttpRequest};ou.prototype.i=function(){return{}};Zc=new ou;function Yo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new go(this),this.P=Bx,e=zc?125:void 0,this.W=new nu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sw}function Sw(){this.i=null,this.g="",this.h=!1}var Bx=45e3,eh={},rl={};H=Yo.prototype;H.setTimeout=function(e){this.P=e};function th(e,t,n){e.K=1,e.v=lu(nr(t)),e.s=n,e.U=!0,Iw(e,null)}function Iw(e,t){e.F=Date.now(),Wo(e),e.A=nr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),xw(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sw,e.g=Qw(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fx(wt(e.Ia,e,e.g),e.O)),vw(e.V,e.g,"readystatechange",e.gb),t=e.H?sw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),vo(1),Ux(e.j,e.u,e.A,e.m,e.X,e.s)}H.gb=function(e){e=e.target;const t=this.L;t&&Gn(e)==3?t.l():this.Ia(e)};H.Ia=function(e){try{if(e==this.g)e:{const c=Gn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||zc||this.g&&(this.h.h||this.g.ga()||xm(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?vo(3):vo(2)),au(this);var n=this.g.ba();this.N=n;t:if(kw(this)){var r=xm(this.g);e="";var s=r.length,i=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Gr(this),Gi(this);var o="";break t}this.h.i=new se.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,$x(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tl(a)){var u=a;break t}}u=null}if(n=u)Fs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nh(this,n);else{this.i=!1,this.o=3,Nt(12),Gr(this),Gi(this);break e}}this.U?(Cw(this,c,o),zc&&this.i&&c==3&&(vw(this.V,this.W,"tick",this.fb),this.W.start())):(Fs(this.j,this.m,o,null),nh(this,o)),c==4&&Gr(this),this.i&&!this.I&&(c==4?Kw(this.l,this):(this.i=!1,Wo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),Gr(this),Gi(this)}}}catch{}finally{}};function kw(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Cw(e,t,n){let r=!0,s;for(;!e.I&&e.C<n.length;)if(s=Hx(e,n),s==rl){t==4&&(e.o=4,Nt(14),r=!1),Fs(e.j,e.m,null,"[Incomplete Response]");break}else if(s==eh){e.o=4,Nt(15),Fs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Fs(e.j,e.m,s,null),nh(e,s);kw(e)&&s!=rl&&s!=eh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Nt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jd(t),t.L=!0,Nt(11))):(Fs(e.j,e.m,n,"[Invalid Chunked Response]"),Gr(e),Gi(e))}H.fb=function(){if(this.g){var e=Gn(this.g),t=this.g.ga();this.C<t.length&&(au(this),Cw(this,e,t),this.i&&e!=4&&Wo(this))}};function Hx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?rl:(n=Number(t.substring(n,r)),isNaN(n)?eh:(r+=1,r+n>t.length?rl:(t=t.substr(r,n),e.C=r+n,t)))}H.cancel=function(){this.I=!0,Gr(this)};function Wo(e){e.Y=Date.now()+e.P,Aw(e,e.P)}function Aw(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Bo(wt(e.eb,e),t)}function au(e){e.B&&(se.clearTimeout(e.B),e.B=null)}H.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Vx(this.j,this.A),this.K!=2&&(vo(3),Nt(17)),Gr(this),this.o=2,Gi(this)):Aw(this,this.Y-e)};function Gi(e){e.l.G==0||e.I||Kw(e.l,e)}function Gr(e){au(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Ud(e.W),yw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function nh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||rh(n.i,e))){if(n.I=e.N,!e.J&&rh(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)al(n),hu(n);else break e;Xd(n),Nt(18)}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=Bo(wt(n.ab,n),6e3));if(1>=Nw(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Xr(n,11)}else if((e.J||n.g==e)&&al(n),!tl(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let u=s[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;!i.g&&(Pt(p,"spdy")||Pt(p,"quic")||Pt(p,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Wd(i,i.h),i.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Qe(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=Jw(r,r.H?r.la:null,r.W),o.J){Lw(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(au(a),Wo(a)),r.g=o}else qw(r);0<n.l.length&&du(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):Gd(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}vo(4)}catch{}}function Yx(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(qc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Hd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(qc(e)||typeof e=="string")rw(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(qc(e)||typeof e=="string"){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;r=Yx(e),s=r.length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function wi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}H=wi.prototype;H.R=function(){Yd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};H.T=function(){return Yd(this),this.g.concat()};function Yd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ls(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)r=e.g[t],ls(s,r)||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}H.get=function(e,t){return ls(this.h,e)?this.h[e]:t};H.set=function(e,t){ls(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};H.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};function ls(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ow=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function us(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof us){this.g=t!==void 0?t:e.g,sl(this,e.j),this.s=e.s,il(this,e.i),ol(this,e.m),this.l=e.l,t=e.h;var n=new yo;n.i=t.i,t.g&&(n.g=new wi(t.g),n.h=t.h),Om(this,n),this.o=e.o}else e&&(n=String(e).match(Ow))?(this.g=!!t,sl(this,n[1]||"",!0),this.s=Xi(n[2]||""),il(this,n[3]||"",!0),ol(this,n[4]),this.l=Xi(n[5]||"",!0),Om(this,n[6]||"",!0),this.o=Xi(n[7]||"")):(this.g=!!t,this.h=new yo(null,this.g))}us.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ui(t,Rm,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ui(t,Rm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ui(n,n.charAt(0)=="/"?Xx:Gx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ui(n,Qx)),e.join("")};function nr(e){return new us(e)}function sl(e,t,n){e.j=n?Xi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function il(e,t,n){e.i=n?Xi(t,!0):t}function ol(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Om(e,t,n){t instanceof yo?(e.h=t,Zx(e.h,e.g)):(n||(t=Ui(t,Jx)),e.h=new yo(t,e.g))}function Qe(e,t,n){e.h.set(t,n)}function lu(e){return Qe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qx(e){return e instanceof us?nr(e):new us(e,void 0)}function zx(e,t,n,r){var s=new us(null,void 0);return e&&sl(s,e),t&&il(s,t),n&&ol(s,n),r&&(s.l=r),s}function Xi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ui(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Kx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Rm=/[#\/\?@]/g,Gx=/[#\?:]/g,Xx=/[#\?]/g,Jx=/[#\?@]/g,Qx=/#/g;function yo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Lr(e){e.g||(e.g=new wi,e.h=0,e.i&&Wx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}H=yo.prototype;H.add=function(e,t){Lr(this),this.i=null,e=bi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Rw(e,t){Lr(e),t=bi(e,t),ls(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ls(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yd(e)))}function Dw(e,t){return Lr(e),t=bi(e,t),ls(e.g.h,t)}H.forEach=function(e,t){Lr(this),this.g.forEach(function(n,r){rw(n,function(s){e.call(t,s,r,this)},this)},this)};H.T=function(){Lr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n};H.R=function(e){Lr(this);var t=[];if(typeof e=="string")Dw(this,e)&&(t=bm(t,this.g.get(bi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bm(t,e[n])}return t};H.set=function(e,t){return Lr(this),this.i=null,e=bi(this,e),Dw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};H.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function xw(e,t,n){Rw(e,t),0<n.length&&(e.i=null,e.g.set(bi(e,t),Od(n)),e.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;r[i]!==""&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};function bi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Zx(e,t){t&&!e.j&&(Lr(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Rw(this,r),xw(this,s,n))},e)),e.j=t}var eP=class{constructor(e,t){this.h=e,this.g=t}};function Pw(e){this.l=e||tP,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tP=10;function Mw(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Nw(e){return e.h?1:e.g?e.g.size:0}function rh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Wd(e,t){e.g?e.g.add(t):e.h=t}function Lw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Pw.prototype.cancel=function(){if(this.i=Fw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Fw(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Od(e.i)}function qd(){}qd.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};qd.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function nP(){this.g=new qd}function rP(e,t,n){const r=n||"";try{Hd(e,function(s,i){let o=s;Vo(s)&&(o=Ld(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function sP(e,t){const n=new ru;if(se.Image){const r=new Image;r.onload=fa(ma,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fa(ma,n,r,"TestLoadImage: error",!1,t),r.onabort=fa(ma,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fa(ma,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ma(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function qo(e){this.l=e.$b||null,this.j=e.ib||!1}St(qo,Vd);qo.prototype.g=function(){return new uu(this.l,this.j)};qo.prototype.i=function(e){return function(){return e}}({});function uu(e,t){ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(uu,ft);var zd=0;H=uu.prototype;H.open=function(e,t){if(this.readyState!=zd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wo(this)};H.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||se).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=zd};H.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uw(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Uw(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}H.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zo(this):wo(this),this.readyState==3&&Uw(this)}};H.Ua=function(e){this.g&&(this.response=this.responseText=e,zo(this))};H.Ta=function(e){this.g&&(this.response=e,zo(this))};H.ha=function(){this.g&&zo(this)};function zo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wo(e)}H.setRequestHeader=function(e,t){this.v.append(e,t)};H.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function wo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iP=se.JSON.parse;function lt(e){ft.call(this),this.headers=new wi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$w,this.K=this.L=!1}St(lt,ft);var $w="",oP=/^https?$/i,aP=["POST","PUT"];H=lt.prototype;H.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zc.g(),this.C=this.u?Am(this.u):Am(Zc),this.g.onreadystatechange=wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){Dm(this,i);return}e=n||"";const s=new wi(this.headers);r&&Hd(r,function(i,o){s.set(o,i)}),r=yx(s.T()),n=se.FormData&&e instanceof se.FormData,!(0<=nw(aP,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bw(this),0<this.B&&((this.K=lP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.pa,this)):this.A=$d(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Dm(this,i)}};function lP(e){return ni&&Tx()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function uP(e){return e.toLowerCase()=="content-type"}H.pa=function(){typeof Ad!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function Dm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vw(e),cu(e)}function Vw(e){e.D||(e.D=!0,bt(e,"complete"),bt(e,"error"))}H.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bt(this,"complete"),bt(this,"abort"),cu(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cu(this,!0)),lt.Z.M.call(this)};H.Fa=function(){this.s||(this.F||this.v||this.l?jw(this):this.cb())};H.cb=function(){jw(this)};function jw(e){if(e.h&&typeof Ad!="undefined"&&(!e.C[1]||Gn(e)!=4||e.ba()!=2)){if(e.v&&Gn(e)==4)$d(e.Fa,0,e);else if(bt(e,"readystatechange"),Gn(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.H).match(Ow)[1]||null;if(!s&&se.self&&se.self.location){var i=se.self.location.protocol;s=i.substr(0,i.length-1)}r=!oP.test(s?s.toLowerCase():"")}n=r}if(n)bt(e,"complete"),bt(e,"success");else{e.m=6;try{var o=2<Gn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",Vw(e)}}finally{cu(e)}}}}function cu(e,t){if(e.g){Bw(e);const n=e.g,r=e.C[0]?el:null;e.g=null,e.C=null,t||bt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Bw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(se.clearTimeout(e.A),e.A=null)}function Gn(e){return e.g?e.g.readyState:0}H.ba=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}};H.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iP(t)}};function xm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $w:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}H.Da=function(){return this.m};H.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function cP(e){let t="";return Rd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Kd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qe(e,t,n))}function Mi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hw(e){this.za=0,this.l=[],this.h=new ru,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mi("baseRetryDelayMs",5e3,e),this.$a=Mi("retryDelaySeedMs",1e4,e),this.Ya=Mi("forwardChannelMaxRetries",2,e),this.ra=Mi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Pw(e&&e.concurrentRequestLimit),this.Ca=new nP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}H=Hw.prototype;H.ma=8;H.G=1;function Gd(e){if(Yw(e),e.G==3){var t=e.V++,n=nr(e.F);Qe(n,"SID",e.J),Qe(n,"RID",t),Qe(n,"TYPE","terminate"),Ko(e,n),t=new Yo(e,e.h,t,void 0),t.K=2,t.v=lu(nr(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.v.toString(),"")),!n&&se.Image&&(new Image().src=t.v,n=!0),n||(t.g=Qw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Wo(t)}Xw(e)}H.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function hu(e){e.g&&(Jd(e),e.g.cancel(),e.g=null)}function Yw(e){hu(e),e.u&&(se.clearTimeout(e.u),e.u=null),al(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&se.clearTimeout(e.m),e.m=null)}function tc(e,t){e.l.push(new eP(e.Za++,t)),e.G==3&&du(e)}function du(e){Mw(e.i)||e.m||(e.m=!0,Fd(e.Ha,e),e.C=0)}function hP(e,t){return Nw(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Bo(wt(e.Ha,e,t),Gw(e,e.C)),e.C++,!0)}H.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Yo(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=sw(i),iw(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ww(this,s,t),n=nr(this.F),Qe(n,"RID",e),Qe(n,"CVER",22),this.D&&Qe(n,"X-HTTP-Session-Id",this.D),Ko(this,n),this.o&&i&&Kd(n,this.o,i),Wd(this.i,s),this.Ra&&Qe(n,"TYPE","init"),this.ja?(Qe(n,"$req",t),Qe(n,"SID","null"),s.$=!0,th(s,n,null)):th(s,n,t),this.G=2}}else this.G==3&&(e?Pm(this,e):this.l.length==0||Mw(this.i)||Pm(this))};function Pm(e,t){var n;t?n=t.m:n=e.V++;const r=nr(e.F);Qe(r,"SID",e.J),Qe(r,"RID",n),Qe(r,"AID",e.U),Ko(e,r),e.o&&e.s&&Kd(r,e.o,e.s),n=new Yo(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ww(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wd(e.i,n),th(n,r,t)}function Ko(e,t){e.j&&Hd({},function(n,r){Qe(t,r,n)})}function Ww(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wt(e.j.Oa,e.j,e):null;e:{var s=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].h;const c=s[l].g;if(u-=i,0>u)i=Math.max(0,s[l].h-100),a=!1;else try{rP(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function qw(e){e.g||e.u||(e.Y=1,Fd(e.Ga,e),e.A=0)}function Xd(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Bo(wt(e.Ga,e),Gw(e,e.A)),e.A++,!0)}H.Ga=function(){if(this.u=null,zw(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Bo(wt(this.bb,this),e)}};H.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nt(10),hu(this),zw(this))};function Jd(e){e.B!=null&&(se.clearTimeout(e.B),e.B=null)}function zw(e){e.g=new Yo(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=nr(e.oa);Qe(t,"RID","rpc"),Qe(t,"SID",e.J),Qe(t,"CI",e.N?"0":"1"),Qe(t,"AID",e.U),Ko(e,t),Qe(t,"TYPE","xmlhttp"),e.o&&e.s&&Kd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=lu(nr(t)),n.s=null,n.U=!0,Iw(n,e)}H.ab=function(){this.v!=null&&(this.v=null,hu(this),Xd(this),Nt(19))};function al(e){e.v!=null&&(se.clearTimeout(e.v),e.v=null)}function Kw(e,t){var n=null;if(e.g==t){al(e),Jd(e),e.g=null;var r=2}else if(rh(e.i,t))n=t.D,Lw(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=su(),bt(r,new _w(r,n,t,s)),du(e)}else qw(e);else if(s=t.o,s==3||s==0&&0<e.I||!(r==1&&hP(e,t)||r==2&&Xd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Xr(e,5);break;case 4:Xr(e,10);break;case 3:Xr(e,6);break;default:Xr(e,2)}}}function Gw(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=wt(e.jb,e);n||(n=new us("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||sl(n,"https"),lu(n)),sP(n.toString(),r)}else Nt(2);e.G=0,e.j&&e.j.va(t),Xw(e),Yw(e)}H.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nt(2)):(this.h.info("Failed to ping google.com"),Nt(1))};function Xw(e){e.G=0,e.I=-1,e.j&&((Fw(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Od(e.l),e.l.length=0),e.j.ua())}function Jw(e,t,n){let r=qx(n);if(r.i!="")t&&il(r,t+"."+r.i),ol(r,r.m);else{const s=se.location;r=zx(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&Rd(e.aa,function(s,i){Qe(r,i,s)}),t=e.D,n=e.sa,t&&n&&Qe(r,t,n),Qe(r,"VER",e.ma),Ko(e,r),r}function Qw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new lt(new qo({ib:!0})):new lt(e.qa),t.L=e.H,t}function Zw(){}H=Zw.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Oa=function(){};function ll(){if(ni&&!(10<=Number(Sx)))throw Error("Environmental error: no available transport.")}ll.prototype.g=function(e,t){return new Xt(e,t)};function Xt(e,t){ft.call(this),this.g=new Hw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!tl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _i(this)}St(Xt,ft);Xt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fd(wt(e.hb,e,t))),Nt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Jw(e,null,e.W),du(e)};Xt.prototype.close=function(){Gd(this.g)};Xt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,tc(this.g,t)}else this.v?(t={},t.__data__=Ld(e),tc(this.g,t)):tc(this.g,e)};Xt.prototype.M=function(){this.g.j=null,delete this.j,Gd(this.g),delete this.g,Xt.Z.M.call(this)};function eb(e){jd.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}St(eb,jd);function tb(){Bd.call(this),this.status=1}St(tb,Bd);function _i(e){this.g=e}St(_i,Zw);_i.prototype.xa=function(){bt(this.g,"a")};_i.prototype.wa=function(e){bt(this.g,new eb(e))};_i.prototype.va=function(e){bt(this.g,new tb(e))};_i.prototype.ua=function(){bt(this.g,"b")};ll.prototype.createWebChannel=ll.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;iu.NO_ERROR=0;iu.TIMEOUT=8;iu.HTTP_ERROR=6;Ew.COMPLETE="complete";Tw.EventType=Ho;Ho.OPEN="a";Ho.CLOSE="b";Ho.ERROR="c";Ho.MESSAGE="d";ft.prototype.listen=ft.prototype.N;lt.prototype.listenOnce=lt.prototype.O;lt.prototype.getLastError=lt.prototype.La;lt.prototype.getLastErrorCode=lt.prototype.Da;lt.prototype.getStatus=lt.prototype.ba;lt.prototype.getResponseJson=lt.prototype.Qa;lt.prototype.getResponseText=lt.prototype.ga;lt.prototype.send=lt.prototype.ea;var dP=function(){return new ll},fP=function(){return su()},nc=iu,pP=Ew,mP=Es,Mm={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gP=qo,ga=Tw,vP=lt;const Nm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ei="9.6.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Pl("@firebase/firestore");function Lm(){return cs.logLevel}function G(e,...t){if(cs.logLevel<=Ce.DEBUG){const n=t.map(Qd);cs.debug(`Firestore (${Ei}): ${e}`,...n)}}function Dr(e,...t){if(cs.logLevel<=Ce.ERROR){const n=t.map(Qd);cs.error(`Firestore (${Ei}): ${e}`,...n)}}function Fm(e,...t){if(cs.logLevel<=Ce.WARN){const n=t.map(Qd);cs.warn(`Firestore (${Ei}): ${e}`,...n)}}function Qd(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${Ei}) INTERNAL ASSERTION FAILED: `+e;throw Dr(t),new Error(t)}function Be(e,t){e||fe()}function he(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends sr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class bP{constructor(t){this.t=t,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cr,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new yP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Be(t===null||typeof t=="string"),new Ut(t)}}class _P{constructor(t,n,r){this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class EP{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new _P(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SP{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Be(typeof n.token=="string"),this.p=n.token,new TP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zd.A=-1;class nb{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=IP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function De(e,t){return e<t?-1:e>t?1:0}function ri(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ne(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?De(this.nanoseconds,t.nanoseconds):De(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ye(t)}static min(){return new ye(new qt(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ti(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return bo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ze extends bo{construct(t,n,r){return new Ze(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ne(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const kP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends bo{construct(t,n,r){return new $t(t,n,r)}static isValidIdentifier(t){return kP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new ne(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.fields=t,t.sort($t.comparator)}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ri(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Tt(n)}static fromUint8Array(t){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(t);return new Tt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return De(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(e){if(Be(!!e),typeof e=="string"){let t=0;const n=CP.exec(e);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ot(e.seconds),nanos:ot(e.nanos)}}function ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function si(e){return typeof e=="string"?Tt.fromBase64String(e):Tt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ib(e){const t=e.mapValue.fields.__previous_value__;return sb(t)?ib(t):t}function _o(e){const t=xr(e.mapValue.fields.__local_write_time__.timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,r,s,i,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ii{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ii("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ii&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(e){return e==null}function ul(e){return e===0&&1/e==-1/0}function OP(e){return typeof e=="number"&&Number.isInteger(e)&&!ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.path=t}static fromPath(t){return new re(Ze.fromString(t))}static fromName(t){return new re(Ze.fromString(t).popFirst(5))}static empty(){return new re(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ze.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new re(new Ze(t.slice()))}}function hs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sb(e)?4:RP(e)?9:10:fe()}function Ln(e,t){if(e===t)return!0;const n=hs(e);if(n!==hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _o(e).isEqual(_o(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=xr(r.timestampValue),o=xr(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return si(r.bytesValue).isEqual(si(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return ot(r.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ot(r.integerValue)===ot(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=ot(r.doubleValue),o=ot(s.doubleValue);return i===o?ul(i)===ul(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return ri(e.arrayValue.values||[],t.arrayValue.values||[],Ln);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Um(i)!==Um(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Ln(i[a],o[a])))return!1;return!0}(e,t);default:return fe()}}function Eo(e,t){return(e.values||[]).find(n=>Ln(n,t))!==void 0}function oi(e,t){if(e===t)return 0;const n=hs(e),r=hs(t);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=ot(s.integerValue||s.doubleValue),a=ot(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return $m(e.timestampValue,t.timestampValue);case 4:return $m(_o(e),_o(t));case 5:return De(e.stringValue,t.stringValue);case 6:return function(s,i){const o=si(s),a=si(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=De(o[l],a[l]);if(u!==0)return u}return De(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=De(ot(s.latitude),ot(i.latitude));return o!==0?o:De(ot(s.longitude),ot(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=oi(o[l],a[l]);if(u)return u}return De(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=De(a[c],u[c]);if(h!==0)return h;const d=oi(o[a[c]],l[u[c]]);if(d!==0)return d}return De(a.length,u.length)}(e.mapValue,t.mapValue);default:throw fe()}}function $m(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return De(e,t);const n=xr(e),r=xr(t),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function qs(e){return ih(e)}function ih(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=xr(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?si(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,re.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=ih(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${ih(r.fields[a])}`;return i+"}"}(e.mapValue):fe();var t,n}function oh(e){return!!e&&"integerValue"in e}function ef(e){return!!e&&"arrayValue"in e}function Vm(e){return!!e&&"nullValue"in e}function jm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ca(e){return!!e&&"mapValue"in e}function Ji(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ti(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ji(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ji(e.arrayValue.values[n]);return t}return Object.assign({},e)}function RP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ca(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ji(n)}setAll(t){let n=$t.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ji(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Ca(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ti(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new fn(Ji(this.value))}}function ob(e){const t=[];return Ti(e.fields,(n,r)=>{const s=new $t([n]);if(Ca(r)){const i=ob(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new sh(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,r,s,i,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new It(t,0,ye.min(),ye.min(),fn.empty(),0)}static newFoundDocument(t,n,r){return new It(t,1,n,ye.min(),r,0)}static newNoDocument(t,n){return new It(t,2,n,ye.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new It(t,3,n,ye.min(),fn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof It&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.P=null}}function Bm(e,t=null,n=[],r=[],s=null,i=null,o=null){return new DP(e,t,n,r,s,i,o)}function tf(e){const t=he(e);if(t.P===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+qs(s.value);var s}).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Si(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>qs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>qs(r)).join(",")),t.P=n}return t.P}function xP(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${qs(r.value)}`;var r}).join(", ")}]`),Si(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>qs(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>qs(n)).join(",")),`Target(${t})`}function nf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!VP(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(n=e.filters[s],r=t.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!Ln(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ym(e.startAt,t.startAt)&&Ym(e.endAt,t.endAt)}function ah(e){return re.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Vt extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.V(t,n,r):new PP(t,n,r):n==="array-contains"?new LP(t,r):n==="in"?new FP(t,r):n==="not-in"?new UP(t,r):n==="array-contains-any"?new $P(t,r):new Vt(t,n,r)}static V(t,n,r){return n==="in"?new MP(t,r):new NP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.v(oi(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.v(oi(n,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PP extends Vt{constructor(t,n,r){super(t,n,r),this.key=re.fromName(r.referenceValue)}matches(t){const n=re.comparator(t.key,this.key);return this.v(n)}}class MP extends Vt{constructor(t,n){super(t,"in",n),this.keys=ab("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class NP extends Vt{constructor(t,n){super(t,"not-in",n),this.keys=ab("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ab(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class LP extends Vt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ef(n)&&Eo(n.arrayValue,this.value)}}class FP extends Vt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Eo(this.value.arrayValue,n)}}class UP extends Vt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Eo(this.value.arrayValue,n)}}class $P extends Vt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eo(this.value.arrayValue,r))}}class cl{constructor(t,n){this.position=t,this.inclusive=n}}class Qi{constructor(t,n="asc"){this.field=t,this.dir=n}}function VP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Hm(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=oi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ym(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function jP(e,t,n,r,s,i,o,a){return new fu(e,t,n,r,s,i,o,a)}function rf(e){return new fu(e)}function Aa(e){return!Si(e.limit)&&e.limitType==="F"}function lh(e){return!Si(e.limit)&&e.limitType==="L"}function BP(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function HP(e){for(const t of e.filters)if(t.S())return t.field;return null}function YP(e){return e.collectionGroup!==null}function To(e){const t=he(e);if(t.D===null){t.D=[];const n=HP(t),r=BP(t);if(n!==null&&r===null)n.isKeyField()||t.D.push(new Qi(n)),t.D.push(new Qi($t.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.D.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Qi($t.keyField(),i))}}}return t.D}function ds(e){const t=he(e);if(!t.C)if(t.limitType==="F")t.C=Bm(t.path,t.collectionGroup,To(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of To(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new Qi(i.field,o))}const r=t.endAt?new cl(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new cl(t.startAt.position,!t.startAt.inclusive):null;t.C=Bm(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.C}function WP(e,t,n){return new fu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pu(e,t){return nf(ds(e),ds(t))&&e.limitType===t.limitType}function lb(e){return`${tf(ds(e))}|lt:${e.limitType}`}function uh(e){return`Query(target=${xP(ds(e))}; limitType=${e.limitType})`}function sf(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):re.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Hm(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,To(n),r)||n.endAt&&!function(s,i,o){const a=Hm(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,To(n),r))}(e,t)}function ub(e){return(t,n)=>{let r=!1;for(const s of To(e)){const i=qP(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qP(e,t,n){const r=e.field.isKeyField()?re.comparator(t.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?oi(a,l):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(t)?"-0":t}}function hb(e){return{integerValue:""+e}}function zP(e,t){return OP(t)?hb(t):cb(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this._=void 0}}function KP(e,t,n){return e instanceof hl?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof So?fb(e,t):e instanceof Io?pb(e,t):function(r,s){const i=db(r,s),o=Wm(i)+Wm(r.k);return oh(i)&&oh(r.k)?hb(o):cb(r.M,o)}(e,t)}function GP(e,t,n){return e instanceof So?fb(e,t):e instanceof Io?pb(e,t):n}function db(e,t){return e instanceof dl?oh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class hl extends mu{}class So extends mu{constructor(t){super(),this.elements=t}}function fb(e,t){const n=mb(t);for(const r of e.elements)n.some(s=>Ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class Io extends mu{constructor(t){super(),this.elements=t}}function pb(e,t){let n=mb(t);for(const r of e.elements)n=n.filter(s=>!Ln(s,r));return{arrayValue:{values:n}}}class dl extends mu{constructor(t,n){super(),this.M=t,this.k=n}}function Wm(e){return ot(e.integerValue||e.doubleValue)}function mb(e){return ef(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function XP(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof So&&r instanceof So||n instanceof Io&&r instanceof Io?ri(n.elements,r.elements,Ln):n instanceof dl&&r instanceof dl?Ln(n.k,r.k):n instanceof hl&&r instanceof hl}(e.transform,t.transform)}class JP{constructor(t,n){this.version=t,this.transformResults=n}}class zs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zs}static exists(t){return new zs(void 0,t)}static updateTime(t){return new zs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oa(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gu{}function QP(e,t,n){e instanceof vu?function(r,s,i){const o=r.value.clone(),a=Km(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Go?function(r,s,i){if(!Oa(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Km(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(gb(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function ch(e,t,n){e instanceof vu?function(r,s,i){if(!Oa(r.precondition,s))return;const o=r.value.clone(),a=Gm(r.fieldTransforms,i,s);o.setAll(a),s.convertToFoundDocument(zm(s),o).setHasLocalMutations()}(e,t,n):e instanceof Go?function(r,s,i){if(!Oa(r.precondition,s))return;const o=Gm(r.fieldTransforms,i,s),a=s.data;a.setAll(gb(r)),a.setAll(o),s.convertToFoundDocument(zm(s),a).setHasLocalMutations()}(e,t,n):function(r,s){Oa(r.precondition,s)&&s.convertToNoDocument(ye.min())}(e,t)}function ZP(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=db(r.transform,s||null);i!=null&&(n==null&&(n=fn.empty()),n.set(r.field,i))}return n||null}function qm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ri(n,r,(s,i)=>XP(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zm(e){return e.isFoundDocument()?e.version:ye.min()}class vu extends gu{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Go extends gu{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}}function gb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Km(e,t,n){const r=new Map;Be(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,GP(o,a,n[s]))}return r}function Gm(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KP(i,o,t))}return r}class eM extends gu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class tM extends gu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,be;function rM(e){switch(e){default:return fe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function vb(e){if(e===void 0)return Dr("GRPC error has no .code"),O.UNKNOWN;switch(e){case it.OK:return O.OK;case it.CANCELLED:return O.CANCELLED;case it.UNKNOWN:return O.UNKNOWN;case it.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case it.INTERNAL:return O.INTERNAL;case it.UNAVAILABLE:return O.UNAVAILABLE;case it.UNAUTHENTICATED:return O.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case it.NOT_FOUND:return O.NOT_FOUND;case it.ALREADY_EXISTS:return O.ALREADY_EXISTS;case it.PERMISSION_DENIED:return O.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case it.ABORTED:return O.ABORTED;case it.OUT_OF_RANGE:return O.OUT_OF_RANGE;case it.UNIMPLEMENTED:return O.UNIMPLEMENTED;case it.DATA_LOSS:return O.DATA_LOSS;default:return fe()}}(be=it||(it={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ti(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t,n){this.comparator=t,this.root=n||gt.EMPTY}insert(t,n){return new pt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(t){return new pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new va(this.root,t,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new va(this.root,t,this.comparator,!0)}}class va{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r!=null?r:gt.RED,this.left=s!=null?s:gt.EMPTY,this.right=i!=null?i:gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new gt(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,n,r,s){return this}insert(e,t,n){return new gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.comparator=t,this.data=new pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xm(this.data.getIterator())}getIteratorFrom(t){return new Xm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof _t)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new _t(this.comparator);return n.data=t,n}}class Xm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new pt(re.comparator);function fs(){return sM}const iM=new pt(re.comparator);function hh(){return iM}function rc(){return new Ii(e=>e.toString(),(e,t)=>e.isEqual(t))}const oM=new pt(re.comparator),aM=new _t(re.comparator);function We(...e){let t=aM;for(const n of e)t=t.add(n);return t}const lM=new _t(De);function yb(){return lM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,n)),new yu(ye.min(),r,yb(),fs(),We())}}class Xo{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n){return new Xo(Tt.EMPTY_BYTE_STRING,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,n,r,s){this.O=t,this.removedTargetIds=n,this.key=r,this.$=s}}class wb{constructor(t,n){this.targetId=t,this.F=n}}class bb{constructor(t,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Jm{constructor(){this.B=0,this.L=Zm(),this.q=Tt.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return this.B!==0}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.q=t)}H(){let t=We(),n=We(),r=We();return this.L.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new Xo(this.q,this.U,t,n,r)}J(){this.K=!1,this.L=Zm()}Y(t,n){this.K=!0,this.L=this.L.insert(t,n)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class uM{constructor(t){this.nt=t,this.st=new Map,this.it=fs(),this.rt=Qm(),this.ot=new _t(De)}at(t){for(const n of t.O)t.$&&t.$.isFoundDocument()?this.ut(n,t.$):this.ct(n,t.key,t.$);for(const n of t.removedTargetIds)this.ct(n,t.key,t.$)}ht(t){this.forEachTarget(t,n=>{const r=this.lt(n);switch(t.state){case 0:this.ft(n)&&r.W(t.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(t.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(t.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(t.resumeToken));break;default:fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.st.forEach((r,s)=>{this.ft(s)&&n(s)})}_t(t){const n=t.targetId,r=t.F.count,s=this.wt(n);if(s){const i=s.target;if(ah(i))if(r===0){const o=new re(i.path);this.ct(n,o,It.newNoDocument(o,ye.min()))}else Be(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(t){const n=new Map;this.st.forEach((i,o)=>{const a=this.wt(o);if(a){if(i.current&&ah(a.target)){const l=new re(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.ct(o,l,It.newNoDocument(l,t))}i.j&&(n.set(o,i.H()),i.J())}});let r=We();this.rt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.it.forEach((i,o)=>o.setReadTime(t));const s=new yu(t,n,this.ot,this.it,r);return this.it=fs(),this.rt=Qm(),this.ot=new _t(De),s}ut(t,n){if(!this.ft(t))return;const r=this.It(t,n.key)?2:0;this.lt(t).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(t))}ct(t,n,r){if(!this.ft(t))return;const s=this.lt(t);this.It(t,n)?s.Y(n,1):s.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(t)),r&&(this.it=this.it.insert(n,r))}removeTarget(t){this.st.delete(t)}gt(t){const n=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let n=this.st.get(t);return n||(n=new Jm,this.st.set(t,n)),n}Tt(t){let n=this.rt.get(t);return n||(n=new _t(De),this.rt=this.rt.insert(t,n)),n}ft(t){const n=this.wt(t)!==null;return n||G("WatchChangeAggregator","Detected inactive target",t),n}wt(t){const n=this.st.get(t);return n&&n.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new Jm),this.nt.getRemoteKeysForTarget(t).forEach(n=>{this.ct(t,n,null)})}It(t,n){return this.nt.getRemoteKeysForTarget(t).has(n)}}function Qm(){return new pt(re.comparator)}function Zm(){return new pt(re.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class dM{constructor(t,n){this.databaseId=t,this.N=n}}function fl(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _b(e,t){return e.N?t.toBase64():t.toUint8Array()}function fM(e,t){return fl(e,t.toTimestamp())}function Qn(e){return Be(!!e),ye.fromTimestamp(function(t){const n=xr(t);return new qt(n.seconds,n.nanos)}(e))}function of(e,t){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Eb(e){const t=Ze.fromString(e);return Be(Ib(t)),t}function dh(e,t){return of(e.databaseId,t.path)}function sc(e,t){const n=Eb(t);if(n.get(1)!==e.databaseId.projectId)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ne(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Tb(n))}function fh(e,t){return of(e.databaseId,t)}function pM(e){const t=Eb(e);return t.length===4?Ze.emptyPath():Tb(t)}function ph(e){return new Ze(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tb(e){return Be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function eg(e,t,n){return{name:dh(e,t),fields:n.value.mapValue.fields}}function mM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,u){return l.N?(Be(u===void 0||typeof u=="string"),Tt.fromBase64String(u||"")):(Be(u===void 0||u instanceof Uint8Array),Tt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?O.UNKNOWN:vb(l.code);return new ne(u,l.message||"")}(o);n=new bb(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=sc(e,r.document.name),i=Qn(r.document.updateTime),o=new fn({mapValue:{fields:r.document.fields}}),a=It.newFoundDocument(s,i,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ra(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=sc(e,r.document),i=r.readTime?Qn(r.readTime):ye.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ra([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=sc(e,r.document),i=r.removedTargetIds||[];n=new Ra([],i,s,null)}else{if(!("filter"in t))return fe();{t.filter;const r=t.filter;r.targetId;const s=r.count||0,i=new nM(s),o=r.targetId;n=new wb(o,i)}}return n}function gM(e,t){let n;if(t instanceof vu)n={update:eg(e,t.key,t.value)};else if(t instanceof eM)n={delete:dh(e,t.key)};else if(t instanceof Go)n={update:eg(e,t.key,t.data),updateMask:kM(t.fieldMask)};else{if(!(t instanceof tM))return fe();n={verify:dh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof hl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof So)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Io)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof dl)return{fieldPath:i.field.canonicalString(),increment:o.k};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:fM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(e,t.precondition)),n}function vM(e,t){return e&&e.length>0?(Be(t!==void 0),e.map(n=>function(r,s){let i=r.updateTime?Qn(r.updateTime):Qn(s);return i.isEqual(ye.min())&&(i=Qn(s)),new JP(i,r.transformResults||[])}(n,t))):[]}function yM(e,t){return{documents:[fh(e,t.path)]}}function wM(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=fh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(jm(h.value))return{unaryFilter:{field:Ds(h.field),op:"IS_NAN"}};if(Vm(h.value))return{unaryFilter:{field:Ds(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(jm(h.value))return{unaryFilter:{field:Ds(h.field),op:"IS_NOT_NAN"}};if(Vm(h.value))return{unaryFilter:{field:Ds(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(h.field),op:TM(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ds(c.field),direction:EM(c.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,u){return l.N||Si(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function bM(e){let t=pM(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];n.where&&(i=Sb(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Qi(Us(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Si(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new cl(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new cl(d,h)}(n.endAt)),jP(t,s,o,i,a,"F",l,u)}function _M(e,t){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Sb(e){return e?e.unaryFilter!==void 0?[IM(e)]:e.fieldFilter!==void 0?[SM(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>Sb(t)).reduce((t,n)=>t.concat(n)):fe():[]}function EM(e){return cM[e]}function TM(e){return hM[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function Us(e){return $t.fromServerFormat(e.fieldPath)}function SM(e){return Vt.create(Us(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}function IM(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Us(e.unaryFilter.field);return Vt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Us(e.unaryFilter.field);return Vt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Us(e.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Us(e.unaryFilter.field);return Vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}function kM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ib(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(s=>s?N.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}}function Jo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&QP(i,t,r[s])}}applyToLocalView(t){for(const n of this.baseMutations)n.key.isEqual(t.key)&&ch(n,t,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(t.key)&&ch(n,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(n=>{const r=t.get(n.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(ye.min())})}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),We())}isEqual(t){return this.batchId===t.batchId&&ri(this.mutations,t.mutations,(n,r)=>qm(n,r))&&ri(this.baseMutations,t.baseMutations,(n,r)=>qm(n,r))}}class af{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){Be(t.mutations.length===r.length);let s=oM;const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new af(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n,r,s,i=ye.min(),o=ye.min(),a=Tt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.Jt=t}}function xM(e){const t=bM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?WP(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.Ue=new MM}addToCollectionParentIndex(t,n){return this.Ue.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.Ue.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getFieldIndex(t,n){return N.resolve(null)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class MM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new _t(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new _t(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new ai(0)}static gn(){return new ai(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==CM)throw e;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new Ii(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,It.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,n,r){this.ls=t,this.Fs=n,this.indexManager=r}Bs(t,n){return this.Fs.getAllMutationBatchesAffectingDocumentKey(t,n).next(r=>this.Ls(t,n,r))}Ls(t,n,r){return this.ls.getEntry(t,n).next(s=>{for(const i of r)i.applyToLocalView(s);return s})}qs(t,n){t.forEach((r,s)=>{for(const i of n)i.applyToLocalView(s)})}Us(t,n){return this.ls.getEntries(t,n).next(r=>this.Ks(t,r).next(()=>r))}Ks(t,n){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(t,n).next(r=>this.qs(n,r))}Gs(t,n,r){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.Qs(t,n.path):YP(n)?this.js(t,n,r):this.Ws(t,n,r)}Qs(t,n){return this.Bs(t,new re(n)).next(r=>{let s=hh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}js(t,n,r){const s=n.collectionGroup;let i=hh();return this.indexManager.getCollectionParents(t,s).next(o=>N.forEach(o,a=>{const l=function(u,c){return new fu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.Ws(t,l,r).next(u=>{u.forEach((c,h)=>{i=i.insert(c,h)})})}).next(()=>i))}Ws(t,n,r){let s;return this.ls.getAll(t,n.path,r).next(i=>(s=i,this.Fs.getAllMutationBatchesAffectingQuery(t,n))).next(i=>{for(const o of i)for(const a of o.mutations){const l=a.key;let u=s.get(l);u==null&&(u=It.newInvalidDocument(l),s=s.insert(l,u)),ch(a,u,o.localWriteTime),u.isFoundDocument()||(s=s.remove(l))}}).next(()=>(s.forEach((i,o)=>{sf(n,o)||(s=s.remove(i))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=s}static Js(t,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lf(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{Ys(t){this.Xs=t}Gs(t,n,r,s){return function(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Zs(t,n):this.Xs.Us(t,s).next(i=>{const o=this.ti(n,i);return(Aa(n)||lh(n))&&this.ei(n.limitType,o,s,r)?this.Zs(t,n):(Lm()<=Ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uh(n)),this.Xs.Gs(t,n,r).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}ti(t,n){let r=new _t(ub(t));return n.forEach((s,i)=>{sf(t,i)&&(r=r.add(i))}),r}ei(t,n,r,s){if(r.size!==n.size)return!0;const i=t==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Zs(t,n){return Lm()<=Ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",uh(n)),this.Xs.Gs(t,n,ye.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,n,r,s){this.persistence=t,this.ni=n,this.M=s,this.si=new pt(De),this.ii=new Ii(i=>tf(i),nf),this.ri=ye.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Fs=this.persistence.getMutationQueue(t,this.indexManager),this.ui=new LM(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.si))}}function $M(e,t,n,r){return new UM(e,t,n,r)}async function kb(e,t){const n=he(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.Fs.getAllMutationBatches(r).next(i=>(s=i,n.ai(t),n.Fs.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=We();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.ui.Us(r,l).next(u=>({ci:u,removedBatchIds:o,addedBatchIds:a}))})})}function VM(e,t){const n=he(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=N.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);Be(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.Fs.removeMutationBatch(a,c))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.Fs.performConsistencyCheck(r)).next(()=>n.ui.Us(r,s))})}function Cb(e){const t=he(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hs.getLastRemoteSnapshotVersion(n))}function jM(e,t){const n=he(e),r=t.snapshotVersion;let s=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.oi.newChangeBuffer({trackRemovals:!0});s=n.si;const a=[];t.targetChanges.forEach((u,c)=>{const h=s.get(c);if(!h)return;a.push(n.hs.removeMatchingKeys(i,u.removedDocuments,c).next(()=>n.hs.addMatchingKeys(i,u.addedDocuments,c)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.has(c)?d=d.withResumeToken(Tt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),s=s.insert(c,d),function(f,p,g){return f.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,d,u)&&a.push(n.hs.updateTargetData(i,d))});let l=fs();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(BM(i,o,t.documentUpdates).next(u=>{l=u})),!r.isEqual(ye.min())){const u=n.hs.getLastRemoteSnapshotVersion(i).next(c=>n.hs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>o.apply(i)).next(()=>n.ui.Ks(i,l)).next(()=>l)}).then(i=>(n.si=s,i))}function BM(e,t,n){let r=We();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let i=fs();return n.forEach((o,a)=>{const l=s.get(o);a.isNoDocument()&&a.version.isEqual(ye.min())?(t.removeEntry(o,a.readTime),i=i.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(a),i=i.insert(o,a)):G("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),i})}function HM(e,t){const n=he(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(r,t)))}function YM(e,t){const n=he(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hs.getTargetData(r,t).next(i=>i?(s=i,N.resolve(s)):n.hs.allocateTargetId(r).next(o=>(s=new rs(t,o,0,r.currentSequenceNumber),n.hs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.si.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.si=n.si.insert(r.targetId,r),n.ii.set(t,r.targetId)),r})}async function mh(e,t,n){const r=he(e),s=r.si.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Jo(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.si=r.si.remove(t),r.ii.delete(s.target)}function tg(e,t,n){const r=he(e);let s=ye.min(),i=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=he(a),h=c.ii.get(u);return h!==void 0?N.resolve(c.si.get(h)):c.hs.getTargetData(l,u)}(r,o,ds(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ni.Gs(o,t,n?s:ye.min(),n?i:We())).next(a=>({documents:a,hi:i})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,n){return N.resolve(this._i.get(n))}saveBundleMetadata(t,n){var r;return this._i.set(n.id,{id:(r=n).id,version:r.version,createTime:Qn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.wi.get(n))}saveNamedQuery(t,n){return this.wi.set(n.name,function(r){return{name:r.name,query:xM(r.bundledQuery),readTime:Qn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.overlays=new pt(re.comparator),this.mi=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.Xt(t,n,i)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.mi.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.mi.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const s=rc(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return N.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new pt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=rc(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=rc(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return N.resolve(a)}Xt(t,n,r){if(r===null)return;const s=this.overlays.get(r.key);if(s!==null){const o=this.mi.get(s.largestBatchId).delete(r.key);this.mi.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RM(n,r));let i=this.mi.get(n);i===void 0&&(i=We(),this.mi.set(n,i)),this.mi.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.gi=new _t(ct.yi),this.pi=new _t(ct.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,n){const r=new ct(t,n);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ei(new ct(t,n))}Ai(t,n){t.forEach(r=>this.removeReference(r,n))}Ri(t){const n=new re(new Ze([])),r=new ct(n,t),s=new ct(n,t+1),i=[];return this.pi.forEachInRange([r,s],o=>{this.Ei(o),i.push(o.key)}),i}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const n=new re(new Ze([])),r=new ct(n,t),s=new ct(n,t+1);let i=We();return this.pi.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new ct(t,0),r=this.gi.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ct{constructor(t,n){this.key=t,this.Vi=n}static yi(t,n){return re.comparator(t.key,n.key)||De(t.Vi,n.Vi)}static Ii(t,n){return De(t.Vi,n.Vi)||re.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new _t(ct.yi)}checkEmpty(t){return N.resolve(this.Fs.length===0)}addMutationBatch(t,n,r,s){const i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];const o=new OM(i,n,r,s);this.Fs.push(o);for(const a of s)this.Si=this.Si.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.Di(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Ci(r),i=s<0?0:s;return N.resolve(this.Fs.length>i?this.Fs[i]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.Fs.length===0?-1:this.vi-1)}getAllMutationBatches(t){return N.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Si.forEachInRange([r,s],o=>{const a=this.Di(o.Vi);i.push(a)}),N.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new _t(De);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Si.forEachInRange([i,o],a=>{r=r.add(a.Vi)})}),N.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new ct(new re(i),0);let a=new _t(De);return this.Si.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Vi)),!0)},o),N.resolve(this.xi(a))}xi(t){const n=[];return t.forEach(r=>{const s=this.Di(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Be(this.Ni(n.batchId,"removed")===0),this.Fs.shift();let r=this.Si;return N.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Si=r})}dn(t){}containsKey(t,n){const r=new ct(n,0),s=this.Si.firstAfterOrEqual(r);return N.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.Fs.length,N.resolve()}Ni(t,n){return this.Ci(t)}Ci(t){return this.Fs.length===0?0:t-this.Fs[0].batchId}Di(t){const n=this.Ci(t);return n<0||n>=this.Fs.length?null:this.Fs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.ki=t,this.docs=new pt(re.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ki(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(t,n){let r=fs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),N.resolve(r)}getAll(t,n,r){let s=fs();const i=new re(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||l.readTime.compareTo(r)<=0||(s=s.insert(l.key,l.mutableCopy()))}return N.resolve(s)}Mi(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new GM(this)}getSize(t){return N.resolve(this.size)}}class GM extends NM{constructor(t){super(),this.Un=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Un.addEntry(t,s)):this.Un.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.Un.getEntry(t,n)}getAllFromCache(t,n){return this.Un.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.persistence=t,this.Oi=new Ii(n=>tf(n),nf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.$i=0,this.Fi=new uf,this.targetCount=0,this.Bi=ai.mn()}forEachTarget(t,n){return this.Oi.forEach((r,s)=>n(s)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),N.resolve()}In(t){this.Oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Bi=new ai(n),this.highestTargetId=n),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,n){return this.In(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.In(n),N.resolve()}removeTargetData(t,n){return this.Oi.delete(n.target),this.Fi.Ri(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Oi.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),N.waitFor(i).next(()=>s)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.Oi.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.Fi.Ti(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.Fi.Ai(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),N.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Fi.Ri(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Fi.Pi(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.Fi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,n){this.Li={},this.overlays={},this.Zn=new Zd(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new XM(this),this.indexManager=new PM,this.ls=function(r){return new KM(r)}(r=>this.referenceDelegate.qi(r)),this.M=new DM(n),this.fs=new WM(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Li[t.toKey()];return r||(r=new zM(n,this.referenceDelegate),this.Li[t.toKey()]=r),r}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(t,n,r){G("MemoryPersistence","Starting transaction:",t);const s=new QM(this.Zn.next());return this.referenceDelegate.Ui(),r(s).next(i=>this.referenceDelegate.Ki(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gi(t,n){return N.or(Object.values(this.Li).map(r=>()=>r.containsKey(t,n)))}}class QM extends AM{constructor(t){super(),this.currentSequenceNumber=t}}class cf{constructor(t){this.persistence=t,this.Qi=new uf,this.ji=null}static Wi(t){return new cf(t)}get zi(){if(this.ji)return this.ji;throw fe()}addReference(t,n,r){return this.Qi.addReference(r,n),this.zi.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Qi.removeReference(r,n),this.zi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.zi.add(n.toString()),N.resolve()}removeTarget(t,n){this.Qi.Ri(n.targetId).forEach(s=>this.zi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.zi.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ui(){this.ji=new Set}Ki(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.zi,r=>{const s=re.fromPath(r);return this.Hi(t,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.ji=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hi(t,n).next(r=>{r?this.zi.delete(n.toString()):this.zi.add(n.toString())})}qi(t){return 0}Hi(t,n){return N.or([()=>N.resolve(this.Qi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gi(t,n)])}}class ng{constructor(){this.activeTargetIds=yb()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZM{constructor(){this.Or=new ng,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Or.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,n,r){this.$r[t]=n}removeLocalQueryTarget(t){this.Or.Zi(t)}isLocalQueryTarget(t){return this.Or.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(t){return this.Or.activeTargetIds.has(t)}start(){return this.Or=new ng,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{Fr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Ur(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.Qr=t.Qr,this.jr=t.jr}Wr(t){this.zr=t}Hr(t){this.Jr=t}onMessage(t){this.Yr=t}close(){this.jr()}send(t){this.Qr(t)}Xr(){this.zr()}Zr(t){this.Jr(t)}eo(t){this.Yr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(t,n,r,s,i){const o=this.ro(t,n);G("RestConnection","Sending: ",o,r);const a={};return this.oo(a,s,i),this.ao(t,o,a,r).then(l=>(G("RestConnection","Received: ",l),l),l=>{throw Fm("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",r),l})}uo(t,n,r,s,i){return this.io(t,n,r,s,i)}oo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ei,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}ro(t,n){const r=tN[t];return`${this.no}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,n,r,s){return new Promise((i,o)=>{const a=new vP;a.listenOnce(pP.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nc.NO_ERROR:const u=a.getResponseJson();G("Connection","XHR received:",JSON.stringify(u)),i(u);break;case nc.TIMEOUT:G("Connection",'RPC "'+t+'" timed out'),o(new ne(O.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const c=a.getStatus();if(G("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(p)>=0?p:O.UNKNOWN}(h.status);o(new ne(d,h.message))}else o(new ne(O.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ne(O.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,r,15)})}co(t,n,r){const s=[this.no,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=dP(),o=fP(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new gP({})),this.oo(a.initMessageHeaders,n,r),Qv()||Zv()||KI()||ey()||GI()||Hh()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=s.join("");G("Connection","Creating WebChannel: "+l,a);const u=i.createWebChannel(l,a);let c=!1,h=!1;const d=new nN({Qr:p=>{h?G("Connection","Not sending because WebChannel is closed:",p):(c||(G("Connection","Opening WebChannel transport."),u.open(),c=!0),G("Connection","WebChannel sending:",p),u.send(p))},jr:()=>u.close()}),f=(p,g,y)=>{p.listen(g,w=>{try{y(w)}catch(_){setTimeout(()=>{throw _},0)}})};return f(u,ga.EventType.OPEN,()=>{h||G("Connection","WebChannel transport opened.")}),f(u,ga.EventType.CLOSE,()=>{h||(h=!0,G("Connection","WebChannel transport closed"),d.Zr())}),f(u,ga.EventType.ERROR,p=>{h||(h=!0,Fm("Connection","WebChannel transport errored:",p),d.Zr(new ne(O.UNAVAILABLE,"The operation could not be completed")))}),f(u,ga.EventType.MESSAGE,p=>{var g;if(!h){const y=p.data[0];Be(!!y);const w=y,_=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(_){G("Connection","WebChannel received error:",_);const I=_.status;let x=function(Y){const R=it[Y];if(R!==void 0)return vb(R)}(I),W=_.message;x===void 0&&(x=O.INTERNAL,W="Unknown error status: "+I+" with message "+_.message),h=!0,d.Zr(new ne(x,W)),u.close()}else G("Connection","WebChannel received:",y),d.eo(y)}}),f(o,mP.STAT_EVENT,p=>{p.stat===Mm.PROXY?G("Connection","Detected buffering proxy"):p.stat===Mm.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Xr()},0),d}}function ic(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){return new dM(e,!0)}class Ab{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Hn=t,this.timerId=n,this.ho=r,this.lo=s,this.fo=i,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(t){this.cancel();const n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this._o} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,s,()=>(this.mo=Date.now(),t())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){this.wo!==null&&(this.wo.skipDelay(),this.wo=null)}cancel(){this.wo!==null&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,n,r,s,i,o,a,l){this.Hn=t,this.Eo=r,this.Ao=s,this.Ro=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Ab(t,n)}So(){return this.state===1||this.state===5||this.Do()}Do(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Co()}async stop(){this.So()&&await this.close(0)}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&this.Po===null&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(t){this.Oo(),this.stream.send(t)}async ko(){if(this.Do())return this.close(0)}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,n){this.Oo(),this.$o(),this.vo.cancel(),this.bo++,t!==4?this.vo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Hr(n)}Fo(){}auth(){this.state=1;const t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.bo===n&&this.Lo(r,s)},r=>{t(()=>{const s=new ne(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Lo(t,n){const r=this.Bo(this.bo);this.stream=this.Uo(t,n),this.stream.Wr(()=>{r(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Co(){this.state=5,this.vo.po(async()=>{this.state=0,this.start()})}qo(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Bo(t){return n=>{this.Hn.enqueueAndForget(()=>this.bo===t?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sN extends Ob{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.M=i}Uo(t,n){return this.Ro.co("Listen",t,n)}onMessage(t){this.vo.reset();const n=mM(this.M,t),r=function(s){if(!("targetChange"in s))return ye.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?ye.min():i.readTime?Qn(i.readTime):ye.min()}(t);return this.listener.Ko(n,r)}Go(t){const n={};n.database=ph(this.M),n.addTarget=function(s,i){let o;const a=i.target;return o=ah(a)?{documents:yM(s,a)}:{query:wM(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=_b(s,i.resumeToken):i.snapshotVersion.compareTo(ye.min())>0&&(o.readTime=fl(s,i.snapshotVersion.toTimestamp())),o}(this.M,t);const r=_M(this.M,t);r&&(n.labels=r),this.Mo(n)}Qo(t){const n={};n.database=ph(this.M),n.removeTarget=t,this.Mo(n)}}class iN extends Ob{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.M=i,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(t,n){return this.Ro.co("Write",t,n)}onMessage(t){if(Be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.jo){this.vo.reset();const n=vM(t.writeResults,t.commitTime),r=Qn(t.commitTime);return this.listener.Ho(r,n)}return Be(!t.writeResults||t.writeResults.length===0),this.jo=!0,this.listener.Jo()}Yo(){const t={};t.database=ph(this.M),this.Mo(t)}zo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>gM(this.M,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.Ro=r,this.M=s,this.Xo=!1}Zo(){if(this.Xo)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}io(t,n,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.Ro.io(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(O.UNKNOWN,s.toString())})}uo(t,n,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.Ro.uo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(O.UNKNOWN,s.toString())})}terminate(){this.Xo=!0}}class aN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){this.ta===0&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(t){this.state==="Online"?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ia("Offline")))}set(t){this.aa(),this.ta=0,t==="Online"&&(this.na=!1),this.ia(t)}ia(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(Dr(n),this.na=!1):G("OnlineStateTracker",n)}aa(){this.ea!==null&&(this.ea.cancel(),this.ea=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=i,this.fa.Fr(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.ha.add(4),await Zo(l),l.da.set("Unknown"),l.ha.delete(4),await bu(l)}(this))})}),this.da=new aN(r,s)}}async function bu(e){if(Ts(e))for(const t of e.la)await t(!0)}async function Zo(e){for(const t of e.la)await t(!1)}function Rb(e,t){const n=he(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),ff(n)?df(n):ki(n).Do()&&hf(n,t))}function Db(e,t){const n=he(e),r=ki(n);n.ca.delete(t),r.Do()&&xb(n,t),n.ca.size===0&&(r.Do()?r.No():Ts(n)&&n.da.set("Unknown"))}function hf(e,t){e._a.Z(t.targetId),ki(e).Go(t)}function xb(e,t){e._a.Z(t),ki(e).Qo(t)}function df(e){e._a=new uM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.ca.get(t)||null}),ki(e).start(),e.da.sa()}function ff(e){return Ts(e)&&!ki(e).So()&&e.ca.size>0}function Ts(e){return he(e).ha.size===0}function Pb(e){e._a=void 0}async function uN(e){e.ca.forEach((t,n)=>{hf(e,t)})}async function cN(e,t){Pb(e),ff(e)?(e.da.oa(t),df(e)):e.da.set("Unknown")}async function hN(e,t,n){if(e.da.set("Online"),t instanceof bb&&t.state===2&&t.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.ca.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.ca.delete(o),r._a.removeTarget(o))}(e,t)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await pl(e,r)}else if(t instanceof Ra?e._a.at(t):t instanceof wb?e._a._t(t):e._a.ht(t),!n.isEqual(ye.min()))try{const r=await Cb(e.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s._a.yt(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.ca.get(l);u&&s.ca.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=s.ca.get(a);if(!l)return;s.ca.set(a,l.withResumeToken(Tt.EMPTY_BYTE_STRING,l.snapshotVersion)),xb(s,a);const u=new rs(l.target,a,1,l.sequenceNumber);hf(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await pl(e,r)}}async function pl(e,t,n){if(!Jo(t))throw t;e.ha.add(1),await Zo(e),e.da.set("Offline"),n||(n=()=>Cb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),e.ha.delete(1),await bu(e)})}function Mb(e,t){return t().catch(n=>pl(e,n,t))}async function _u(e){const t=he(e),n=Pr(t);let r=t.ua.length>0?t.ua[t.ua.length-1].batchId:-1;for(;dN(t);)try{const s=await HM(t.localStore,r);if(s===null){t.ua.length===0&&n.No();break}r=s.batchId,fN(t,s)}catch(s){await pl(t,s)}Nb(t)&&Lb(t)}function dN(e){return Ts(e)&&e.ua.length<10}function fN(e,t){e.ua.push(t);const n=Pr(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function Nb(e){return Ts(e)&&!Pr(e).So()&&e.ua.length>0}function Lb(e){Pr(e).start()}async function pN(e){Pr(e).Yo()}async function mN(e){const t=Pr(e);for(const n of e.ua)t.zo(n.mutations)}async function gN(e,t,n){const r=e.ua.shift(),s=af.from(r,t,n);await Mb(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await _u(e)}async function vN(e,t){t&&Pr(e).Wo&&await async function(n,r){if(s=r.code,rM(s)&&s!==O.ABORTED){const i=n.ua.shift();Pr(n).xo(),await Mb(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await _u(n)}var s}(e,t),Nb(e)&&Lb(e)}async function sg(e,t){const n=he(e);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.ha.add(3),await Zo(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.ha.delete(3),await bu(n)}async function yN(e,t){const n=he(e);t?(n.ha.delete(2),await bu(n)):t||(n.ha.add(2),await Zo(n),n.da.set("Unknown"))}function ki(e){return e.wa||(e.wa=function(t,n,r){const s=he(t);return s.Zo(),new sN(n,s.Ro,s.authCredentials,s.appCheckCredentials,s.M,r)}(e.datastore,e.asyncQueue,{Wr:uN.bind(null,e),Hr:cN.bind(null,e),Ko:hN.bind(null,e)}),e.la.push(async t=>{t?(e.wa.xo(),ff(e)?df(e):e.da.set("Unknown")):(await e.wa.stop(),Pb(e))})),e.wa}function Pr(e){return e.ma||(e.ma=function(t,n,r){const s=he(t);return s.Zo(),new iN(n,s.Ro,s.authCredentials,s.appCheckCredentials,s.M,r)}(e.datastore,e.asyncQueue,{Wr:pN.bind(null,e),Hr:vN.bind(null,e),Jo:mN.bind(null,e),Ho:gN.bind(null,e)}),e.la.push(async t=>{t?(e.ma.xo(),await _u(e)):(await e.ma.stop(),e.ua.length>0&&(G("RemoteStore",`Stopping write stream with ${e.ua.length} pending writes`),e.ua=[]))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new pf(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mf(e,t){if(Dr("AsyncQueue",`${t}: ${e}`),Jo(e))return new ne(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.comparator=t?(n,r)=>t(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new pt(this.comparator)}static emptySet(t){return new Ks(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ks)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.ga=new pt(re.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):fe():this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class li{constructor(t,n,r,s,i,o,a,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(t,n,r,s){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new li(t,n,Ks.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.pa=void 0,this.listeners=[]}}class bN{constructor(){this.queries=new Ii(t=>lb(t),pu),this.onlineState="Unknown",this.Ia=new Set}}async function _N(e,t){const n=he(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new wN),s)try{i.pa=await n.onListen(r)}catch(o){const a=mf(o,`Initialization of query '${uh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Ta(n.onlineState),i.pa&&t.Ea(i.pa)&&gf(n)}async function EN(e,t){const n=he(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function TN(e,t){const n=he(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Ea(s)&&(r=!0);o.pa=s}}r&&gf(n)}function SN(e,t,n){const r=he(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function gf(e){e.Ia.forEach(t=>{t.next()})}class IN{constructor(t,n,r){this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}Ea(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new li(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.Ra?this.Pa(t)&&(this.Aa.next(t),n=!0):this.Va(t,this.onlineState)&&(this.va(t),n=!0),this.ba=t,n}onError(t){this.Aa.error(t)}Ta(t){this.onlineState=t;let n=!1;return this.ba&&!this.Ra&&this.Va(this.ba,t)&&(this.va(this.ba),n=!0),n}Va(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Sa||!r)&&(!t.docs.isEmpty()||n==="Offline")}Pa(t){if(t.docChanges.length>0)return!0;const n=this.ba&&this.ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}va(t){t=li.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Ra=!0,this.Aa.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.key=t}}class Ub{constructor(t){this.key=t}}class kN{constructor(t,n){this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=We(),this.mutatedKeys=We(),this.$a=ub(t),this.Fa=new Ks(this.$a)}get Ba(){return this.ka}La(t,n){const r=n?n.qa:new ig,s=n?n.Fa:this.Fa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=Aa(this.query)&&s.size===this.query.limit?s.last():null,u=lh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,h)=>{const d=s.get(c),f=sf(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Ua(d,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.$a(f,l)>0||u&&this.$a(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),i=g?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),Aa(this.query)||lh(this.query))for(;o.size>this.query.limit;){const c=Aa(this.query)?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Fa:o,qa:r,ei:a,mutatedKeys:i}}Ua(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.Fa;this.Fa=t.Fa,this.mutatedKeys=t.mutatedKeys;const i=t.qa.ya();i.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return f(h)-f(d)}(u.type,c.type)||this.$a(u.doc,c.doc)),this.Ka(r);const o=n?this.Ga():[],a=this.Oa.size===0&&this.current?1:0,l=a!==this.Ma;return this.Ma=a,i.length!==0||l?{snapshot:new li(this.query,t.Fa,s,i,t.mutatedKeys,a===0,l,!1),Qa:o}:{Qa:o}}Ta(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new ig,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(t){return!this.ka.has(t)&&!!this.Fa.has(t)&&!this.Fa.get(t).hasLocalMutations}Ka(t){t&&(t.addedDocuments.forEach(n=>this.ka=this.ka.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ka=this.ka.delete(n)),this.current=t.current)}Ga(){if(!this.current)return[];const t=this.Oa;this.Oa=We(),this.Fa.forEach(r=>{this.ja(r.key)&&(this.Oa=this.Oa.add(r.key))});const n=[];return t.forEach(r=>{this.Oa.has(r)||n.push(new Ub(r))}),this.Oa.forEach(r=>{t.has(r)||n.push(new Fb(r))}),n}Wa(t){this.ka=t.hi,this.Oa=We();const n=this.La(t.documents);return this.applyChanges(n,!0)}za(){return li.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,this.Ma===0)}}class CN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class AN{constructor(t){this.key=t,this.Ha=!1}}class ON{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new Ii(a=>lb(a),pu),this.Xa=new Map,this.Za=new Set,this.tu=new pt(re.comparator),this.eu=new Map,this.nu=new uf,this.su={},this.iu=new Map,this.ru=ai.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return this.ou===!0}}async function RN(e,t){const n=VN(e);let r,s;const i=n.Ya.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.za();else{const o=await YM(n.localStore,ds(t));n.isPrimaryClient&&Rb(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await DN(n,t,r,a==="current")}return s}async function DN(e,t,n,r){e.au=(c,h,d)=>async function(f,p,g,y){let w=p.view.La(g);w.ei&&(w=await tg(f.localStore,p.query,!1).then(({documents:x})=>p.view.La(x,w)));const _=y&&y.targetChanges.get(p.targetId),I=p.view.applyChanges(w,f.isPrimaryClient,_);return ag(f,p.targetId,I.Qa),I.snapshot}(e,c,h,d);const s=await tg(e.localStore,t,!0),i=new kN(t,s.hi),o=i.La(s.documents),a=Xo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=i.applyChanges(o,e.isPrimaryClient,a);ag(e,n,l.Qa);const u=new CN(t,n,i);return e.Ya.set(t,u),e.Xa.has(n)?e.Xa.get(n).push(t):e.Xa.set(n,[t]),l.snapshot}async function xN(e,t){const n=he(e),r=n.Ya.get(t),s=n.Xa.get(r.targetId);if(s.length>1)return n.Xa.set(r.targetId,s.filter(i=>!pu(i,t))),void n.Ya.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Db(n.remoteStore,r.targetId),gh(n,r.targetId)}).catch(Qo)):(gh(n,r.targetId),await mh(n.localStore,r.targetId,!0))}async function PN(e,t,n){const r=jN(e);try{const s=await function(i,o){const a=he(i),l=qt.now(),u=o.reduce((h,d)=>h.add(d.key),We());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>a.ui.Us(h,u).next(d=>{c=d;const f=[];for(const p of o){const g=ZP(p,c.get(p.key));g!=null&&f.push(new Go(p.key,g,ob(g.value.mapValue),zs.exists(!0)))}return a.Fs.addMutationBatch(h,l,f,o)})).then(h=>(h.applyToLocalDocumentSet(c),{batchId:h.batchId,changes:c}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.su[i.currentUser.toKey()];l||(l=new pt(De)),l=l.insert(o,a),i.su[i.currentUser.toKey()]=l}(r,s.batchId,n),await ea(r,s.changes),await _u(r.remoteStore)}catch(s){const i=mf(s,"Failed to persist write");n.reject(i)}}async function $b(e,t){const n=he(e);try{const r=await jM(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.eu.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ha=!0:s.modifiedDocuments.size>0?Be(o.Ha):s.removedDocuments.size>0&&(Be(o.Ha),o.Ha=!1))}),await ea(n,r,t)}catch(r){await Qo(r)}}function og(e,t,n){const r=he(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Ya.forEach((i,o)=>{const a=o.view.Ta(t);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=he(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Ta(o)&&(l=!0)}),l&&gf(a)}(r.eventManager,t),s.length&&r.Ja.Ko(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function MN(e,t,n){const r=he(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.eu.get(t),i=s&&s.key;if(i){let o=new pt(re.comparator);o=o.insert(i,It.newNoDocument(i,ye.min()));const a=We().add(i),l=new yu(ye.min(),new Map,new _t(De),o,a);await $b(r,l),r.tu=r.tu.remove(i),r.eu.delete(t),vf(r)}else await mh(r.localStore,t,!1).then(()=>gh(r,t,n)).catch(Qo)}async function NN(e,t){const n=he(e),r=t.batch.batchId;try{const s=await VM(n.localStore,t);jb(n,r,null),Vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ea(n,s)}catch(s){await Qo(s)}}async function LN(e,t,n){const r=he(e);try{const s=await function(i,o){const a=he(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.Fs.lookupMutationBatch(l,o).next(c=>(Be(c!==null),u=c.keys(),a.Fs.removeMutationBatch(l,c))).next(()=>a.Fs.performConsistencyCheck(l)).next(()=>a.ui.Us(l,u))})}(r.localStore,t);jb(r,t,n),Vb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ea(r,s)}catch(s){await Qo(s)}}function Vb(e,t){(e.iu.get(t)||[]).forEach(n=>{n.resolve()}),e.iu.delete(t)}function jb(e,t,n){const r=he(e);let s=r.su[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.su[r.currentUser.toKey()]=s}}function gh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Xa.get(t))e.Ya.delete(r),n&&e.Ja.uu(r,n);e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach(r=>{e.nu.containsKey(r)||Bb(e,r)})}function Bb(e,t){e.Za.delete(t.path.canonicalString());const n=e.tu.get(t);n!==null&&(Db(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),vf(e))}function ag(e,t,n){for(const r of n)r instanceof Fb?(e.nu.addReference(r.key,t),FN(e,r)):r instanceof Ub?(G("SyncEngine","Document no longer in limbo: "+r.key),e.nu.removeReference(r.key,t),e.nu.containsKey(r.key)||Bb(e,r.key)):fe()}function FN(e,t){const n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(G("SyncEngine","New document in limbo: "+n),e.Za.add(r),vf(e))}function vf(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){const t=e.Za.values().next().value;e.Za.delete(t);const n=new re(Ze.fromString(t)),r=e.ru.next();e.eu.set(r,new AN(n)),e.tu=e.tu.insert(n,r),Rb(e.remoteStore,new rs(ds(rf(n.path)),r,2,Zd.A))}}async function ea(e,t,n){const r=he(e),s=[],i=[],o=[];r.Ya.isEmpty()||(r.Ya.forEach((a,l)=>{o.push(r.au(l,t,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),s.push(u);const c=lf.Js(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Ja.Ko(s),await async function(a,l){const u=he(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,h=>N.forEach(h.zs,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>N.forEach(h.Hs,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Jo(c))throw c;G("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.si.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.si=u.si.insert(h,p)}}}(r.localStore,i))}async function UN(e,t){const n=he(e);if(!n.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());const r=await kb(n.localStore,t);n.currentUser=t,function(s,i){s.iu.forEach(o=>{o.forEach(a=>{a.reject(new ne(O.CANCELLED,i))})}),s.iu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ea(n,r.ci)}}function $N(e,t){const n=he(e),r=n.eu.get(t);if(r&&r.Ha)return We().add(r.key);{let s=We();const i=n.Xa.get(t);if(!i)return s;for(const o of i){const a=n.Ya.get(o);s=s.unionWith(a.view.Ba)}return s}}function VN(e){const t=he(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MN.bind(null,t),t.Ja.Ko=TN.bind(null,t.eventManager),t.Ja.uu=SN.bind(null,t.eventManager),t}function jN(e){const t=he(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,t),t}class BN{constructor(){this.synchronizeTabs=!1}async initialize(t){this.M=wu(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),await this.persistence.start(),this.gcScheduler=this.fu(t),this.localStore=this.du(t)}fu(t){return null}du(t){return $M(this.persistence,new FM,t.initialUser,this.M)}lu(t){return new JM(cf.Wi,this.M)}hu(t){return new ZM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>og(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new bN}createDatastore(t){const n=wu(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new rN(s));var s;return function(i,o,a,l){return new oN(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,s=t.asyncQueue,i=a=>og(this.syncEngine,a,0),o=rg.vt()?new rg:new eN,new lN(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(t,n){return function(r,s,i,o,a,l,u){const c=new ON(r,s,i,o,a,l);return u&&(c.ou=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=he(t);G("RemoteStore","RemoteStore shutting down."),n.ha.add(5),await Zo(n),n.fa.shutdown(),n.da.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.wu(this.observer.next,t)}error(t){this.observer.error?this.wu(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}mu(){this.muted=!0}wu(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=nb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=mf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function qN(e,t){e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kb(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function zN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KN(e);G("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>sg(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>sg(t.remoteStore,i)),e.onlineComponents=t}async function KN(e){return e.offlineComponents||(G("FirestoreClient","Using default OfflineComponentProvider"),await qN(e,new BN)),e.offlineComponents}async function Hb(e){return e.onlineComponents||(G("FirestoreClient","Using default OnlineComponentProvider"),await zN(e,new HN)),e.onlineComponents}function GN(e){return Hb(e).then(t=>t.syncEngine)}async function XN(e){const t=await Hb(e),n=t.eventManager;return n.onListen=RN.bind(null,t.syncEngine),n.onUnlisten=xN.bind(null,t.syncEngine),n}function JN(e,t,n={}){const r=new Cr;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new YN({next:h=>{i.enqueueAndForget(()=>EN(s,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new ne(O.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new ne(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new IN(rf(o.path),u,{includeMetadataChanges:!0,Sa:!0});return _N(s,c)}(await XN(e),e.asyncQueue,t,n,r)),r.promise}const lg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t,n){if(!n)throw new ne(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function QN(e,t,n,r){if(t===!0&&r===!0)throw new ne(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ug(e){if(!re.isDocumentKey(e))throw new ne(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cg(e){if(re.isDocumentKey(e))throw new ne(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function ml(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ne(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(e);throw new ne(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ne(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,QN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hg({}),this._settingsFrozen=!1,t instanceof ii?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ne(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ii(s.options.projectId)}(t))}get app(){if(!this._app)throw new ne(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ne(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new wP;switch(n.type){case"gapi":const r=n.client;return Be(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EP(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ne(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=lg.get(t);n&&(G("ComponentProvider","Removing Datastore"),lg.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zt(this.firestore,t,this._key)}}class bf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bf(this.firestore,t,this._query)}}class Ar extends bf{constructor(t,n,r){super(t,n,rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zt(this.firestore,null,new re(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function TU(e,t,...n){if(e=an(e),Yb("collection","path",t),e instanceof wf){const r=Ze.fromString(t,...n);return cg(r),new Ar(e,null,r)}{if(!(e instanceof zt||e instanceof Ar))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ze.fromString(t,...n));return cg(r),new Ar(e.firestore,null,r)}}function SU(e,t,...n){if(e=an(e),arguments.length===1&&(t=nb.R()),Yb("doc","path",t),e instanceof wf){const r=Ze.fromString(t,...n);return ug(r),new zt(e,null,new re(r))}{if(!(e instanceof zt||e instanceof Ar))throw new ne(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ze.fromString(t,...n));return ug(r),new zt(e.firestore,e instanceof Ar?e.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Ab(this,"async_queue_retry"),this.Fu=()=>{const n=ic();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.vo.To()};const t=ic();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Bu(),this.Lu(t)}enterRestrictedMode(t){if(!this.xu){this.xu=!0,this.Ou=t||!1;const n=ic();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Fu)}}enqueue(t){if(this.Bu(),this.xu)return new Promise(()=>{});const n=new Cr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Cu.push(t),this.qu()))}async qu(){if(this.Cu.length!==0){try{await this.Cu[0](),this.Cu.shift(),this.vo.reset()}catch(t){if(!Jo(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}this.Cu.length>0&&this.vo.po(()=>this.qu())}}Lu(t){const n=this.Du.then(()=>(this.Mu=!0,t().catch(r=>{this.ku=r,this.Mu=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Mu=!1,r))));return this.Du=n,n}enqueueAfterDelay(t,n,r){this.Bu(),this.$u.indexOf(t)>-1&&(n=0);const s=pf.createAndSchedule(this,t,n,r,i=>this.Uu(i));return this.Nu.push(s),s}Bu(){this.ku&&fe()}verifyOperationInProgress(){}async Ku(){let t;do t=this.Du,await t;while(t!==this.Du)}Gu(t){for(const n of this.Nu)if(n.timerId===t)return!0;return!1}Qu(t){return this.Ku().then(()=>{this.Nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Ku()})}ju(t){this.$u.push(t)}Uu(t){const n=this.Nu.indexOf(t);this.Nu.splice(n,1)}}class _f extends wf{constructor(t,n,r){super(t,n,r),this.type="firestore",this._queue=new ZN,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qb(this),this._firestoreClient.terminate()}}function IU(e=Wh()){return ws(e,"firestore").getImmediate()}function Wb(e){return e._firestoreClient||qb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qb(e){var t;const n=e._freezeSettings(),r=function(s,i,o,a){return new AP(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new WN(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ne(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ui(Tt.fromBase64String(t))}catch(n){throw new ne(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ui(Tt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ne(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ne(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return De(this._lat,t._lat)||De(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/^__.*__$/;class tL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Go(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}function Kb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Sf{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Wu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(t){return new Sf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Hu({path:r,Yu:!1});return s.Xu(t),s}Zu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Hu({path:r,Yu:!1});return s.Wu(),s}tc(t){return this.Hu({path:void 0,Yu:!0})}ec(t){return gl(t,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Wu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Xu(this.path.get(t))}Xu(t){if(t.length===0)throw this.ec("Document fields must not be empty");if(Kb(this.zu)&&eL.test(t))throw this.ec('Document fields cannot begin and end with "__"')}}class nL{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||wu(t)}ic(t,n,r,s=!1){return new Sf({zu:t,methodName:n,sc:r,path:$t.emptyPath(),Yu:!1,nc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function rL(e){const t=e._freezeSettings(),n=wu(e._databaseId);return new nL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sL(e,t,n,r,s,i={}){const o=e.ic(i.merge||i.mergeFields?2:0,t,n,s);Qb("Data must be an object, but it was:",o,r);const a=Xb(r,o);let l,u;if(i.merge)l=new sh(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const h of i.mergeFields){const d=iL(t,h,n);if(!o.contains(d))throw new ne(O.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);aL(c,d)||c.push(d)}l=new sh(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new tL(new fn(a),l,u)}function Gb(e,t){if(Jb(e=an(e)))return Qb("Unsupported field value:",t,e),Xb(e,t);if(e instanceof zb)return function(n,r){if(!Kb(r.zu))throw r.ec(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ec(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&t.zu!==4)throw t.ec("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=Gb(o,r.tc(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if((n=an(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zP(r.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=qt.fromDate(n);return{timestampValue:fl(r.M,s)}}if(n instanceof qt){const s=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fl(r.M,s)}}if(n instanceof Tf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ui)return{bytesValue:_b(r.M,n._byteString)};if(n instanceof zt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.ec(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:of(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ec(`Unsupported field value: ${yf(n)}`)}(e,t)}function Xb(e,t){const n={};return rb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ti(e,(r,s)=>{const i=Gb(s,t.Ju(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Jb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof Tf||e instanceof ui||e instanceof zt||e instanceof zb)}function Qb(e,t,n){if(!Jb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=yf(n);throw r==="an object"?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function iL(e,t,n){if((t=an(t))instanceof Ef)return t._internalPath;if(typeof t=="string")return Zb(e,t);throw gl("Field path arguments must be of type string or ",e,!1,void 0,n)}const oL=new RegExp("[~\\*/\\[\\]]");function Zb(e,t,n){if(t.search(oL)>=0)throw gl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ef(...t.split("."))._internalPath}catch{throw gl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gl(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(O.INVALID_ARGUMENT,a+e+l)}function aL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(t_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lL extends e_{data(){return super.data()}}function t_(e,t){return typeof t=="string"?Zb(e,t):t instanceof Ef?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class n_ extends e_{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(t_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cL extends n_{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{convertValue(t,n="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(si(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw fe()}}convertObject(t,n){const r={};return Ti(t.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Tf(ot(t.latitude),ot(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ib(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const n=xr(t);return new qt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ze.fromString(t);Be(Ib(r));const s=new ii(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Dr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){e=ml(e,zt);const t=ml(e.firestore,_f);return JN(Wb(t),e._key).then(n=>mL(t,e,n))}class fL extends hL{constructor(t){super(),this.firestore=t}convertBytes(t){return new ui(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function CU(e,t,n){e=ml(e,zt);const r=ml(e.firestore,_f),s=dL(e.converter,t,n);return pL(r,[sL(rL(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,zs.none())])}function pL(e,t){return function(n,r){const s=new Cr;return n.asyncQueue.enqueueAndForget(async()=>PN(await GN(n),r,s)),s.promise}(Wb(e),t)}function mL(e,t,n){const r=n.docs.get(t._key),s=new fL(e);return new n_(e,s,t._key,r,new uL(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Ei=n})(Ro),Pn(new yn("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new _f(s,new bP(n.getProvider("auth-internal")),new SP(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC")),sn(Nm,"3.4.6",e),sn(Nm,"3.4.6","esm2017")})();var ci=Object.assign;function dg(e,t){Object.entries(t).forEach(([n,r])=>{e.style[n]=r})}const gL={disappearEasing:"cubic-bezier(0.4, 0, 0.2, 1)",disappearDuration:".7s",appearEasing:"cubic-bezier(0.16, 1, 0.3, 1)",appearDuration:".8s",class:null,disabled:!1,center:!1,self:!1,noNested:!0,radius:null};function fg(e){return ci(ci({},gL),e)}const pg=(e,t,n,r)=>{const s=e.getBoundingClientRect(),i=t.radius||function(u,c,h,d){const[f,p]=[[h,u],[d,c]].map(([g,y])=>g>y/2?g:y-g);return(f**2+p**2)**.5}(s.width,s.height,n,r),o=function(u,c){const h=document.createElement("div");return h.className=u.class||"",h.style.borderRadius="99999px",h.style.transition=`transform ${u.appearDuration} ${u.appearEasing}`,h.style.transformOrigin="center center",h.style.transform="scale(0)",h.style.position="absolute",h.style.width=h.style.height=2*c+"px",dg(h,u.circleStyle||{}),h}(t,i);(function(u,c,h,d){[u.style.left,u.style.top]=[c-d,h-d].map(f=>`${f}px`)})(o,n,r,i);const a=function(u){const c=document.createElement("div");return c.style.pointerEvents="none",c.style.position="absolute",c.style.overflow="hidden",c.style.borderRadius="inherit",c.style.transition=`opacity ${u.disappearDuration} ${u.disappearEasing}`,c.style.margin="0",c.style.padding="0",["left","top","right","bottom"].forEach(h=>{c.style[h]="0"}),dg(c,u.containerStyle||{}),c}(t);var l;return a.appendChild(o),e.appendChild(a),l=()=>{o.style.transform="scale(1)"},new Promise(u=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{u(),l&&l()})})}),{hide(){a.style.opacity="0",a.addEventListener("transitionend",u=>{u.target===a&&e.removeChild(a)})}}};function r_(e,t=0){if(t>1e3)return function(...r){console.warn("[Ripple]",...r)}("noNested alghorithm error - max calls stack size exceeded"),null;if(function(r){return r.dataset.vRippleMark===""}(e))return e;const n=e.parentElement;return n?r_(n,t+1):null}function mg(e,t){return ci(ci({},e),t)}function gg(e){var t,n,r,s,i,o;return ci(ci({},e.value),{self:(n=e.modifiers.self)!=null?n:(t=e.value)==null?void 0:t.self,center:(s=e.modifiers.center)!=null?s:(r=e.value)==null?void 0:r.center,noNested:(o=e.modifiers["no-nested"])!=null?o:(i=e.value)==null?void 0:i.noNested})}function AU(e){const t=new WeakMap;return{mounted(n,r){const s=gg(r),i=function(o,a){let l=fg(a);const u=h=>l.center?function(d){const f=d.getBoundingClientRect();return[f.width/2,f.height/2]}(o):function(d,f){const p=d.getBoundingClientRect();return[f.clientX-p.x,f.clientY-p.y]}(o,h),c=h=>{if(l.disabled||l.self&&h.target!==o)return;if(l.noNested&&h.target&&h.target!==o){const y=r_(h.target);if(y&&y!==o)return}let d=pg(o,l,...u(h));const f=()=>{d==null||d.hide(),window.removeEventListener("mouseup",f),o.removeEventListener("mouseleave",g),o.removeEventListener("mouseenter",p)},p=y=>{d=pg(o,l,...u(y))},g=()=>{d&&(d.hide(),d=null)};window.addEventListener("mouseup",f),o.addEventListener("mouseleave",g),o.addEventListener("mouseenter",p)};return function(h){h.dataset.vRippleMark=""}(o),getComputedStyle(o).position==="static"&&(o.style.position="relative"),o.addEventListener("mousedown",c),{updateOptions(h){l=fg(h)},unbind(){o.removeEventListener("mousedown",c),function(h){delete h.dataset.vRippleMark}(o)}}}(n,mg(e,s));t.set(n,i)},beforeUpdate(n,r){const s=t.get(n);if(s){const i=gg(r),o=mg(e,i);s.updateOptions(o)}},unmounted(n){const r=t.get(n);r&&(t.delete(n),r.unbind())}}}var vL="firebase",yL="9.6.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(vL,yL,"app");const s_="@firebase/installations",If="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=1e4,o_=`w:${If}`,a_="FIS_v2",wL="https://firebaseinstallations.googleapis.com/v1",bL=60*60*1e3,_L="installations",EL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ps=new ys(_L,EL,TL);function l_(e){return e instanceof sr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_({projectId:e}){return`${wL}/projects/${e}/installations`}function c_(e){return{token:e.token,requestStatus:2,expiresIn:IL(e.expiresIn),creationTime:Date.now()}}async function h_(e,t){const r=(await t.json()).error;return ps.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function d_({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function SL(e,{refreshToken:t}){const n=d_(e);return n.append("Authorization",kL(t)),n}async function f_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function IL(e){return Number(e.replace("s","000"))}function kL(e){return`${a_} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=u_(e),s=d_(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:a_,appId:e.appId,sdkVersion:o_},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await f_(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:c_(u.authToken)}}else throw await h_("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=/^[cdef][\w-]{21}$/,vh="";function RL(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=DL(e);return OL.test(n)?n:vh}catch{return vh}}function DL(e){return AL(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function g_(e,t){const n=Eu(e);v_(n,t),xL(n,t)}function v_(e,t){const n=m_.get(e);if(!!n)for(const r of n)r(t)}function xL(e,t){const n=PL();n&&n.postMessage({key:e,fid:t}),ML()}let Jr=null;function PL(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=e=>{v_(e.data.key,e.data.fid)}),Jr}function ML(){m_.size===0&&Jr&&(Jr.close(),Jr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebase-installations-database",LL=1,ms="firebase-installations-store";let oc=null;function kf(){return oc||(oc=iy(NL,LL,(e,t)=>{switch(t){case 0:e.createObjectStore(ms)}})),oc}async function vl(e,t){const n=Eu(e),s=(await kf()).transaction(ms,"readwrite"),i=s.objectStore(ms),o=await i.get(n);return await i.put(t,n),await s.complete,(!o||o.fid!==t.fid)&&g_(e,t.fid),t}async function y_(e){const t=Eu(e),r=(await kf()).transaction(ms,"readwrite");await r.objectStore(ms).delete(t),await r.complete}async function Tu(e,t){const n=Eu(e),s=(await kf()).transaction(ms,"readwrite"),i=s.objectStore(ms),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.complete,a&&(!o||o.fid!==a.fid)&&g_(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(e){let t;const n=await Tu(e.appConfig,r=>{const s=FL(r),i=UL(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===vh?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function FL(e){const t=e||{fid:RL(),registrationStatus:0};return w_(t)}function UL(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ps.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=$L(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:VL(e)}:{installationEntry:t}}async function $L(e,t){try{const n=await CL(e,t);return vl(e.appConfig,n)}catch(n){throw l_(n)&&n.customData.serverCode===409?await y_(e.appConfig):await vl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function VL(e){let t=await vg(e.appConfig);for(;t.registrationStatus===1;)await p_(100),t=await vg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Cf(e);return r||n}return t}function vg(e){return Tu(e,t=>{if(!t)throw ps.create("installation-not-found");return w_(t)})}function w_(e){return jL(e)?{fid:e.fid,registrationStatus:0}:e}function jL(e){return e.registrationStatus===1&&e.registrationTime+i_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL({appConfig:e,heartbeatServiceProvider:t},n){const r=HL(e,n),s=SL(e,n),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:o_,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await f_(()=>fetch(r,a));if(l.ok){const u=await l.json();return c_(u)}else throw await h_("Generate Auth Token",l)}function HL(e,{fid:t}){return`${u_(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(e,t=!1){let n;const r=await Tu(e.appConfig,i=>{if(!b_(i))throw ps.create("not-registered");const o=i.authToken;if(!t&&qL(o))return i;if(o.requestStatus===1)return n=YL(e,t),i;{if(!navigator.onLine)throw ps.create("app-offline");const a=KL(i);return n=WL(e,a),a}});return n?await n:r.authToken}async function YL(e,t){let n=await yg(e.appConfig);for(;n.authToken.requestStatus===1;)await p_(100),n=await yg(e.appConfig);const r=n.authToken;return r.requestStatus===0?Af(e,t):r}function yg(e){return Tu(e,t=>{if(!b_(t))throw ps.create("not-registered");const n=t.authToken;return GL(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function WL(e,t){try{const n=await BL(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await vl(e.appConfig,r),n}catch(n){if(l_(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await y_(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await vl(e.appConfig,r)}throw n}}function b_(e){return e!==void 0&&e.registrationStatus===2}function qL(e){return e.requestStatus===2&&!zL(e)}function zL(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+bL}function KL(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function GL(e){return e.requestStatus===1&&e.requestTime+i_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(e){const t=e,{installationEntry:n,registrationPromise:r}=await Cf(t);return r?r.catch(console.error):Af(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(e,t=!1){const n=e;return await QL(n),(await Af(n,t)).token}async function QL(e){const{registrationPromise:t}=await Cf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(e){if(!e||!e.options)throw ac("App Configuration");if(!e.name)throw ac("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ac(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ac(e){return ps.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="installations",eF="installations-internal",tF=e=>{const t=e.getProvider("app").getImmediate(),n=ZL(t),r=ws(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nF=e=>{const t=e.getProvider("app").getImmediate(),n=ws(t,__).getImmediate();return{getId:()=>XL(n),getToken:s=>JL(n,s)}};function rF(){Pn(new yn(__,tF,"PUBLIC")),Pn(new yn(eF,nF,"PRIVATE"))}rF();sn(s_,If);sn(s_,If,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="analytics",sF="firebase_id",iF="origin",oF=60*1e3,aF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new Pl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function lF(e,t){const n=document.createElement("script");n.src=`${E_}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function uF(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function cF(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await T_(n)).find(u=>u.measurementId===s);l&&await t[l.appId]}}catch(a){Kt.error(a)}e("config",s,i)}async function hF(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await T_(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&t[u.appId];if(c)i.push(c);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Kt.error(i)}}function dF(e,t,n,r){async function s(i,o,a){try{i==="event"?await hF(e,t,n,o,a):i==="config"?await cF(e,t,n,r,o,a):e("set",o)}catch(l){Kt.error(l)}}return s}function fF(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=dF(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function pF(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(E_))return t;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},on=new ys("analytics","Analytics",mF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=30,vF=1e3;class yF{constructor(t={},n=vF){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const S_=new yF;function wF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bF(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:wF(r)},i=aF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function _F(e,t=S_,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw on.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw on.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new SF;return setTimeout(async()=>{a.abort()},n!==void 0?n:oF),I_({appId:r,apiKey:s,measurementId:i},o,a,t)}async function I_(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=S_){const{appId:i,measurementId:o}=e;try{await EF(r,t)}catch(a){if(o)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:i,measurementId:o};throw a}try{const a=await bF(e);return s.deleteThrottleMetadata(i),a}catch(a){if(!TF(a)){if(s.deleteThrottleMetadata(i),o)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:i,measurementId:o};throw a}const l=Number(a.customData.httpStatus)===503?Bp(n,s.intervalMillis,gF):Bp(n,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return s.setThrottleMetadata(i,u),Kt.debug(`Calling attemptFetch again in ${l} millis`),I_(e,u,r,s)}}function EF(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(on.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function TF(e){if(!(e instanceof sr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class SF{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(){if(ty())try{await ny()}catch(e){return Kt.warn(on.create("indexeddb-unavailable",{errorInfo:e}).message),!1}else return Kt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kF(e,t,n,r,s,i,o){var a;const l=_F(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Kt.error(f)),t.push(l);const u=IF().then(f=>{if(f)return r.getId()}),[c,h]=await Promise.all([l,u]);pF()||lF(i,c.measurementId),s("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[iF]="firebase",d.update=!0,h!=null&&(d[sF]=h),s("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(t){this.app=t}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}}let Zi={},wg=[];const bg={};let lc="dataLayer",AF="gtag",_g,k_,Eg=!1;function OF(){const e=[];if(Hh()&&e.push("This is a browser extension environment."),XI()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=on.create("invalid-analytics-context",{errorInfo:t});Kt.warn(n.message)}}function RF(e,t,n){OF();const r=e.options.appId;if(!r)throw on.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(Zi[r]!=null)throw on.create("already-exists",{id:r});if(!Eg){uF(lc);const{wrappedGtag:i,gtagCore:o}=fF(Zi,wg,bg,lc,AF);k_=i,_g=o,Eg=!0}return Zi[r]=kF(e,wg,bg,t,_g,lc,n),new CF(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o=Object.assign(Object.assign({},r),{send_to:i});e("event",n,o)}}function OU(e=Wh()){e=an(e);const t=ws(e,yl);return t.isInitialized()?t.getImmediate():xF(e)}function xF(e,t={}){const n=ws(e,yl);if(n.isInitialized()){const s=n.getImmediate();if(ao(t,n.getOptions()))return s;throw on.create("already-initialized")}return n.initialize({options:t})}function PF(e,t,n,r){e=an(e),DF(k_,Zi[e.app.options.appId],t,n,r).catch(s=>Kt.error(s))}const Tg="@firebase/analytics",Sg="0.7.6";function MF(){Pn(new yn(yl,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return RF(r,s,n)},"PUBLIC")),Pn(new yn("analytics-internal",e,"PRIVATE")),sn(Tg,Sg),sn(Tg,Sg,"esm2017");function e(t){try{const n=t.getProvider(yl).getImmediate();return{logEvent:(r,s,i)=>PF(n,r,s,i)}}catch(n){throw on.create("interop-component-reg-failed",{reason:n})}}}MF();export{WF as $,bl as A,qF as B,Co as C,UF as D,LF as E,bT as F,mU as G,BF as H,wT as I,$ as J,et as K,eU as L,cv as M,nU as N,kt as O,bE as P,vs as Q,IU as R,SU as S,Av as T,TU as U,kU as V,EU as W,YF as X,CU as Y,sU as Z,gU as _,yt as a,Ye as a0,nS as a1,zF as a2,tn as a3,aU as a4,KF as a5,HF as a6,wr as a7,br as a8,JF as a9,XF as aa,fU as ab,uA as ac,pU as ad,dU as ae,hA as af,lU as ag,OU as ah,GF as ai,AU as aj,iU as ak,M as b,jF as c,oU as d,F as e,Ry as f,hU as g,uU as h,ie as i,bU as j,_U as k,QF as l,rU as m,tU as n,ko as o,VF as p,On as q,$F as r,cU as s,Tv as t,ZF as u,FF as v,RE as w,wU as x,vU as y,yU as z};
